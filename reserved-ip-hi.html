<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>डिजिटलओशन रिजर्व्ड आईपी प्रबंधित करना</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>डिजिटलओशन रिजर्व्ड आईपी प्रबंधित करना | Zhiwei Li</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="डिजिटलओशन रिजर्व्ड आईपी प्रबंधित करना" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="hi" />
<meta name="description" content="यह एक सामान्य चुनौती है कि सर्वर के IP पते Great Firewall (GFW) द्वारा आसानी से ब्लॉक किए जा सकते हैं। यह विशेष रूप से क्लाउड सर्वर के लिए सच है। इससे निपटने के लिए एक रणनीति यह है कि DigitalOcean के आरक्षित IP का उपयोग किया जाए और जब वर्तमान IP ब्लॉक हो जाए तो इसे अपने droplet पर पुनः असाइन किया जाए। यह पोस्ट इस प्रक्रिया को स्वचालित करने के लिए एक Python स्क्रिप्ट का परिचय देती है। यह स्क्रिप्ट GitHub पर भी उपलब्ध है।" />
<meta property="og:description" content="यह एक सामान्य चुनौती है कि सर्वर के IP पते Great Firewall (GFW) द्वारा आसानी से ब्लॉक किए जा सकते हैं। यह विशेष रूप से क्लाउड सर्वर के लिए सच है। इससे निपटने के लिए एक रणनीति यह है कि DigitalOcean के आरक्षित IP का उपयोग किया जाए और जब वर्तमान IP ब्लॉक हो जाए तो इसे अपने droplet पर पुनः असाइन किया जाए। यह पोस्ट इस प्रक्रिया को स्वचालित करने के लिए एक Python स्क्रिप्ट का परिचय देती है। यह स्क्रिप्ट GitHub पर भी उपलब्ध है।" />
<link rel="canonical" href="https://lzwjava.github.io/reserved-ip-hi" />
<meta property="og:url" content="https://lzwjava.github.io/reserved-ip-hi" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-01-14T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="डिजिटलओशन रिजर्व्ड आईपी प्रबंधित करना" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2025-01-14T00:00:00+08:00","datePublished":"2025-01-14T00:00:00+08:00","description":"यह एक सामान्य चुनौती है कि सर्वर के IP पते Great Firewall (GFW) द्वारा आसानी से ब्लॉक किए जा सकते हैं। यह विशेष रूप से क्लाउड सर्वर के लिए सच है। इससे निपटने के लिए एक रणनीति यह है कि DigitalOcean के आरक्षित IP का उपयोग किया जाए और जब वर्तमान IP ब्लॉक हो जाए तो इसे अपने droplet पर पुनः असाइन किया जाए। यह पोस्ट इस प्रक्रिया को स्वचालित करने के लिए एक Python स्क्रिप्ट का परिचय देती है। यह स्क्रिप्ट GitHub पर भी उपलब्ध है।","headline":"डिजिटलओशन रिजर्व्ड आईपी प्रबंधित करना","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/reserved-ip-hi"},"url":"https://lzwjava.github.io/reserved-ip-hi"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og13.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og13.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       डिजिटलओशन रिजर्व्ड आईपी प्रबंधित करना | मूल, AI द्वारा अनुवादित
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/hi/2025-01-14-reserved-ip-hi.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postshi2025-01-14-reserved-ip-hi.md</span> -->
      

      <!-- <span>2025-01-14-reserved-ip-hi.md</span> -->

      
        

        
          
          <a href="#" class="button">2025.01</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/reserved-ip-en" >English</option>
        <option value="/reserved-ip-zh" >中文</option>
        <option value="/reserved-ip-ja" >日本語</option>
        <option value="/reserved-ip-es" >Español</option>
        <option value="/reserved-ip-hi" selected>हिंदी</option>
        <option value="/reserved-ip-fr" >Français</option>
        <option value="/reserved-ip-de" >Deutsch</option>
        <option value="/reserved-ip-ar" >العربية</option>
        <option value="/reserved-ip-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>यह एक सामान्य चुनौती है कि सर्वर के IP पते Great Firewall (GFW) द्वारा आसानी से ब्लॉक किए जा सकते हैं। यह विशेष रूप से क्लाउड सर्वर के लिए सच है। इससे निपटने के लिए एक रणनीति यह है कि DigitalOcean के आरक्षित IP का उपयोग किया जाए और जब वर्तमान IP ब्लॉक हो जाए तो इसे अपने droplet पर पुनः असाइन किया जाए। यह पोस्ट इस प्रक्रिया को स्वचालित करने के लिए एक Python स्क्रिप्ट का परिचय देती है। यह स्क्रिप्ट <a href="https://github.com/lzwjava/auto-ss-config">GitHub</a> पर भी उपलब्ध है।</p>

<p>स्क्रिप्ट आपको यह करने की अनुमति देती है:</p>

<ul>
  <li>जांचें कि क्या एक आरक्षित IP किसी विशिष्ट droplet को असाइन किया गया है।</li>
  <li>यदि वर्तमान IP ब्लॉक हो गया है तो एक नया आरक्षित IP droplet को पुनः असाइन करें।</li>
  <li>जांचें कि आरक्षित IP पर पोर्ट 80 खुला है या नहीं (यह जांचने का एक सरल तरीका है कि IP काम कर रहा है या नहीं)।</li>
</ul>

<p>यहां Python स्क्रिप्ट दी गई है:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">socket</span>
<span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">argparse</span>
<span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">requests</span>
<span class="kn">import</span> <span class="n">time</span>

<span class="c1"># DigitalOcean API हेडर प्राप्त करने के लिए फ़ंक्शन
</span><span class="k">def</span> <span class="nf">get_digitalocean_headers</span><span class="p">():</span>
    <span class="n">api_key</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">DO_API_KEY</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">api_key</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Error: DO_API_KEY environment variables में नहीं मिला।</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="sh">"</span><span class="s">Authorization</span><span class="sh">"</span><span class="p">:</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Bearer </span><span class="si">{</span><span class="n">api_key</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">Content-Type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">application/json</span><span class="sh">"</span>
    <span class="p">}</span>

<span class="c1"># DigitalOcean से सभी आरक्षित IP प्राप्त करने के लिए फ़ंक्शन
</span><span class="k">def</span> <span class="nf">fetch_reserved_ips</span><span class="p">():</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="nf">get_digitalocean_headers</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">headers</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://api.digitalocean.com/v2/reserved_ips</span><span class="sh">"</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
        <span class="n">resp</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>
        <span class="n">reserved_ips_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">.</span><span class="nf">json</span><span class="p">().</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">reserved_ips</span><span class="sh">"</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">response.json</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span><span class="n">reserved_ips_data</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># डिबगिंग के लिए प्रतिक्रिया को एक फ़ाइल में सहेजें
</span>        <span class="k">return</span> <span class="n">reserved_ips_data</span>
    <span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">आरक्षित IP पता प्राप्त करने में त्रुटि: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># एक droplet से आरक्षित IP को अनअसाइन करने के लिए फ़ंक्शन
</span><span class="k">def</span> <span class="nf">unassign_ip_from_droplet</span><span class="p">(</span><span class="n">ip_address</span><span class="p">,</span> <span class="n">droplet_id</span><span class="p">,</span> <span class="n">droplet_name</span><span class="p">):</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="nf">get_digitalocean_headers</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">headers</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">https://api.digitalocean.com/v2/reserved_ips/</span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="sh">"</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
        <span class="n">resp</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">IP </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> को droplet </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> से सफलतापूर्वक हटा दिया गया।</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">IP </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> को droplet </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> से हटाने में त्रुटि: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>

<span class="c1"># एक droplet को आरक्षित IP असाइन करने के लिए फ़ंक्शन
</span><span class="k">def</span> <span class="nf">assign_ip_to_droplet</span><span class="p">(</span><span class="n">ip_address</span><span class="p">,</span> <span class="n">droplet_id</span><span class="p">,</span> <span class="n">droplet_name</span><span class="p">):</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="nf">get_digitalocean_headers</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">headers</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">https://api.digitalocean.com/v2/reserved_ips/</span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s">/actions</span><span class="sh">"</span>
        <span class="n">req</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">type</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">assign</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">droplet_id</span><span class="sh">"</span><span class="p">:</span> <span class="n">droplet_id</span>
        <span class="p">}</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">req</span><span class="p">)</span>
        <span class="n">resp</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">IP </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> को droplet </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> को सफलतापूर्वक असाइन किया गया।</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">IP </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> को droplet </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> को असाइन करने में त्रुटि: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>

<span class="c1"># आरक्षित IP को प्रोसेस करने, असाइनमेंट की जांच करने और यदि आवश्यक हो तो पुनः असाइन करने के लिए फ़ंक्शन
</span><span class="k">def</span> <span class="nf">process_reserved_ips</span><span class="p">(</span><span class="n">reserved_ips</span><span class="p">,</span> <span class="n">droplet_name</span><span class="p">,</span> <span class="n">only_check</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">reserved_ips</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">आपके खाते में कोई आरक्षित IP नहीं मिला।</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">for</span> <span class="n">reserved_ip</span> <span class="ow">in</span> <span class="n">reserved_ips</span><span class="p">:</span>
        <span class="n">ip_address</span> <span class="o">=</span> <span class="n">reserved_ip</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">ip</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ip_address</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">एक आरक्षित IP के लिए कोई IP पता नहीं मिला।</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">droplet</span> <span class="o">=</span> <span class="n">reserved_ip</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">droplet</span><span class="sh">"</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">droplet_name</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">droplet</span> <span class="ow">and</span> <span class="n">droplet</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="n">droplet_name</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">आरक्षित IP </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> droplet: </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> को असाइन किया गया है।</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">only_check</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nf">check_port_80</span><span class="p">(</span><span class="n">ip_address</span><span class="p">):</span>
                        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Port 80 </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> पर droplet </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> के लिए खुला है।</span><span class="sh">"</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Port 80 </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> पर droplet </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> के लिए बंद है।</span><span class="sh">"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">ip_address</span>
                <span class="n">droplet_id</span> <span class="o">=</span> <span class="n">droplet</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">id</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">droplet_id</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nf">unassign_ip_from_droplet</span><span class="p">(</span><span class="n">ip_address</span><span class="p">,</span> <span class="n">droplet_id</span><span class="p">,</span> <span class="n">droplet_name</span><span class="p">):</span>
                        <span class="c1"># अनअसाइन करने के बाद एक नया IP असाइन करने का प्रयास करें
</span>                        
                        <span class="n">new_ip</span> <span class="o">=</span> <span class="nf">create_new_reserved_ip</span><span class="p">(</span><span class="n">droplet_id</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">new_ip</span><span class="p">:</span>
                            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">नया IP असाइन करने से पहले 10 सेकंड के लिए सो रहा है...</span><span class="sh">"</span><span class="p">)</span>
                            <span class="n">time</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
                            <span class="k">if</span> <span class="nf">assign_ip_to_droplet</span><span class="p">(</span><span class="n">new_ip</span><span class="p">,</span> <span class="n">droplet_id</span><span class="p">,</span> <span class="n">droplet_name</span><span class="p">):</span>
                                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">नया IP </span><span class="si">{</span><span class="n">new_ip</span><span class="si">}</span><span class="s"> को droplet </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> को सफलतापूर्वक असाइन किया गया।</span><span class="sh">"</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">नया IP </span><span class="si">{</span><span class="n">new_ip</span><span class="si">}</span><span class="s"> को droplet </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> को असाइन करने में विफल।</span><span class="sh">"</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">असाइन करने के लिए कोई उपलब्ध IP नहीं है।</span><span class="sh">"</span><span class="p">)</span>
                    
                <span class="k">else</span><span class="p">:</span>
                    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">IP </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> को अनअसाइन नहीं किया जा सका क्योंकि droplet ID नहीं मिला।</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">None</span>
            <span class="k">elif</span> <span class="n">droplet</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">आरक्षित IP </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> droplet: </span><span class="si">{</span><span class="n">droplet_name</span><span class="si">}</span><span class="s"> को असाइन नहीं किया गया है।</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">आरक्षित IP: </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s"> को कोई droplet असाइन नहीं किया गया है।</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ip_address</span>
    <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># एक नया आरक्षित IP बनाने के लिए फ़ंक्शन
</span><span class="k">def</span> <span class="nf">create_new_reserved_ip</span><span class="p">(</span><span class="n">droplet_id</span><span class="p">):</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="nf">get_digitalocean_headers</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">headers</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">DigitalOcean हेडर प्राप्त करने में विफल।</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://api.digitalocean.com/v2/reserved_ips</span><span class="sh">"</span>
        <span class="n">req</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">region</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">sgp1</span><span class="sh">"</span><span class="p">,</span> <span class="c1"># यदि आवश्यक हो तो आप क्षेत्र बदल सकते हैं
</span>        <span class="p">}</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Droplet ID: </span><span class="si">{</span><span class="n">droplet_id</span><span class="si">}</span><span class="s"> के लिए एक नया आरक्षित IP बनाने का प्रयास कर रहा है।</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">req</span><span class="p">)</span>
        <span class="n">resp</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>
        <span class="n">new_ip</span> <span class="o">=</span> <span class="n">resp</span><span class="p">.</span><span class="nf">json</span><span class="p">().</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">reserved_ip</span><span class="sh">"</span><span class="p">,</span> <span class="p">{}).</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">ip</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">नया आरक्षित IP सफलतापूर्वक बनाया गया: </span><span class="si">{</span><span class="n">new_ip</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_ip</span>
    <span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">नया आरक्षित IP बनाने में त्रुटि: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>

<span class="c1"># एक IP पते पर पोर्ट 80 खुला है या नहीं, यह जांचने के लिए फ़ंक्शन
</span><span class="k">def</span> <span class="nf">check_port_80</span><span class="p">(</span><span class="n">ip_address</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">socket</span><span class="p">.</span><span class="nf">socket</span><span class="p">(</span><span class="n">socket</span><span class="p">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="p">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
            <span class="n">s</span><span class="p">.</span><span class="nf">settimeout</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">s</span><span class="p">.</span><span class="nf">connect</span><span class="p">((</span><span class="n">ip_address</span><span class="p">,</span> <span class="mi">80</span><span class="p">))</span>
            <span class="k">return</span> <span class="bp">True</span>
    <span class="k">except</span> <span class="nb">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>

<span class="c1"># आरक्षित IP प्राप्त करने के लिए मुख्य फ़ंक्शन
</span><span class="k">def</span> <span class="nf">get_reserved_ip</span><span class="p">(</span><span class="n">droplet_name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">only_check</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="n">reserved_ips</span> <span class="o">=</span> <span class="nf">fetch_reserved_ips</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">reserved_ips</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">return</span> <span class="nf">process_reserved_ips</span><span class="p">(</span><span class="n">reserved_ips</span><span class="p">,</span> <span class="n">droplet_name</span><span class="p">,</span> <span class="n">only_check</span><span class="p">)</span>
    
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">DigitalOcean आरक्षित IP पता प्राप्त करें।</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--droplet-name</span><span class="sh">"</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="nb">help</span><span class="o">=</span><span class="sh">"</span><span class="s">यह जांचने के लिए droplet का नाम कि आरक्षित IP इस droplet को असाइन किया गया है या नहीं।</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">--only-check</span><span class="sh">"</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">"</span><span class="s">store_true</span><span class="sh">"</span><span class="p">,</span> <span class="nb">help</span><span class="o">=</span><span class="sh">"</span><span class="s">केवल जांचें कि IP droplet को असाइन किया गया है या नहीं, पुनः असाइन न करें।</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>

    <span class="n">reserved_ip</span> <span class="o">=</span> <span class="nf">get_reserved_ip</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">droplet_name</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">only_check</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">reserved_ip</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">आरक्षित IP पता है: </span><span class="si">{</span><span class="n">reserved_ip</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>व्याख्या:</strong></p>

<ol>
  <li><strong>लाइब्रेरी आयात करें:</strong> नेटवर्क ऑपरेशन, पर्यावरण चर, तर्क पार्सिंग, JSON हैंडलिंग, HTTP अनुरोध और समय विलंब के लिए आवश्यक लाइब्रेरी आयात करें।</li>
  <li><strong><code class="language-plaintext highlighter-rouge">get_digitalocean_headers()</code>:</strong> पर्यावरण चर से DigitalOcean API कुंजी प्राप्त करें और API अनुरोध के लिए आवश्यक हेडर बनाएं।</li>
  <li><strong><code class="language-plaintext highlighter-rouge">fetch_reserved_ips()</code>:</strong> API का उपयोग करके आपके DigitalOcean खाते से जुड़े सभी आरक्षित IP प्राप्त करें। यह डिबगिंग के लिए कच्ची प्रतिक्रिया को <code class="language-plaintext highlighter-rouge">response.json</code> में भी सहेजता है।</li>
  <li><strong><code class="language-plaintext highlighter-rouge">unassign_ip_from_droplet()</code>:</strong> एक निर्दिष्ट droplet से दिए गए आरक्षित IP को अनअसाइन करें।</li>
  <li><strong><code class="language-plaintext highlighter-rouge">assign_ip_to_droplet()</code>:</strong> एक निर्दिष्ट droplet को दिए गए आरक्षित IP को असाइन करें।</li>
  <li><strong><code class="language-plaintext highlighter-rouge">process_reserved_ips()</code>:</strong> यह मुख्य तर्क है:
    <ul>
      <li>यह सभी आरक्षित IP के माध्यम से पुनरावृत्त करता है।</li>
      <li>यदि <code class="language-plaintext highlighter-rouge">droplet_name</code> प्रदान किया गया है, तो यह जांचता है कि IP उस droplet को असाइन किया गया है या नहीं।</li>
      <li>यदि <code class="language-plaintext highlighter-rouge">only_check</code> सत्य है, तो यह जांचता है कि पोर्ट 80 खुला है और IP लौटाता है।</li>
      <li>यदि <code class="language-plaintext highlighter-rouge">only_check</code> सत्य नहीं है, तो यह वर्तमान IP को अनअसाइन करता है, एक नया बनाता है और नए IP को droplet को असाइन करता है।</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">create_new_reserved_ip()</code>:</strong> <code class="language-plaintext highlighter-rouge">sgp1</code> क्षेत्र में एक नया आरक्षित IP बनाता है (आप इसे बदल सकते हैं)।</li>
  <li><strong><code class="language-plaintext highlighter-rouge">check_port_80()</code>:</strong> दिए गए IP पते पर पोर्ट 80 खुला है या नहीं, यह जांचता है। यह जांचने का एक सरल तरीका है कि IP पहुंच योग्य है या नहीं।</li>
  <li><strong><code class="language-plaintext highlighter-rouge">get_reserved_ip()</code>:</strong> आरक्षित IP प्राप्त करने और प्रोसेस करने की प्रक्रिया को संचालित करता है।</li>
  <li><strong><code class="language-plaintext highlighter-rouge">if __name__ == '__main__':</code>:</strong> कमांड-लाइन तर्क (<code class="language-plaintext highlighter-rouge">--droplet-name</code> और <code class="language-plaintext highlighter-rouge">--only-check</code>) को पार्स करता है और स्क्रिप्ट को निष्पादित करने के लिए <code class="language-plaintext highlighter-rouge">get_reserved_ip</code> को कॉल करता है।</li>
</ol>

<p><strong>उपयोग कैसे करें:</strong></p>

<ol>
  <li><strong>DigitalOcean API कुंजी सेट करें:</strong> अपने DigitalOcean API कुंजी को <code class="language-plaintext highlighter-rouge">DO_API_KEY</code> पर्यावरण चर में सेट करें।</li>
  <li><strong>स्क्रिप्ट चलाएं:</strong>
    <ul>
      <li>यह जांचने के लिए कि क्या एक IP droplet को असाइन किया गया है और पोर्ट 80 खुला है या नहीं:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python your_script_name.py <span class="nt">--droplet-name</span> your_droplet_name <span class="nt">--only-check</span>
</code></pre></div>        </div>
      </li>
      <li>एक नया IP droplet को पुनः असाइन करने के लिए:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python your_script_name.py <span class="nt">--droplet-name</span> your_droplet_name
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ol>

<p>यह स्क्रिप्ट आरक्षित IP प्रबंधन के लिए एक बुनियादी ढांचा प्रदान करती है। आप इसे अपनी विशिष्ट आवश्यकताओं के आधार पर और विस्तारित कर सकते हैं।</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-hi" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>