<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>كشف جدران الحماية العظيمة، وواجهات برمجة التطبيقات الوكية، وكشف شبكات VPN</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>كشف جدران الحماية العظيمة، وواجهات برمجة التطبيقات الوكية، وكشف شبكات VPN | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="كشف جدران الحماية العظيمة، وواجهات برمجة التطبيقات الوكية، وكشف شبكات VPN" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="ar" />
<meta name="description" content="جدول المحتويات" />
<meta property="og:description" content="جدول المحتويات" />
<link rel="canonical" href="https://lzwjava.github.io/proxy-ban-ar" />
<meta property="og:url" content="https://lzwjava.github.io/proxy-ban-ar" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-01-07T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="كشف جدران الحماية العظيمة، وواجهات برمجة التطبيقات الوكية، وكشف شبكات VPN" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2025-01-07T00:00:00+08:00","datePublished":"2025-01-07T00:00:00+08:00","description":"جدول المحتويات","headline":"كشف جدران الحماية العظيمة، وواجهات برمجة التطبيقات الوكية، وكشف شبكات VPN","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/proxy-ban-ar"},"url":"https://lzwjava.github.io/proxy-ban-ar"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=148b604eb0302525951723096f80ed73f6936ca2">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=148b604eb0302525951723096f80ed73f6936ca2" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       كشف جدران الحماية العظيمة، وواجهات برمجة التطبيقات الوكية، وكشف شبكات VPN | أصلي، ترجم بواسطة AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/ar/2025-01-07-proxy-ban-ar.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsar2025-01-07-proxy-ban-ar.md</span> -->
      

      <!-- <span>2025-01-07-proxy-ban-ar.md</span> -->

      
        

        
          
          <a href="#" class="button">2025.01</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/proxy-ban-en" >English</option>
        <option value="/proxy-ban-zh" >中文</option>
        <option value="/proxy-ban-ja" >日本語</option>
        <option value="/proxy-ban-es" >Español</option>
        <option value="/proxy-ban-hi" >हिंदी</option>
        <option value="/proxy-ban-fr" >Français</option>
        <option value="/proxy-ban-de" >Deutsch</option>
        <option value="/proxy-ban-ar" selected>العربية</option>
        <option value="/proxy-ban-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="جدول-المحتويات">جدول المحتويات</h3>

<ol>
  <li><a href="#هل-يمكن-لتطبيقات-ال-api-في-خوادم-الوكيل-تجنب-حظر-جدار-الحماية-العظيم-gfw">هل يمكن لتطبيقات الـ API في خوادم الوكيل تجنب حظر جدار الحماية العظيم (GFW)؟</a>
    <ul>
      <li>خلط حركة مرور الوكيل مع حركة مرور الـ API يتجنب حظر GFW</li>
      <li>GFW يميز بين حركة مرور الوكيل وحركة مرور HTTP/HTTPS الطبيعية</li>
      <li>من المحتمل أن يحظر GFW بناءً على حركة مرور الوكيل الحصرية</li>
      <li>يستخدم GFW نافذة زمنية لتحليل حركة المرور</li>
      <li>الوصول بانتظام إلى الـ API قد يمنع الكشف</li>
    </ul>
  </li>
  <li><a href="#كيف-يعمل-جدار-الحماية-العظيم-gfw">كيف يعمل جدار الحماية العظيم (GFW).</a>
    <ul>
      <li>يسجل GFW الطلبات مع بيانات المصدر والهدف</li>
      <li>يحظر عناوين الـ IP المرتبطة بأنشطة غير قانونية</li>
      <li>يستخدم قواعد للكشف عن بروتوكولات محددة</li>
      <li>يمكن أن يحظر بناءً على نسبة الطلبات غير القانونية</li>
      <li>يستخدم الذكاء الاصطناعي للكشف الذكي عن أنماط حركة المرور</li>
    </ul>
  </li>
  <li><a href="#تحليل-اكتشاف-vpn-في-تطبيق-chatgpt-لنظام-ios">تحليل اكتشف VPN في تطبيق ChatGPT لنظام iOS</a>
    <ul>
      <li>يعمل تطبيق ChatGPT لنظام iOS الآن مع بعض خدمات VPN</li>
      <li>يعتمد الوصول على موقع خادم الـ VPN</li>
      <li>يعتمد الكشف على عناوين الـ IP المحددة</li>
      <li>بعض عناوين مزودي خدمات السحابة محظورة</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="هل-يمكن-لتطبيقات-الـ-api-في-خوادم-الوكيل-تجنب-حظر-جدار-الحماية-العظيم-gfw">هل يمكن لتطبيقات الـ API في خوادم الوكيل تجنب حظر جدار الحماية العظيم (GFW)؟</h2>

<p>أشغل خادمًا بسيطًا على مثيلي لـ Shadowsocks باستخدام الكود التالي:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">jsonify</span>
<span class="kn">from</span> <span class="nn">flask_cors</span> <span class="kn">import</span> <span class="n">CORS</span>
<span class="kn">import</span> <span class="nn">subprocess</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">CORS</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>  <span class="c1"># تمكين CORS لجميع المسارات
</span>
<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/bandwidth'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">'GET'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">get_bandwidth</span><span class="p">():</span>
    <span class="c1"># تشغيل أمر vnstat للحصول على إحصائيات حركة المرور للفترة الزمنية 5 دقائق لـ eth0
</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">run</span><span class="p">([</span><span class="s">'vnstat'</span><span class="p">,</span> <span class="s">'-i'</span><span class="p">,</span> <span class="s">'eth0'</span><span class="p">,</span> <span class="s">'-5'</span><span class="p">,</span> <span class="s">'--json'</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">result</span><span class="p">.</span><span class="n">stdout</span>

    <span class="c1"># إرجاع البيانات المحصورة كاستجابة JSON
</span>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'0.0.0.0'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</code></pre></div></div>

<p>وأستخدم nginx لخدمة المنفذ 443 كما هو موضح أدناه:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server <span class="o">{</span>
    listen 443 ssl<span class="p">;</span>
    server_name www.some-domain.xyz<span class="p">;</span>

    ssl_certificate /etc/letsencrypt/live/www.some-domain.xyz/fullchain.pem<span class="p">;</span> <span class="c"># يدار بواسطة</span>
    <span class="c"># ...</span>
    location / <span class="o">{</span>

        proxy_pass http://127.0.0.1:5000/<span class="p">;</span>
        <span class="c"># ...</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>هذا البرنامج الخادم يوفر بيانات الشبكة، وأستخدم الخادم كخادم وكيل، مما يسمح لي بعرض حالتي عبر الإنترنت على مدونتي باستخدام بيانات الشبكة.</p>

<p>ما هو مثير للاهتمام هو أن الخادم لم يتم حظره من قبل جدار الحماية العظيم (GFW) أو أي نظام آخر للتحكم في الشبكة منذ عدة أيام. عادةً، يتم حظر خادم الوكيل الذي أقوم بإعداده خلال يوم أو يومين. يعمل الخادم ببرنامج Shadowsocks على منفذ مثل 51939، لذلك يعمل بحركة مرور Shadowsocks مختلطة مع حركة مرور الـ API العادية. يبدو أن هذا المختلط يجعل GFW يعتقد أن الخادم ليس وكيلاً مخصصًا، بل خادمًا طبيعيًا، مما يمنع حظر عنوان الـ IP.</p>

<p>هذه الملاحظة مثيرة للاهتمام. يبدو أن GFW يستخدم منطقًا محددًا للتمييز بين حركة مرور الوكيل وحركة المرور الطبيعية. بينما يتم حظر العديد من المواقع مثل تويتر ويوتيوب في الصين، تبقى العديد من المواقع الأجنبية - مثل مواقع الجامعات والشركات الدولية - قابلة للوصول.</p>

<p>هذا يشير إلى أن GFW يعمل على الأرجح بناءً على قواعد تميز بين حركة مرور HTTP/HTTPS الطبيعية وحركة مرورية مرتبطة بالوكيل. يبدو أن الخوادم التي تتعامل مع كلا النوعين من حركة المرور تتجنب الحظر، بينما الخوادم التي تتعامل فقط مع حركة مرور الوكيل من المرجح أكثر أن يتم حظرها.</p>

<p>السؤال هو ما هي الفترة الزمنية التي يستخدمها GFW لتراكم البيانات للحظر - سواء كانت يومًا واحدًا أو ساعة واحدة. خلال هذه الفترة الزمنية، يكشف ما إذا كانت حركة المرور حصرية من وكيل. إذا كانت كذلك، يتم حظر عنوان الـ IP الخاص بالخادم.</p>

<p>أزور مدونتي غالبًا لمراجعة ما كتبته، ولكن في الأسابيع القادمة، ستنتقل تركيزي إلى مهام أخرى بدلاً من كتابة منشورات المدونة. هذا سيقلل من وصولي إلى الـ API <code class="language-plaintext highlighter-rouge">bandwidth</code> عبر المنفذ 443. إذا وجدت أنني تم حظري مرة أخرى، يجب أن أكتب برنامجًا للوصول بانتظام إلى هذا الـ API لخداع GFW.</p>

<hr />

<h2 id="كيف-يعمل-جدار-الحماية-العظيم-gfw">كيف يعمل جدار الحماية العظيم (GFW).</h2>

<h3 id="الخطوة-الأولى-تسجيل-الطلبات">الخطوة الأولى: تسجيل الطلبات</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># قاعدة بيانات لتخزين بيانات الطلبات
</span><span class="n">request_log</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># دالة لتسجيل الطلبات
</span><span class="k">def</span> <span class="nf">log_request</span><span class="p">(</span><span class="n">source_ip</span><span class="p">,</span> <span class="n">target_ip</span><span class="p">,</span> <span class="n">target_port</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
    <span class="n">request_log</span><span class="p">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s">'source_ip'</span><span class="p">:</span> <span class="n">source_ip</span><span class="p">,</span>
        <span class="s">'target_ip'</span><span class="p">:</span> <span class="n">target_ip</span><span class="p">,</span>
        <span class="s">'target_port'</span><span class="p">:</span> <span class="n">target_port</span><span class="p">,</span>
        <span class="s">'body'</span><span class="p">:</span> <span class="n">body</span><span class="p">,</span>
        <span class="s">'timestamp'</span><span class="p">:</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
    <span class="p">})</span>
</code></pre></div></div>

<p>تقوم دالة <code class="language-plaintext highlighter-rouge">log_request</code> بتسجيل الطلبات الواردة مع معلومات أساسية مثل عنوان الـ IP المصدر، عنوان الـ IP الهدف، منفذ الهدف، جسم الطلب، وطابع الزمن.</p>

<h3 id="الخطوة-الثانية-التحقق-من-عناوين-الـ-ip-وحظرها">الخطوة الثانية: التحقق من عناوين الـ IP وحظرها</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># دالة للتحقق من الطلبات وحظر عناوين الـ IP
</span><span class="k">def</span> <span class="nf">check_and_ban_ips</span><span class="p">():</span>
    <span class="n">banned_ips</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="c1"># التكرار عبر جميع الطلبات المسجلة
</span>    <span class="k">for</span> <span class="n">request</span> <span class="ow">in</span> <span class="n">request_log</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_illegal</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
            <span class="n">banned_ips</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">request</span><span class="p">[</span><span class="s">'target_ip'</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">banned_ips</span><span class="p">.</span><span class="n">discard</span><span class="p">(</span><span class="n">request</span><span class="p">[</span><span class="s">'target_ip'</span><span class="p">])</span>

    <span class="c1"># تطبيق الحظر على جميع عناوين الـ IP المحددة
</span>    <span class="n">ban_ips</span><span class="p">(</span><span class="n">banned_ips</span><span class="p">)</span>
</code></pre></div></div>

<p>تقوم دالة <code class="language-plaintext highlighter-rouge">check_and_ban_ips</code> بالتكرار عبر جميع الطلبات المسجلة، وتحديد وحظر عناوين الـ IP المرتبطة بأنشطة غير قانونية.</p>

<h3 id="الخطوة-الثالثة-تعريف-ما-يجعل-الطلب-غير-قانوني">الخطوة الثالثة: تعريف ما يجعل الطلب غير قانوني</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># دالة لمحاكاة التحقق مما إذا كان الطلب غير قانوني
</span><span class="k">def</span> <span class="nf">is_illegal</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1"># العنصر النائب للمنطق الفعلي للتحقق من الطلبات غير القانونية
</span>    <span class="c1"># على سبيل المثال، التحقق من جسم الطلب أو الهدف
</span>    <span class="k">return</span> <span class="s">"illegal"</span> <span class="ow">in</span> <span class="n">request</span><span class="p">[</span><span class="s">'body'</span><span class="p">]</span>
</code></pre></div></div>

<p>هنا، تقوم <code class="language-plaintext highlighter-rouge">is_illegal</code> بالتحقق مما إذا كان جسم الطلب يحتوي على كلمة “illegal”. يمكن توسيع هذا المنطق إلى منطق أكثر تطورًا بناءً على ما يشكل نشاطًا غير قانوني.</p>

<h3 id="الخطوة-الرابعة-حظر-عناوين-الـ-ip-المحددة">الخطوة الرابعة: حظر عناوين الـ IP المحددة</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># دالة لحظر قائمة من عناوين الـ IP
</span><span class="k">def</span> <span class="nf">ban_ips</span><span class="p">(</span><span class="n">ip_set</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">ip</span> <span class="ow">in</span> <span class="n">ip_set</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"حظر عنوان الـ IP: </span><span class="si">{</span><span class="n">ip</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>بعد تحديد عناوين الـ IP غير القانونية، تقوم دالة <code class="language-plaintext highlighter-rouge">ban_ips</code> بحظرها عن طريق طباعة عناوين الـ IP الخاصة بها (أو، في نظام حقيقي، يمكن أن تمنعها).</p>

<h3 id="الخطوة-الخامسة-طريقة-بديلة-للتحقق-من-عناوين-الـ-ip-وحظرها-بناءً-على-80-من-الطلبات-غير-القانونية">الخطوة الخامسة: طريقة بديلة للتحقق من عناوين الـ IP وحظرها بناءً على 80٪ من الطلبات غير القانونية</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># دالة للتحقق من الطلبات وحظر عناوين الـ IP بناءً على 80٪ من الطلبات غير القانونية
</span><span class="k">def</span> <span class="nf">check_and_ban_ips</span><span class="p">():</span>
    <span class="n">banned_ips</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">illegal_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">total_requests</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># التكرار عبر جميع الطلبات المسجلة
</span>    <span class="k">for</span> <span class="n">request</span> <span class="ow">in</span> <span class="n">request_log</span><span class="p">:</span>
        <span class="n">total_requests</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">is_illegal</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
            <span class="n">illegal_count</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># إذا كانت 80٪ أو أكثر من الطلبات غير قانونية، يتم حظر تلك عناوين الـ IP
</span>    <span class="k">if</span> <span class="n">total_requests</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="n">illegal_count</span> <span class="o">/</span> <span class="n">total_requests</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mf">0.8</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">request</span> <span class="ow">in</span> <span class="n">request_log</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_illegal</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
                <span class="n">banned_ips</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">request</span><span class="p">[</span><span class="s">'target_ip'</span><span class="p">])</span>

    <span class="c1"># تطبيق الحظر على جميع عناوين الـ IP المحددة
</span>    <span class="n">ban_ips</span><span class="p">(</span><span class="n">banned_ips</span><span class="p">)</span>
</code></pre></div></div>

<p>تقييم هذه الطريقة البديلة ما إذا كان يجب حظر عنوان الـ IP بناءً على نسبة الطلبات غير القانونية. إذا كانت 80٪ أو أكثر من الطلبات من عنوان الـ IP غير قانونية، يتم حظره.</p>

<h3 id="الخطوة-السادسة-التحقق-المعزز-من-الطلبات-غير-القانونية-على-سبيل-المثال-اكتشف-بروتوكول-shadowsocks-وtrojan">الخطوة السادسة: التحقق المعزز من الطلبات غير القانونية (على سبيل المثال، اكتشف بروتوكول Shadowsocks وTrojan)</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">is_illegal</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1"># التحقق مما إذا كان الطلب يستخدم بروتوكول Shadowsocks (جسم الطلب يحتوي على بيانات مشابهة للثنائية)
</span>    <span class="k">if</span> <span class="n">request</span><span class="p">[</span><span class="s">'target_port'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">443</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_trojan</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">True</span>
    <span class="k">elif</span> <span class="n">is_shadowsocks</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>

<p>تقوم دالة <code class="language-plaintext highlighter-rouge">is_illegal</code> الآن أيضًا بالتحقق من بروتوكولات محددة مثل Shadowsocks وTrojan:</p>
<ul>
  <li><strong>Shadowsocks</strong>: قد نقوم بالتحقق من وجود بيانات مشفرة أو مشابهة للثنائية في جسم الطلب.</li>
  <li><strong>Trojan</strong>: إذا جاء الطلب عبر المنفذ 443 (HTTPS) ومطابق لأنماط محددة (على سبيل المثال، خصائص حركة مرور Trojan)، يتم وضع علامة عليه كغير قانوني.</li>
</ul>

<h3 id="الخطوة-السابعة-مثال-على-الطلبات-القانونية">الخطوة السابعة: مثال على الطلبات القانونية</h3>

<p>على سبيل المثال، طلبات مثل <code class="language-plaintext highlighter-rouge">GET https://some-domain.xyz/bandwidth</code> بالتأكيد قانونية ولن تؤدي إلى تشغيل آلية الحظر.</p>

<h3 id="الخطوة-الثامن-خصائص-حركة-مرور-خادم-الوكيل">الخطوة الثامن: خصائص حركة مرور خادم الوكيل</h3>

<p>لخوادم الوكيل خصائص مختلفة جدًا لحركة المرور مقارنةً بالخوادم الطبيعية للويب أو الـ API. يحتاج GFW إلى التمييز بين حركة مرور خادم الويب الطبيعية وحركة مرور خادم الوكيل، والتي يمكن أن تبدو مختلفة تمامًا.</p>

<h3 id="الخطوة-التاسعة-نماذج-الذكاء-الاصطناعي-والتعلم-الآلي-للكشف-الذكي">الخطوة التاسعة: نماذج الذكاء الاصطناعي والتعلم الآلي للكشف الذكي</h3>

<p>مع التنوع الكبير للطلبات والاستجابات التي تمر عبر الإنترنت، يمكن لـ GFW استخدام نماذج الذكاء الاصطناعي والتعلم الآلي لتحليل أنماط حركة المرور والكشف الذكي عن السلوك غير القانوني. من خلال تدريب النظام على مجموعة متنوعة من أنواع حركة المرور واستخدام تقنيات متقدمة، يمكن أن يحظر أو يرشح حركة المرور بشكل أكثر فعالية بناءً على الأنماط الملاحظة.</p>

<hr />

<h2 id="تحديث">تحديث</h2>

<p>على الرغم من جهودي، يستمر حظر خادم الوكيل الخاص بي. للتخفيف من ذلك، قمت بتنفيذ حل مؤقت باستخدام ميزة الـ IP المعكوسة من Digital Ocean، والتي تسمح لي بتعيين عنوان الـ IP جديد بسرعة كلما حدث حظر.</p>

<hr />

<h2 id="تحليل-اكتشف-vpn-في-تطبيق-chatgpt-لنظام-ios">تحليل اكتشف VPN في تطبيق ChatGPT لنظام iOS</h2>

<p><em>2024.12.26</em></p>

<p>اليوم، اكتشفت أن تطبيق ChatGPT لنظام iOS يسمح الآن بتسجيل الدخول باستخدام الـ VPN في الصين. سابقًا، كان يعرض رسالة حظر مثل تلك الموضحة أدناه.</p>

<p>ومع ذلك، اعتبارًا من اليوم، يعمل بشكل جيد مع الـ VPN.</p>

<p>أتذكر أنه عندما تم إصدار تطبيق ChatGPT لنظام iOS لأول مرة، لم يكن استخدامه مع الـ VPN مشكلة. لاحقًا، أصبح اكتشاف الـ VPN أكثر صرامة، مما جعل من الصعب تسجيل الدخول. لحسن الحظ، يبدو أن هذا القيود قد خففت مؤخرًا.</p>

<p>بعد المزيد من الاختبار، وجدت أنه عند استخدام VPN لمنطقة سنغافورة من DigitalOcean، لم أتمكن من الوصول إلى التطبيق. ومع ذلك، عندما استخدمت خدمات VPN من تايوان أو المملكة المتحدة (المقدمة من https://zhs.cloud)، عملت بشكل مثالي.</p>

<p>يبدو أن اكتشف VPN في تطبيق ChatGPT لنظام iOS يعتمد على عناوين الـ IP المحددة. بعض مزودي خدمات السحابة أو بعض عناوين الـ IP محظورة، مما قد يفسر السلوك غير المتسق اعتمادًا على موقع خادم الـ VPN.</p>

<p><img src="assets/images/chatgpt/block.jpg" alt="" class="responsive" /></p>

<p><img src="assets/images/chatgpt/c1.png" alt="" class="responsive" /></p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-ar" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
