<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>LeanChat iOS

ChatMince iOS</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>LeanChat iOS ChatMince iOS | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="LeanChat iOS ChatMince iOS" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="fr" />
<meta name="description" content="Voici le README.md du projet github https://github.com/lzwjava/leanchat-ios." />
<meta property="og:description" content="Voici le README.md du projet github https://github.com/lzwjava/leanchat-ios." />
<link rel="canonical" href="https://lzwjava.github.io/leanchat-ios-fr" />
<meta property="og:url" content="https://lzwjava.github.io/leanchat-ios-fr" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-11-20T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="LeanChat iOS ChatMince iOS" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2014-11-20T00:00:00+08:00","datePublished":"2014-11-20T00:00:00+08:00","description":"Voici le README.md du projet github https://github.com/lzwjava/leanchat-ios.","headline":"LeanChat iOS ChatMince iOS","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/leanchat-ios-fr"},"url":"https://lzwjava.github.io/leanchat-ios-fr"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=4eaca5adfe7fe9a435acea66836e495c82996d7f">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=4eaca5adfe7fe9a435acea66836e495c82996d7f" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       LeanChat iOS

ChatMince iOS | Original, traduit par l'IA
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/fr/2014-11-20-leanchat-ios-fr.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsfr2014-11-20-leanchat-ios-fr.md</span> -->
      

      <!-- <span>2014-11-20-leanchat-ios-fr.md</span> -->

      
        

        
          
          <a href="#" class="button">2014.11</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/leanchat-ios-en" >English</option>
        <option value="/leanchat-ios-zh" >中文</option>
        <option value="/leanchat-ios-ja" >日本語</option>
        <option value="/leanchat-ios-es" >Español</option>
        <option value="/leanchat-ios-hi" >हिंदी</option>
        <option value="/leanchat-ios-fr" selected>Français</option>
        <option value="/leanchat-ios-de" >Deutsch</option>
        <option value="/leanchat-ios-ar" >العربية</option>
        <option value="/leanchat-ios-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Voici le README.md du projet github <a href="https://github.com/lzwjava/leanchat-ios">https://github.com/lzwjava/leanchat-ios</a>.</p>

<hr />

<p><img src="https://img.shields.io/badge/license-MIT-green.svg?style=flat" alt="Licence MIT" /> 
<a href="http://cocoapods.org/?q=LeanChatLib"><img src="http://img.shields.io/cocoapods/v/LeanChatLib.svg?style=flat" alt="CocoaPods" /></a> 
<a href="http://cocoapods.org/?q=LeanChatLib"><img src="http://img.shields.io/cocoapods/p/LeanChatLib.svg?style=flat" alt="CocoaPods" /></a> 
<a href="https://www.apple.com/nl/ios/"><img src="https://img.shields.io/badge/support-iOS%207%2B%20-blue.svg?style=flat" alt="Support" /></a></p>

<p><img src="https://cloud.githubusercontent.com/assets/5022872/8431636/4eff0aca-1f6d-11e5-8728-f8f450dac380.gif" alt="leanchat" /></p>

<h2 id="app-store">App Store</h2>
<p>LeanChat est disponible sur l’App Store. Vous pouvez visiter <a href="https://itunes.apple.com/gb/app/leanchat/id943324553">https://itunes.apple.com/gb/app/leanchat/id943324553</a> ou rechercher LeanChat sur l’App Store.</p>

<h2 id="introduction">Introduction</h2>
<p>Ce projet d’exemple montre de manière exhaustive l’application de la fonction de communication en temps réel de LeanCloud. Cependant, il contient beaucoup de code UI et d’autres fonctionnalités, ce qui le rend peu adapté à un apprentissage rapide. Si vous êtes nouveau sur LeanMessage, nous recommandons le projet <a href="https://github.com/leancloud/LeanMessage-Demo">LeanMessage-Demo</a>. Une fois que vous êtes familiarisé, vous pouvez aller sur <a href="https://github.com/leancloud/leancloud-demos">LeanCloud-Demos</a> pour sélectionner votre peau IM préférée pour l’intégration. Pendant l’intégration, si vous rencontrez des problèmes difficiles, vous pouvez vous référer au projet LeanChat.</p>

<h2 id="structure-du-projet-leanchat">Structure du projet LeanChat</h2>

<ul>
  <li><a href="https://github.com/leancloud/leanchat-android">leanchat-android</a> : client Android</li>
  <li><a href="https://github.com/leancloud/leanchat-ios">leanchat-ios</a> : client iOS</li>
  <li><a href="https://github.com/leancloud/leanchat-webapp">leanchat-webapp</a> : client Web</li>
  <li><a href="https://github.com/leancloud/leanchat-cloudcode">leanchat-cloud-code</a> : côté serveur</li>
</ul>

<h2 id="retours-précieux">Retours précieux</h2>

<p>Si vous avez des questions, n’hésitez pas à créer un <a href="https://github.com/leancloud/leanchat-ios/issues">issue</a>, en indiquant ce que vous ne comprenez pas, et nous vous fournirons de l’aide dès que possible.</p>

<h2 id="téléchargement">Téléchargement</h2>
<p>Veuillez cliquer directement sur <code class="language-plaintext highlighter-rouge">Download Zip</code> sur Github comme indiqué sur l’image ci-dessous pour télécharger uniquement la dernière version. Si vous utilisez <code class="language-plaintext highlighter-rouge">git clone</code>, cela peut être très lent car il inclut un grand historique de commits. Lors d’un test, la différence était de 1,5M:40M.</p>

<p><img src="https://cloud.githubusercontent.com/assets/5022872/8223520/4c25415a-15ab-11e5-912d-b5dab916ce86.png" alt="qq20150618-2 2x" /></p>

<h2 id="exécution">Exécution</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  // LeanChat <span class="o">(</span>Exemple complexe<span class="o">)</span>
  <span class="nb">cd </span>LeanChat
  pod <span class="nb">install</span> <span class="nt">--verbose</span>  // Si vous avez la bibliothèque de dépendance AVOSCloud localement, vous pouvez ajouter l<span class="s1">'option --no-repo-update pour accélérer le processus
  open LeanChat.workspace

  // LeanChatExample (Exemple simple)
  cd LeanChatExample
  pod install --verbose --no-repo-update
  open LeanChatExample.xcworkspace

  // LeanChatSwift (Exemple Swift)
  cd LeanChatSwift
  pod install --verbose --no-repo-update
  open LeanChatSwift.xcworkspace

  // LeanChatLib (Bibliothèque encapsulant les composants de communication LeanCloud et l'</span>UI<span class="o">)</span>
  <span class="nb">cd </span>LeanChatLib
  pod <span class="nb">install</span> <span class="nt">--verbose</span> <span class="nt">--no-repo-update</span>
  open LeanChatLib.xcworkspace
</code></pre></div></div>

<p>Si vous rencontrez des problèmes comme <code class="language-plaintext highlighter-rouge">definition of 'AVUser' must be imported from module 'LeanChatLib.CDChatListVC' before it is required</code>, vous pouvez maintenir la touche Option dans le menu Produit et cliquer sur <a href="http://stackoverflow.com/questions/8087065/xcode-4-clean-vs-clean-build-folder">Clean Build Folder</a> pour effacer tous les fichiers de Build, puis recompiler. Ce problème semble être un bug lorsque Cocoapods effectue une compilation complexe. Vous pouvez voir ce <a href="https://cloud.githubusercontent.com/assets/5022872/9230256/cf822fe4-4153-11e5-876d-ed819babad89.gif">Gif</a> pour plus de détails.</p>

<p>Veuillez noter que, en raison de l’utilisation par défaut des certificats de production, il n’y a pas de notifications push pour les messages hors ligne pendant le développement. Cependant, les notifications push sont disponibles dans la version en ligne, que vous pouvez télécharger depuis l’<a href="https://itunes.apple.com/gb/app/leanchat/id943324553">App Store</a>. Pour plus de détails, vous pouvez également vous référer à ce <a href="https://github.com/leancloud/leanchat-ios/issues/40">issue</a>.</p>

<p>Vous pouvez voir trois projets, comme décrit ci-dessous.</p>

<h2 id="introduction-aux-sous-projets">Introduction aux sous-projets</h2>
<ul>
  <li>LeanChatLib : la bibliothèque de logique et d’interface utilisateur principale pour la discussion. Avec elle, vous pouvez rapidement intégrer la fonctionnalité de discussion, prenant en charge les messages texte, audio, image et emoji, ainsi que les notifications de messages. Il existe également une version <a href="https://github.com/leancloud/leanchat-android">Android correspondante</a>.</li>
  <li>LeanChatExample : l’exemple d’utilisation le plus simple de LeanChatLib. Il montre comment utiliser un minimum de code pour appeler LeanChatLib et rejoindre une discussion, que vous utilisiez le système d’utilisateurs de LeanCloud ou votre propre système d’utilisateurs.</li>
  <li>LeanChat-ios : l’application LeanChat complète. Elle inclut des fonctionnalités telles que la gestion des amis, la gestion des groupes, la messagerie basée sur la localisation, les utilisateurs à proximité, les pages personnelles, la connexion et l’inscription, toutes basées sur les capacités de stockage et de communication de LeanCloud. C’est une application plus complexe de LeanChatLib.</li>
</ul>

<h2 id="introduction-à-leanchatlib">Introduction à LeanChatLib</h2>

<p>Il encapsule la page des conversations récentes et la page de discussion. Les projets LeanChat et LeanChatExample en dépendent. Vous pouvez l’installer comme suit,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    pod 'LeanChatLib'
</code></pre></div></div>

<p>La plupart du temps, vous intégrerez LeanChatLib en faisant glisser le code source dans votre projet. Dans ce cas, vous devez d’abord installer <code class="language-plaintext highlighter-rouge">AVOSCloud.framework</code> et <code class="language-plaintext highlighter-rouge">AVOSCloudIM.framework</code>. Si vous n’avez pas utilisé <code class="language-plaintext highlighter-rouge">pod install 'AVOSCloud'</code>, <code class="language-plaintext highlighter-rouge">pod install 'AVOSCloudIM'</code> pour installer, vous pouvez configurer les Frameworks nécessaires selon le <a href="https://leancloud.cn/docs/start.html">Guide de démarrage rapide de LeanCloud</a>. Installez également deux autres bibliothèques dépendantes <code class="language-plaintext highlighter-rouge">JSBadgeView</code> et <code class="language-plaintext highlighter-rouge">DateTools</code>. Lors de l’exécution de <code class="language-plaintext highlighter-rouge">pod install</code> pour cette Démonstration, un répertoire Pods sera généré, à partir duquel vous pouvez trouver ces deux Pods. Sinon, vous pouvez rechercher en ligne. Vous pouvez également le configurer via le fichier <a href="https://github.com/leancloud/leanchat-ios/blob/master/LeanChatLib.podspec#L9">.podspec</a>, qui décrit quels fichiers sources doivent être intégrés et quels frameworks système doivent être introduits, etc. Ou, veuillez vous référer à ce <a href="https://ticket.leancloud.cn/tickets/7666">ticket</a>.</p>

<h2 id="comment-ajouter-im-en-trois-étapes">Comment ajouter IM en trois étapes</h2>
<ol>
  <li>Créez une application dans LeanCloud.</li>
  <li>Ajoutez la dépendance du pod LeanChatLib, ou faites glisser les fichiers de code LeanChatLib dans votre projet pour une personnalisation UI plus facile et un ajustement des fonctionnalités.</li>
  <li>Ajoutez le code suivant aux endroits appropriés,</li>
</ol>

<p>À l’ouverture de l’application, initialisez et configurez l’utilisateur IM,</p>
<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="p">[</span><span class="n">AVOSCloud</span> <span class="nf">setApplicationId</span><span class="p">:</span><span class="s">@"YourAppId"</span> <span class="nf">clientKey</span><span class="p">:</span><span class="s">@"YourAppKey"</span><span class="p">];</span>
    <span class="p">[</span><span class="n">CDChatManager</span> <span class="nf">manager</span><span class="p">].</span><span class="n">userDelegate</span> <span class="o">=</span> <span class="p">[[</span><span class="n">CDUserFactory</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
</code></pre></div></div>

<p>Configurez une UserFactory, qui se conforme au protocole CDUserDelegate.</p>

<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#import "CDUserFactory.h"
</span>
<span class="cp">#import &lt;LeanChatLib/LeanChatLib.h&gt;
</span>
<span class="k">@interface</span> <span class="nc">CDUserFactory</span> <span class="p">()</span><span class="o">&lt;</span><span class="n">CDUserDelegate</span><span class="o">&gt;</span>

<span class="k">@end</span>


<span class="k">@implementation</span> <span class="nc">CDUserFactory</span>

<span class="cp">#pragma mark - CDUserDelegate
</span><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cacheUserByIds</span><span class="p">:(</span><span class="n">NSSet</span> <span class="o">*</span><span class="p">)</span><span class="nv">userIds</span> <span class="nf">block</span><span class="p">:(</span><span class="n">AVIMArrayResultBlock</span><span class="p">)</span><span class="nv">block</span><span class="p">{</span>
    <span class="n">block</span><span class="p">(</span><span class="nb">nil</span><span class="p">,</span><span class="nb">nil</span><span class="p">);</span> <span class="c1">// n'oubliez pas cela</span>
<span class="p">}</span>

<span class="k">-</span><span class="p">(</span><span class="n">id</span><span class="o">&lt;</span><span class="n">CDUserModel</span><span class="o">&gt;</span><span class="p">)</span><span class="nf">getUserById</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">userId</span><span class="p">{</span>
    <span class="n">CDUser</span><span class="o">*</span> <span class="n">user</span><span class="o">=</span><span class="p">[[</span><span class="n">CDUser</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
    <span class="n">user</span><span class="p">.</span><span class="n">userId</span><span class="o">=</span><span class="n">userId</span><span class="p">;</span>
    <span class="n">user</span><span class="p">.</span><span class="n">username</span><span class="o">=</span><span class="n">userId</span><span class="p">;</span>
    <span class="n">user</span><span class="p">.</span><span class="n">avatarUrl</span><span class="o">=</span><span class="s">@"http://ac-x3o016bx.clouddn.com/86O7RAPx2BtTW5zgZTPGNwH9RZD5vNDtPm1YbIcu"</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">user</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@end</span>

</code></pre></div></div>

<p>Ici, CDUser est l’objet Utilisateur au sein de l’application et vous pouvez mettre en œuvre le protocole CDUserModel dans votre objet Utilisateur.</p>

<p>CDUserModel,</p>
<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@protocol</span> <span class="nc">CDUserModel</span> <span class="o">&lt;</span><span class="n">NSObject</span><span class="o">&gt;</span>

<span class="err">@required</span>

<span class="k">-</span><span class="p">(</span><span class="n">NSString</span><span class="o">*</span><span class="p">)</span><span class="n">userId</span><span class="p">;</span>

<span class="k">-</span><span class="p">(</span><span class="n">NSString</span><span class="o">*</span><span class="p">)</span><span class="n">avatarUrl</span><span class="p">;</span>

<span class="k">-</span><span class="p">(</span><span class="n">NSString</span><span class="o">*</span><span class="p">)</span><span class="n">username</span><span class="p">;</span>

<span class="k">@end</span>
</code></pre></div></div>

<p>Appelez lors de la connexion,</p>
<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="p">[[</span><span class="n">CDChatManager</span> <span class="nf">manager</span><span class="p">]</span> <span class="nf">openWithClientId</span><span class="p">:</span><span class="n">selfId</span> <span class="nf">callback</span><span class="p">:</span> <span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">succeeded</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">DLog</span><span class="p">(</span><span class="s">@"%@"</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
               <span class="c1">// allez au Contrôleur Principal</span>
            <span class="p">}</span>
        <span class="p">}];</span>
</code></pre></div></div>

<p>Pour discuter avec quelqu’un,</p>
<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="p">[[</span><span class="n">CDChatManager</span> <span class="nf">manager</span><span class="p">]</span> <span class="nf">fetchConvWithOtherId</span> <span class="p">:</span> <span class="n">otherId</span> <span class="nf">callback</span> <span class="p">:</span> <span class="o">^</span><span class="p">(</span><span class="n">AVIMConversation</span> <span class="o">*</span><span class="n">conversation</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">DLog</span><span class="p">(</span><span class="s">@"%@"</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="n">LCEChatRoomVC</span> <span class="o">*</span><span class="n">chatRoomVC</span> <span class="o">=</span> <span class="p">[[</span><span class="n">LCEChatRoomVC</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithConv</span><span class="p">:</span><span class="n">conversation</span><span class="p">];</span>
                <span class="p">[</span><span class="n">weakSelf</span><span class="p">.</span><span class="n">navigationController</span> <span class="nf">pushViewController</span><span class="p">:</span><span class="n">chatRoomVC</span> <span class="nf">animated</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}];</span>
</code></pre></div></div>

<p>Pour une discussion de groupe,</p>
<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">memberIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableArray</span> <span class="nf">array</span><span class="p">];</span>
        <span class="p">[</span><span class="n">memberIds</span> <span class="nf">addObject</span><span class="p">:</span><span class="n">groupId1</span><span class="p">];</span>
        <span class="p">[</span><span class="n">memberIds</span> <span class="nf">addObject</span><span class="p">:</span><span class="n">groupId2</span><span class="p">];</span>
        <span class="p">[</span><span class="n">memberIds</span> <span class="nf">addObject</span><span class="p">:[</span><span class="n">CDChatManager</span> <span class="nf">manager</span><span class="p">].</span><span class="n">selfId</span><span class="p">];</span>
        <span class="p">[[</span><span class="n">CDChatManager</span> <span class="nf">manager</span><span class="p">]</span> <span class="nf">fetchConvWithMembers</span><span class="p">:</span><span class="n">memberIds</span> <span class="nf">callback</span><span class="p">:</span> <span class="o">^</span><span class="p">(</span><span class="n">AVIMConversation</span> <span class="o">*</span><span class="n">conversation</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">DLog</span><span class="p">(</span><span class="s">@"%@"</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="n">LCEChatRoomVC</span> <span class="o">*</span><span class="n">chatRoomVC</span> <span class="o">=</span> <span class="p">[[</span><span class="n">LCEChatRoomVC</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithConv</span><span class="p">:</span><span class="n">conversation</span><span class="p">];</span>
                <span class="p">[</span><span class="n">weakSelf</span><span class="p">.</span><span class="n">navigationController</span> <span class="nf">pushViewController</span><span class="p">:</span><span class="n">chatRoomVC</span> <span class="nf">animated</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}];</span>
</code></pre></div></div>

<p>Lors de la déconnexion,</p>
<div class="language-objc highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="p">[[</span><span class="n">CDChatManager</span> <span class="nf">manager</span><span class="p">]</span> <span class="nf">closeWithCallback</span><span class="p">:</span> <span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">succeeded</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}];</span>
</code></pre></div></div>

<p>Ensuite, vous pouvez discuter comme montré dans la capture d’écran ci-dessus. Notez que nous ne recommandons actuellement pas d’utiliser la méthode pod pour importer directement LeanChatLib car certaines interfaces et fonctionnalités doivent être personnalisées par vous. Par conséquent, nous recommandons de copier le code LeanChatLib dans le projet pour une personnalisation plus facile.</p>

<h2 id="leanchatlib-changelog">LeanChatLib ChangeLog</h2>

<p>0.2.6</p>

<p>Mise à jour du SDK vers 3.1.4 pour s’adapter à iOS 9</p>

<p>0.2.5</p>

<p>Utilisation de cachePolicy dans AVIMConversationQuery pour économiser le trafic et mieux supporter le hors ligne
Correction d’un bug où l’appel de fetchConvWithConvid lorsque la conversation n’existe pas peut provoquer un plantage</p>

<p>0.2.4</p>

<p>Ajout de l’icône Tuzki</p>

<p>0.2.3</p>

<p>Ajout d’une vérification des paramètres pour l’interface fetchConvWithMembers:, correction d’un potentiel plantage dans la liste des conversations lorsqu’il s’agit d’une discussion individuelle mais qu’elle n’a qu’un seul membre</p>

<p>0.2.2</p>

<p>Mise à jour de la bibliothèque AVOSCloud vers 3.1.2.8</p>

<p>0.2.1</p>

<p>ChatListDelegate ajoute les interfaces configureCell: et prepareConversaion: pour une personnalisation plus complexe des conversations.</p>

<p>Pour les messages d’images, utilisez AVFile pour mettre en cache les images, de sorte que vos propres photos envoyées n’aient pas besoin d’être téléchargées à nouveau.</p>

<p>0.2.0</p>

<p>Ajout de commentaires, support du réenvoi des messages, affichage des messages échoués, ajout d’effets sonores et de vibrations</p>

<p>0.1.3</p>

<p>Correction d’un bug où l’application pouvait planter lors du chargement rapide des messages historiques en tirant vers le bas</p>

<p>0.1.2</p>

<p>Utilisation du cache de discussion SDK, suppression de la dépendance FMDB. Vous pouvez voir les messages historiques sur le serveur et les enregistrements de discussion historiques même après réinstallation. Suppression de la classe CDNotify.</p>

<p>0.1.1</p>

<p>Refonte</p>

<p>0.1.0</p>

<p>Version initiale</p>

<h2 id="notes-de-déploiement-pour-leanchat">Notes de déploiement pour LeanChat</h2>

<p>Si vous souhaitez déployer LeanChat complète, puisque l’application a une fonctionnalité d’ajout d’amis, veuillez allez dans Paramètres-&gt;Options de l’application et cochez l’option Suivi mutuel afin que lorsque l’une des parties accepte, elles puissent s’ajouter mutuellement en amis.</p>

<p><img src="https://cloud.githubusercontent.com/assets/5022872/7016645/53f91bb8-dd1b-11e4-8ce0-72312c655094.png" alt="qq20150407-5" /></p>

<h2 id="guide-de-développement">Guide de développement</h2>

<p><a href="https://leancloud.cn/docs/realtime_v2.html">Guide de développement du service de messagerie en temps réel</a></p>

<p><a href="https://github.com/leancloud/leanchat-android">Plus d’informations</a></p>

<h2 id="remerciements">Remerciements</h2>

<p>Merci à la grande bibliothèque open-source <a href="https://github.com/xhzengAIB/MessageDisplayKit">MessageDisplayKit</a> par Xian-Hua Han.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-fr" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
