<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Integración con WeChat Empresarial</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Integración con WeChat Empresarial | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Integración con WeChat Empresarial" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="es" />
<meta name="description" content="Durante mi tiempo en ShowMeBug, contribuí al proyecto de integración con Enterprise WeChat. Esto implicó integrar ShowMeBug con Enterprise WeChat, proporcionando acceso sin interrupciones a las herramientas de entrevistas técnicas dentro del ecosistema de Enterprise WeChat. Utilicé tecnologías como Ruby, Ruby on Rails, PostgreSQL y el SDK de WeChat para crear una experiencia de usuario fluida tanto para entrevistadores como para candidatos." />
<meta property="og:description" content="Durante mi tiempo en ShowMeBug, contribuí al proyecto de integración con Enterprise WeChat. Esto implicó integrar ShowMeBug con Enterprise WeChat, proporcionando acceso sin interrupciones a las herramientas de entrevistas técnicas dentro del ecosistema de Enterprise WeChat. Utilicé tecnologías como Ruby, Ruby on Rails, PostgreSQL y el SDK de WeChat para crear una experiencia de usuario fluida tanto para entrevistadores como para candidatos." />
<link rel="canonical" href="https://lzwjava.github.io/enterprise-wechat-es" />
<meta property="og:url" content="https://lzwjava.github.io/enterprise-wechat-es" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-08-05T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Integración con WeChat Empresarial" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2021-08-05T00:00:00+08:00","datePublished":"2021-08-05T00:00:00+08:00","description":"Durante mi tiempo en ShowMeBug, contribuí al proyecto de integración con Enterprise WeChat. Esto implicó integrar ShowMeBug con Enterprise WeChat, proporcionando acceso sin interrupciones a las herramientas de entrevistas técnicas dentro del ecosistema de Enterprise WeChat. Utilicé tecnologías como Ruby, Ruby on Rails, PostgreSQL y el SDK de WeChat para crear una experiencia de usuario fluida tanto para entrevistadores como para candidatos.","headline":"Integración con WeChat Empresarial","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/enterprise-wechat-es"},"url":"https://lzwjava.github.io/enterprise-wechat-es"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=9c75b91014892faaf916199462912a1432531359">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=9c75b91014892faaf916199462912a1432531359" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Integración con WeChat Empresarial | Original, traducido por IA
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/es/2021-08-05-enterprise-wechat-es.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postses2021-08-05-enterprise-wechat-es.md</span> -->
      

      <!-- <span>2021-08-05-enterprise-wechat-es.md</span> -->

      
        

        
          
          <a href="#" class="button">2021.08</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/enterprise-wechat-en" >English</option>
        <option value="/enterprise-wechat-zh" >中文</option>
        <option value="/enterprise-wechat-ja" >日本語</option>
        <option value="/enterprise-wechat-es" selected>Español</option>
        <option value="/enterprise-wechat-hi" >हिंदी</option>
        <option value="/enterprise-wechat-fr" >Français</option>
        <option value="/enterprise-wechat-de" >Deutsch</option>
        <option value="/enterprise-wechat-ar" >العربية</option>
        <option value="/enterprise-wechat-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Durante mi tiempo en ShowMeBug, contribuí al proyecto de integración con Enterprise WeChat. Esto implicó integrar ShowMeBug con Enterprise WeChat, proporcionando acceso sin interrupciones a las herramientas de entrevistas técnicas dentro del ecosistema de Enterprise WeChat. Utilicé tecnologías como Ruby, Ruby on Rails, PostgreSQL y el SDK de WeChat para crear una experiencia de usuario fluida tanto para entrevistadores como para candidatos.</p>

<p>Este artículo de blog se compuso con la asistencia de IA alrededor de febrero de 2025.</p>

<hr />

<h3 id="puntos-clave">Puntos Clave</h3>
<ul>
  <li>Parece probable que la integración de ShowMeBug con Enterprise WeChat implique configurar una cuenta, obtener credenciales de API y usar Ruby on Rails para realizar llamadas a la API, dados los tecnologías mencionadas.</li>
  <li>La investigación sugiere usar la API de Enterprise WeChat para tareas como enviar mensajes, con la autenticación manejada mediante tokens de acceso.</li>
  <li>Las pruebas indican el uso de HTTParty en Ruby para solicitudes de API, con el posible uso de gems como “wechat” de Eric-Guo para una integración más sencilla.</li>
</ul>

<h3 id="qué-es-la-integración-de-enterprise-wechat-y-showmebug">¿Qué es la integración de Enterprise WeChat y ShowMeBug?</h3>
<p>Enterprise WeChat, también conocido como WeChat Work, es una plataforma de comunicación y colaboración para empresas, que ofrece APIs para la integración con aplicaciones. ShowMeBug, según el contexto, parece ser una aplicación web construida con Ruby on Rails, probablemente para entrevistas técnicas, y la integración tiene como objetivo proporcionar acceso sin interrupciones dentro del ecosistema de Enterprise WeChat.</p>

<h3 id="configuración-y-uso-de-la-api">Configuración y uso de la API</h3>
<p>Para integrar, necesitarás:</p>
<ul>
  <li>Registrarte para una cuenta de Enterprise WeChat y verificar tu organización, luego crear una aplicación para obtener un ID de aplicación y un secreto de aplicación.</li>
  <li>Usar estas credenciales para obtener un token de acceso, esencial para las llamadas a la API, solicitándolo desde <a href="https://qyapi.weixin.qq.com/cgi-bin/gettoken">este punto final</a>.</li>
  <li>Realizar llamadas a la API, como enviar mensajes, usando el token de acceso, con puntos finales como <a href="https://qyapi.weixin.qq.com/cgi-bin/message.send">message.send</a>.</li>
</ul>

<h3 id="ejemplo-en-ruby-on-rails">Ejemplo en Ruby on Rails</h3>
<p>Aquí está cómo podrías implementarlo:</p>
<ul>
  <li>Instalar el gem HTTParty para solicitudes HTTP.</li>
  <li>Crear una clase para gestionar tokens de acceso, almacenándolos en caché para evitar solicitudes frecuentes.</li>
  <li>Usar un método para enviar mensajes, asegurándote de reemplazar marcadores de posición como “YOUR_AGENT_ID” con valores reales de tu consola de Enterprise WeChat.</li>
</ul>

<p>Este enfoque asegura una integración fluida, mejorando la comunicación dentro de tu organización.</p>

<hr />

<h3 id="nota-de-encuesta-integración-detallada-de-showmebug-con-enterprise-wechat-usando-apis">Nota de Encuesta: Integración detallada de ShowMeBug con Enterprise WeChat usando APIs</h3>

<h4 id="introducción">Introducción</h4>
<p>Esta nota explora la integración de ShowMeBug, una aplicación web hipotética de Ruby on Rails para entrevistas técnicas, con Enterprise WeChat (WeChat Work), una plataforma de comunicación y colaboración diseñada para empresas. La integración, como se indica, implica usar Ruby, Ruby on Rails, PostgreSQL y el SDK de WeChat, con el objetivo de proporcionar acceso sin interrupciones a las herramientas de ShowMeBug dentro del ecosistema de Enterprise WeChat. Esta encuesta proporciona una guía exhaustiva, cubriendo la configuración, el uso de la API y las mejores prácticas, basándose en la documentación y recursos disponibles.</p>

<h4 id="antecedentes-sobre-enterprise-wechat">Antecedentes sobre Enterprise WeChat</h4>
<p>Enterprise WeChat, lanzado por Tencent, está diseñado para la comunicación interna de empresas, ofreciendo características como mensajería, compartición de archivos y gestión de tareas. Proporciona APIs para que los desarrolladores integren aplicaciones externas, habilitando funcionalidades como bots personalizados y notificaciones. La plataforma es particularmente útil para mejorar los flujos de trabajo organizacionales, con más de 1.000 millones de usuarios activos mensuales, convirtiéndola en una herramienta significativa para la integración empresarial.</p>

<h4 id="entendiendo-showmebug-y-las-necesidades-de-integración">Entendiendo ShowMeBug y las necesidades de integración</h4>
<p>ShowMeBug, según el contexto, es probablemente una plataforma para llevar a cabo entrevistas técnicas, y la integración con Enterprise WeChat tiene como objetivo incrustar sus herramientas dentro de la plataforma para un acceso sin interrupciones por parte de entrevistadores y candidatos. El uso de Ruby on Rails sugiere una aplicación basada en la web, con PostgreSQL para el almacenamiento de datos, posiblemente para información de usuarios, registros de entrevistas o historial de mensajes. La mención del SDK de WeChat indica aprovechar bibliotecas existentes para las interacciones de API, que exploraremos más adelante.</p>

<h4 id="configuración-de-una-cuenta-de-enterprise-wechat">Configuración de una cuenta de Enterprise WeChat</h4>
<p>Para comenzar la integración, debes configurar una cuenta de Enterprise WeChat:</p>
<ul>
  <li><strong>Registro y verificación:</strong> Visita el sitio web oficial, regístrate y verifica la identidad de tu organización, un proceso que puede implicar enviar documentos comerciales.</li>
  <li><strong>Creación de aplicación:</strong> Dentro de la cuenta, crea una aplicación para obtener un ID de aplicación y un secreto de aplicación, cruciales para la autenticación de la API. Estas credenciales se encuentran en el portal de desarrolladores de Enterprise WeChat.</li>
</ul>

<p>Esta configuración asegura que tengas los permisos y credenciales necesarios para interactuar con la API, un paso fundamental para la integración.</p>

<h4 id="obtención-de-credenciales-de-api">Obtención de credenciales de API</h4>
<p>Después de configurar, obtén el ID de aplicación y el secreto de aplicación desde la consola de desarrolladores de Enterprise WeChat. Estos se usan para autenticar solicitudes de API, especialmente para obtener un token de acceso, que es necesario para la mayoría de las operaciones de API. Las credenciales deben almacenarse de manera segura, usando variables de entorno en tu aplicación Ruby on Rails para evitar la codificación en el código fuente, mejorando la seguridad.</p>

<h4 id="uso-de-la-api-en-ruby-on-rails">Uso de la API en Ruby on Rails</h4>
<p>Para interactuar con la API de Enterprise WeChat en una aplicación Ruby on Rails, realizarás solicitudes HTTP a los puntos finales de la API. El gem HTTParty se recomienda por su simplicidad en el manejo de solicitudes HTTP. La integración implica varios pasos clave:</p>

<h5 id="paso-1-obtener-un-token-de-acceso">Paso 1: Obtener un token de acceso</h5>
<p>El token de acceso es esencial para las llamadas a la API y se obtiene realizando una solicitud GET al punto final del token:</p>
<ul>
  <li><strong>Punto final:</strong> <code class="language-plaintext highlighter-rouge">https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=APPID&amp;corpsecret=APPSECRET</code></li>
  <li><strong>Respuesta:</strong> Contiene el token de acceso y su tiempo de expiración (normalmente 2 horas), que necesita ser actualizado periódicamente.</li>
</ul>

<p>Para manejar esto en Ruby, puedes crear una clase para gestionar la obtención y el almacenamiento en caché del token:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">WeChatAPI</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">app_id</span><span class="p">,</span> <span class="n">app_secret</span><span class="p">)</span>
    <span class="vi">@app_id</span> <span class="o">=</span> <span class="n">app_id</span>
    <span class="vi">@app_secret</span> <span class="o">=</span> <span class="n">app_secret</span>
    <span class="vi">@access_token</span> <span class="o">=</span> <span class="kp">nil</span>
    <span class="vi">@token_expiry</span> <span class="o">=</span> <span class="kp">nil</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">access_token</span>
    <span class="k">if</span> <span class="vi">@access_token</span> <span class="o">&amp;&amp;</span> <span class="no">Time</span><span class="p">.</span><span class="nf">current</span> <span class="o">&lt;</span> <span class="vi">@token_expiry</span>
      <span class="vi">@access_token</span>
    <span class="k">else</span>
      <span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=</span><span class="si">#{</span><span class="vi">@app_id</span><span class="si">}</span><span class="s2">&amp;corpsecret=</span><span class="si">#{</span><span class="vi">@app_secret</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">response</span><span class="p">[</span><span class="s1">'errcode'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="vi">@access_token</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">'access_token'</span><span class="p">]</span>
        <span class="vi">@token_expiry</span> <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">current</span> <span class="o">+</span> <span class="n">response</span><span class="p">[</span><span class="s1">'expires_in'</span><span class="p">].</span><span class="nf">seconds</span>
        <span class="vi">@access_token</span>
      <span class="k">else</span>
        <span class="k">raise</span> <span class="s2">"No se pudo obtener el token de acceso: </span><span class="si">#{</span><span class="n">response</span><span class="p">[</span><span class="s1">'errmsg'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Esta implementación almacena en caché el token para evitar solicitudes frecuentes, mejorando el rendimiento.</p>

<h5 id="paso-2-realizar-llamadas-a-la-api">Paso 2: Realizar llamadas a la API</h5>
<p>Con el token de acceso, puedes realizar llamadas a la API, como enviar un mensaje de texto. El punto final para enviar mensajes es:</p>
<ul>
  <li><strong>Punto final:</strong> <code class="language-plaintext highlighter-rouge">https://qyapi.weixin.qq.com/cgi-bin/message.send?access_token=ACCESSTOKEN</code></li>
  <li><strong>Ejemplo de carga útil:</strong>
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"touser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USERID"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msgtype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"agentid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGENTID"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"¡Hola, mundo!"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<p>En Ruby, puedes implementar un método para enviar mensajes:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">send_message</span><span class="p">(</span><span class="n">to_user</span><span class="p">,</span> <span class="n">message_content</span><span class="p">)</span>
  <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://qyapi.weixin.qq.com/cgi-bin/message.send?access_token=</span><span class="si">#{</span><span class="n">access_token</span><span class="si">}</span><span class="s2">"</span>
  <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"touser"</span> <span class="o">=&gt;</span> <span class="n">to_user</span><span class="p">,</span>
    <span class="s2">"msgtype"</span> <span class="o">=&gt;</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="s2">"agentid"</span> <span class="o">=&gt;</span> <span class="s2">"YOUR_AGENT_ID"</span><span class="p">,</span>  <span class="c1"># Reemplazar con tu ID de agente</span>
    <span class="s2">"text"</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"content"</span> <span class="o">=&gt;</span> <span class="n">message_content</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="ss">body: </span><span class="n">payload</span><span class="p">.</span><span class="nf">to_json</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">response</span><span class="p">[</span><span class="s1">'errcode'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="kp">true</span>
  <span class="k">else</span>
    <span class="kp">false</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Aquí, “YOUR_AGENT_ID” debe ser reemplazado con el ID de agente real de tu consola de Enterprise WeChat, que identifica la aplicación que realiza la solicitud.</p>

<h4 id="manejo-de-autenticación-y-gestión-de-tokens">Manejo de autenticación y gestión de tokens</h4>
<p>La validez del token de acceso (normalmente 2 horas) requiere gestión para asegurar el acceso continuo a la API. Implementa un programador o trabajo en segundo plano, como usando Sidekiq o Delayed Job en Rails, para actualizar el token antes de su expiración. Esto asegura que tu aplicación permanezca funcional sin interrupciones, un aspecto crítico para entornos de producción.</p>

<h4 id="mejores-prácticas-para-la-integración">Mejores prácticas para la integración</h4>
<p>Para asegurar una integración robusta, considera lo siguiente:</p>
<ul>
  <li><strong>Manejo de errores:</strong> Siempre verifica los códigos de error de la respuesta de la API (por ejemplo, <code class="language-plaintext highlighter-rouge">errcode</code> en la respuesta) y maneja los errores adecuadamente, registrando errores para depuración.</li>
  <li><strong>Seguridad:</strong> Almacena el ID de aplicación y el secreto de aplicación en variables de entorno, no en el código fuente, para evitar la exposición. Usa el gem <code class="language-plaintext highlighter-rouge">dotenv</code> de Rails para este propósito.</li>
  <li><strong>Rendimiento:</strong> Almacena en caché los tokens de acceso para reducir las solicitudes al punto final del token, ya que las solicitudes frecuentes pueden llevar a la limitación de la tasa.</li>
  <li><strong>Documentación:</strong> Consulta la documentación oficial de la API de Enterprise WeChat para actualizaciones, aunque ten en cuenta que puede estar principalmente en chino, requiriendo traducción para usuarios de inglés.</li>
</ul>

<h4 id="rol-de-postgresql-y-el-sdk-de-wechat">Rol de PostgreSQL y el SDK de WeChat</h4>
<p>La mención de PostgreSQL sugiere que se usa para almacenar datos relacionados con la integración, como mappers de usuarios entre ShowMeBug y Enterprise WeChat, registros de mensajes o datos de entrevistas. Esta integración de base de datos asegura persistencia y escalabilidad, crucial para manejar grandes volúmenes de datos.</p>

<p>El SDK de WeChat probablemente se refiere a bibliotecas de terceros, como el gem “wechat” de Eric-Guo, que simplifica las interacciones de API. Este gem, disponible en GitHub (<a href="https://github.com/Eric-Guo/wechat">API, command and message handling for WeChat in Rails</a>), soporta tanto cuentas públicas como empresariales, ofreciendo características como manejo de mensajes y OAuth. Usar tal gem puede reducir el tiempo de desarrollo, aunque entender la API directamente, como se mostró, proporciona un control más profundo.</p>

<h4 id="enfoque-alternativo-usar-gems-de-ruby">Enfoque alternativo: Usar gems de Ruby</h4>
<p>Para desarrolladores que buscan una integración más sencilla, considera usar gems de Ruby como “wechat” de Eric-Guo. Instálalo mediante:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem <span class="nb">install </span>wechat
</code></pre></div></div>
<p>Luego, sigue la documentación del gem para la configuración, que maneja gran parte de la complejidad de la API, incluyendo la gestión de tokens y el envío de mensajes. Este enfoque es particularmente útil para el desarrollo rápido, aunque puede limitar la personalización en comparación con el uso directo de la API.</p>

<h4 id="conclusión">Conclusión</h4>
<p>Integrar ShowMeBug con Enterprise WeChat implica configurar una cuenta, obtener credenciales y usar Ruby on Rails para interactuar con la API, aprovechando HTTParty para solicitudes y gestionando tokens de acceso para la autenticación. Las mejores prácticas aseguran seguridad, rendimiento y confiabilidad, con PostgreSQL que soporta el almacenamiento de datos y el posible uso de gems como “wechat” simplificando el proceso. Esta integración mejora la comunicación y la colaboración, proporcionando una experiencia sin interrupciones para los usuarios de ShowMeBug dentro del ecosistema de Enterprise WeChat.</p>

<h4 id="tabla-resumen-de-pasos-de-integración">Tabla: Resumen de pasos de integración</h4>

<table>
  <thead>
    <tr>
      <th>Paso</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Configurar cuenta</td>
      <td>Registrarse, verificar y crear una aplicación para obtener ID de aplicación y secreto.</td>
    </tr>
    <tr>
      <td>Obtener credenciales</td>
      <td>Obtener ID de aplicación y secreto de la consola de desarrolladores.</td>
    </tr>
    <tr>
      <td>Obtener token de acceso</td>
      <td>Solicitar token usando <code class="language-plaintext highlighter-rouge">https://qyapi.weixin.qq.com/cgi-bin/gettoken</code>.</td>
    </tr>
    <tr>
      <td>Realizar llamadas a la API</td>
      <td>Usar token para operaciones como enviar mensajes a través de <code class="language-plaintext highlighter-rouge">https://qyapi.weixin.qq.com/cgi-bin/message.send</code>.</td>
    </tr>
    <tr>
      <td>Gestión de tokens</td>
      <td>Almacenar en caché y actualizar tokens para asegurar acceso continuo.</td>
    </tr>
    <tr>
      <td>Mejores prácticas</td>
      <td>Manejar errores, asegurar credenciales, optimizar rendimiento y referirse a la documentación.</td>
    </tr>
  </tbody>
</table>

<p>Esta tabla resume las acciones clave, asegurando un enfoque estructurado para la integración.</p>

<h4 id="citaciones-clave">Citaciones clave</h4>
<ul>
  <li><a href="https://github.com/Eric-Guo/wechat">API, command and message handling for WeChat in Rails</a></li>
</ul>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-es" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
