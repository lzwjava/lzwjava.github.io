<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Améliorer le développement iOS grâce aux tests automatisés et aux outils</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Améliorer le développement iOS grâce aux tests automatisés et aux outils | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Améliorer le développement iOS grâce aux tests automatisés et aux outils" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="fr" />
<meta name="description" content="Cet article de blog a été rédigé avec l’aide de ChatGPT-4o." />
<meta property="og:description" content="Cet article de blog a été rédigé avec l’aide de ChatGPT-4o." />
<link rel="canonical" href="https://lzwjava.github.io/ios-test-fr" />
<meta property="og:url" content="https://lzwjava.github.io/ios-test-fr" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-04-23T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Améliorer le développement iOS grâce aux tests automatisés et aux outils" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2016-04-23T00:00:00+08:00","datePublished":"2016-04-23T00:00:00+08:00","description":"Cet article de blog a été rédigé avec l’aide de ChatGPT-4o.","headline":"Améliorer le développement iOS grâce aux tests automatisés et aux outils","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/ios-test-fr"},"url":"https://lzwjava.github.io/ios-test-fr"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=8948318f578cff7cb88cecb29b1e54517db43f20">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=8948318f578cff7cb88cecb29b1e54517db43f20" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Améliorer le développement iOS grâce aux tests automatisés et aux outils | Original, traduit par l'IA
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/fr/2016-04-23-ios-test-fr.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsfr2016-04-23-ios-test-fr.md</span> -->
      

      <!-- <span>2016-04-23-ios-test-fr.md</span> -->

      
        

        
          
          <a href="#" class="button">2016.04</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/ios-test-en" >English</option>
        <option value="/ios-test-zh" >中文</option>
        <option value="/ios-test-ja" >日本語</option>
        <option value="/ios-test-es" >Español</option>
        <option value="/ios-test-hi" >हिंदी</option>
        <option value="/ios-test-fr" selected>Français</option>
        <option value="/ios-test-de" >Deutsch</option>
        <option value="/ios-test-ar" >العربية</option>
        <option value="/ios-test-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p><em>Cet article de blog a été rédigé avec l’aide de ChatGPT-4o.</em></p>

<hr />

<h3 id="limportance-des-tests-unitaires">L’importance des tests unitaires</h3>
<p>Chez LeanCloud, nous avons mis en place des tests unitaires dès les premières étapes du projet, ce qui s’est avéré extrêmement précieux. Chaque demande de tirage (PR) déclenche des tests unitaires sur Jenkins, avec un objectif de couverture d’environ 80%. Il existe deux scénarios principaux pour écrire des tests : valider de nouvelles interfaces et reproduire et corriger des bugs. Plus nous accumulons de tests, plus notre base de code devient robuste. Les tests automatisés nous permettent de publier et de refactoriser du code en toute confiance, sans avoir besoin de validation manuelle.</p>

<h3 id="processus-de-test-et-applications-pratiques">Processus de test et applications pratiques</h3>
<p>Voici quelques exemples concrets de la manière dont les tests unitaires peuvent nous aider :</p>

<p><strong>Processus de test 1 :</strong> Un utilisateur a signalé une erreur lors de la sauvegarde d’un objet avec une clé de description. J’ai écrit un test pour reproduire ce problème, identifié et corrigé l’erreur, puis j’ai conservé ce test pour une validation future.</p>

<p><strong>Processus de test 2 :</strong> Lors du développement d’une nouvelle interface, après avoir implémenté le code, j’ai écrit les tests correspondants pour m’assurer que le code fonctionne correctement.</p>

<p><strong>Processus de test 3 :</strong> Après avoir modifié le code de <code class="language-plaintext highlighter-rouge">AVObject.m</code>, j’ai exécuté le test <code class="language-plaintext highlighter-rouge">AVObjectTest.m</code> pour vérifier si les modifications ont entraîné des échecs de test.</p>

<p><strong>Processus de test 4 :</strong> La soumission d’une PR déclenche des tests automatisés sur Jenkins.</p>

<h3 id="avantages-de-lécriture-de-tests-unitaires">Avantages de l’écriture de tests unitaires</h3>
<ul>
  <li><strong>Réduction de la validation manuelle:</strong> Les tests unitaires permettent de gagner du temps en éliminant la nécessité de vérifications manuelles.</li>
  <li><strong>Détection des erreurs:</strong> Ils permettent de détecter précocement les problèmes causés par des modifications du code, empêchant ainsi que les erreurs n’affectent d’autres parties du projet.</li>
  <li><strong>Projets collaboratifs:</strong> Dans les projets impliquant plusieurs développeurs, les tests unitaires assurent une cohérence et une fiabilité, même si le projet est repris par d’autres personnes.</li>
  <li><strong>Projets open source de haute qualité:</strong> Les projets open source populaires disposent généralement d’une vaste couverture de tests unitaires, ce qui contribue à leur fiabilité et à leur popularité.</li>
</ul>

<h3 id="comment-rédiger-des-tests-unitaires-efficaces">Comment rédiger des tests unitaires efficaces</h3>
<ul>
  <li><strong>Code modulaire:</strong> Séparez la couche de données de la couche UI pour faciliter les tests.</li>
  <li><strong>Maximiser la couverture:</strong> Utilisez un minimum de code de test pour atteindre une couverture maximale.</li>
  <li><strong>Gestion asynchrone:</strong> Assurez-vous que les tests peuvent gérer les opérations asynchrones.</li>
  <li><strong>Choix du framework:</strong> Sélectionnez un framework de test adapté à vos besoins.</li>
  <li><strong>Rapport de couverture:</strong> Utilisez des rapports de couverture pour savoir quelles parties du code ont été testées.</li>
</ul>

<h3 id="évaluation-des-frameworks-de-test">Évaluation des frameworks de test</h3>
<p>Nous avons évalué plusieurs frameworks :</p>
<ul>
  <li><strong>Expecta:</strong> <code class="language-plaintext highlighter-rouge">expect(error).not.beNil()</code></li>
  <li><strong>Specta:</strong> <code class="language-plaintext highlighter-rouge">describe("") it("")</code></li>
  <li><strong>Kiwi:</strong> <code class="language-plaintext highlighter-rouge">describe("") it("")</code></li>
  <li>Les frameworks TDD et BDD présentent certaines limitations, comme une intégration médiocre avec Xcode, l’absence de bouton de test, et le fait que la barre latérale ne liste pas tous les tests unitaires.</li>
</ul>

<h3 id="gestion-des-tests-asynchrones">Gestion des tests asynchrones</h3>
<p>Les tests asynchrones sont essentiels pour les opérations qui ne se terminent pas immédiatement. Assurez-vous que votre framework prend en charge efficacement les tests asynchrones. Par exemple, dans XCTest, utilisez des <code class="language-plaintext highlighter-rouge">expectations</code> pour attendre la fin des opérations asynchrones avant de procéder aux assertions.</p>

<h3 id="rapport-de-couverture">Rapport de couverture</h3>
<p>Xcode 7 a introduit une fonctionnalité intégrée de rapport de couverture. Voici les étapes pour l’activer :</p>
<ol>
  <li>Activez <code class="language-plaintext highlighter-rouge">Gather Coverage Data</code> dans les paramètres du schéma.</li>
  <li>Effectuez les tests sur la cible de l’application, et non sur la cible de test.</li>
</ol>

<p>Cette fonctionnalité permet aux développeurs de voir exactement quelles lignes de code ont été testées, ce qui aide à identifier les parties du code qui n’ont pas été testées. Pour plus de détails, visitez le <a href="https://www.bignerdranch.com/blog/weve-got-you-covered/">blog de Big Nerd Ranch</a>.</p>

<h3 id="automatisation-des-tests-à-distance-avec-jenkins">Automatisation des tests à distance avec Jenkins</h3>
<p>La configuration de Jenkins pour les tests automatisés implique plusieurs étapes :</p>
<ol>
  <li><strong>Installation de Jenkins :</strong> Configurez Jenkins sur votre machine locale ou sur un serveur dans un centre de données.</li>
  <li><strong>Intégration avec GitHub :</strong> Utilisez le plugin GitHub PR Build pour déclencher les tests lors de la soumission d’une demande de pull.
    <ul>
      <li>Configurez les Webhooks pour envoyer les événements à Jenkins.</li>
      <li>Assurez-vous que Jenkins peut accéder au code le plus récent de la demande de pull.</li>
    </ul>
  </li>
  <li><strong>Scripts de test :</strong> Configurez des scripts de test dans Jenkins pour automatiser le processus de test.
    <ul>
      <li>Assurez-vous que Jenkins peut notifier GitHub des résultats des tests.</li>
      <li>Configurez des notifications Slack ou par e-mail en cas d’échec des tests.</li>
    </ul>
  </li>
</ol>

<p>L’utilisation de Jenkins pour les tests automatisés à distance offre tous les avantages des tests automatisés, surpassant les tests locaux, en exécutant les tests dans un environnement propre et contrôlé.</p>

<h3 id="empaquetage-et-déploiement-à-distance">Empaquetage et déploiement à distance</h3>
<p>Bien que tous les projets n’aient pas besoin d’un empaquetage à distance, cela peut simplifier le processus de déploiement des SDK et d’autres composants réutilisables. Les étapes incluent :</p>
<ul>
  <li>Configurer Jenkins pour lire le code.</li>
  <li>Lire la version de publication.</li>
  <li>Déverrouiller le trousseau en ligne de commande pour accéder aux certificats de signature.</li>
</ul>

<h3 id="outils-et-astuces-supplémentaires">Outils et Astuces Supplémentaires</h3>
<ul>
  <li><strong>Reveal:</strong> Analysez l’interface utilisateur de n’importe quelle application sur un iPhone jailbreaké.</li>
  <li><strong>Flex:</strong> Analysez les requêtes réseau, l’interface utilisateur, les fichiers locaux, NSUserDefaults et les logs sur un iPhone jailbreaké.</li>
  <li><strong>Gestion des Pods:</strong> Utilisation locale des Pods, configuration avancée du Podfile et publication des Pods.</li>
  <li><strong>Création de Frameworks:</strong> Différences entre les bibliothèques dynamiques et statiques, et comment empaqueter un framework compatible à la fois avec les simulateurs et les appareils physiques.</li>
  <li><strong>Astuces Xcode:</strong> Raccourcis utiles, comme Shift + Command + J pour afficher le fichier dans le navigateur, et Shift + Command + O pour ouvrir rapidement un fichier.</li>
</ul>

<h3 id="conclusion">Conclusion</h3>
<p>Les tests automatisés et les outils appropriés améliorent considérablement le processus de développement. En introduisant tôt des tests unitaires, en exploitant le traitement asynchrone et en utilisant des rapports de couverture, nous pouvons construire des applications plus fiables et maintenables. Des outils CI/CD comme Jenkins, combinés aux outils de développement Xcode et à une stratégie de test robuste, assurent une livraison de logiciels de haute qualité.</p>

<h3 id="remerciements">Remerciements</h3>

<p>Un grand merci à l’équipe de LeanCloud ainsi qu’à toutes les personnes qui ont contribué à notre processus de test.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-fr" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
