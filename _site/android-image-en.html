<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Android Image Processing Made Easy</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Android Image Processing Made Easy | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Android Image Processing Made Easy" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="Handling images in Android can be tricky—bitmaps eat up memory, rotations mess with orientation, and cropping requires precision. That’s where utility classes like BitmapUtils and Crop come in handy. In this post, I’ll walk you through a powerful pair of classes from the com.lzw.flower.utils package. We’ll explore their code, break down what each method does, and show how to use them in your projects. Let’s dive in!" />
<meta property="og:description" content="Handling images in Android can be tricky—bitmaps eat up memory, rotations mess with orientation, and cropping requires precision. That’s where utility classes like BitmapUtils and Crop come in handy. In this post, I’ll walk you through a powerful pair of classes from the com.lzw.flower.utils package. We’ll explore their code, break down what each method does, and show how to use them in your projects. Let’s dive in!" />
<link rel="canonical" href="https://lzwjava.github.io/android-image-en" />
<meta property="og:url" content="https://lzwjava.github.io/android-image-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-07-27T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Android Image Processing Made Easy" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2014-07-27T00:00:00+08:00","datePublished":"2014-07-27T00:00:00+08:00","description":"Handling images in Android can be tricky—bitmaps eat up memory, rotations mess with orientation, and cropping requires precision. That’s where utility classes like BitmapUtils and Crop come in handy. In this post, I’ll walk you through a powerful pair of classes from the com.lzw.flower.utils package. We’ll explore their code, break down what each method does, and show how to use them in your projects. Let’s dive in!","headline":"Android Image Processing Made Easy","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/android-image-en"},"url":"https://lzwjava.github.io/android-image-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=dad02256f1d5428a25961839a3887fb8bb7880bd">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=dad02256f1d5428a25961839a3887fb8bb7880bd" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Android Image Processing Made Easy | Original
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/en/2014-07-27-android-image-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsen2014-07-27-android-image-en.md</span> -->
      

      <!-- <span>2014-07-27-android-image-en.md</span> -->

      
        

        
          
          <a href="#" class="button">2014.07</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/android-image-en" selected>English</option>
        <option value="/android-image-zh" >中文</option>
        <option value="/android-image-ja" >日本語</option>
        <option value="/android-image-es" >Español</option>
        <option value="/android-image-hi" >हिंदी</option>
        <option value="/android-image-fr" >Français</option>
        <option value="/android-image-de" >Deutsch</option>
        <option value="/android-image-ar" >العربية</option>
        <option value="/android-image-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Handling images in Android can be tricky—bitmaps eat up memory, rotations mess with orientation, and cropping requires precision. That’s where utility classes like <code class="language-plaintext highlighter-rouge">BitmapUtils</code> and <code class="language-plaintext highlighter-rouge">Crop</code> come in handy. In this post, I’ll walk you through a powerful pair of classes from the <code class="language-plaintext highlighter-rouge">com.lzw.flower.utils</code> package. We’ll explore their code, break down what each method does, and show how to use them in your projects. Let’s dive in!</p>

<hr />

<h4 id="bitmaputils-your-go-to-image-manipulation-toolkit">BitmapUtils: Your Go-To Image Manipulation Toolkit</h4>

<p>The <code class="language-plaintext highlighter-rouge">BitmapUtils</code> class is a collection of static methods for manipulating <code class="language-plaintext highlighter-rouge">Bitmap</code> objects. Here’s the full code, followed by a breakdown:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.lzw.flower.utils</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.BitmapFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Matrix</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.net.Uri</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.provider.MediaStore</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BitmapUtils</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Bitmap</span> <span class="nf">convertGreyImg</span><span class="o">(</span><span class="nc">Bitmap</span> <span class="n">img</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">width</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="na">getWidth</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">height</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="na">getHeight</span><span class="o">();</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">pixels</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">width</span> <span class="o">*</span> <span class="n">height</span><span class="o">];</span>
    <span class="n">img</span><span class="o">.</span><span class="na">getPixels</span><span class="o">(</span><span class="n">pixels</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">width</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mh">0xFF</span> <span class="o">&lt;&lt;</span> <span class="mi">24</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">height</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">width</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">grey</span> <span class="o">=</span> <span class="n">pixels</span><span class="o">[</span><span class="n">width</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">red</span> <span class="o">=</span> <span class="o">((</span><span class="n">grey</span> <span class="o">&amp;</span> <span class="mh">0x00FF0000</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">green</span> <span class="o">=</span> <span class="o">((</span><span class="n">grey</span> <span class="o">&amp;</span> <span class="mh">0x0000FF00</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">blue</span> <span class="o">=</span> <span class="o">(</span><span class="n">grey</span> <span class="o">&amp;</span> <span class="mh">0x000000FF</span><span class="o">);</span>
        <span class="n">grey</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">((</span><span class="kt">float</span><span class="o">)</span> <span class="n">red</span> <span class="o">*</span> <span class="mf">0.3</span> <span class="o">+</span> <span class="o">(</span><span class="kt">float</span><span class="o">)</span> <span class="n">green</span> <span class="o">*</span> <span class="mf">0.59</span> <span class="o">+</span> <span class="o">(</span><span class="kt">float</span><span class="o">)</span> <span class="n">blue</span> <span class="o">*</span> <span class="mf">0.11</span><span class="o">);</span>
        <span class="n">grey</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">|</span> <span class="o">(</span><span class="n">grey</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="o">)</span> <span class="o">|</span> <span class="o">(</span><span class="n">grey</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="o">)</span> <span class="o">|</span> <span class="n">grey</span><span class="o">;</span>
        <span class="n">pixels</span><span class="o">[</span><span class="n">width</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">grey</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="nc">Bitmap</span> <span class="n">result</span> <span class="o">=</span> <span class="nc">Bitmap</span><span class="o">.</span><span class="na">createBitmap</span><span class="o">(</span><span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">,</span> <span class="nc">Bitmap</span><span class="o">.</span><span class="na">Config</span><span class="o">.</span><span class="na">ARGB_8888</span><span class="o">);</span>
    <span class="n">result</span><span class="o">.</span><span class="na">setPixels</span><span class="o">(</span><span class="n">pixels</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">width</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">width</span><span class="o">,</span> <span class="n">height</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Bitmap</span> <span class="nf">toGreyImg</span><span class="o">(</span><span class="nc">Bitmap</span> <span class="n">bitmapOrg</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Bitmap</span> <span class="n">bitmapNew</span> <span class="o">=</span> <span class="n">bitmapOrg</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="nc">Bitmap</span><span class="o">.</span><span class="na">Config</span><span class="o">.</span><span class="na">ARGB_8888</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">bitmapNew</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">bitmapNew</span><span class="o">.</span><span class="na">getWidth</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">bitmapNew</span><span class="o">.</span><span class="na">getHeight</span><span class="o">();</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="n">bitmapNew</span><span class="o">.</span><span class="na">getPixel</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">alpha</span> <span class="o">=</span> <span class="n">col</span> <span class="o">&amp;</span> <span class="mh">0xFF000000</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">red</span> <span class="o">=</span> <span class="o">(</span><span class="n">col</span> <span class="o">&amp;</span> <span class="mh">0x00FF0000</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">green</span> <span class="o">=</span> <span class="o">(</span><span class="n">col</span> <span class="o">&amp;</span> <span class="mh">0x0000FF00</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">blue</span> <span class="o">=</span> <span class="o">(</span><span class="n">col</span> <span class="o">&amp;</span> <span class="mh">0x000000FF</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">gray</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">((</span><span class="kt">float</span><span class="o">)</span> <span class="n">red</span> <span class="o">*</span> <span class="mf">0.3</span> <span class="o">+</span> <span class="o">(</span><span class="kt">float</span><span class="o">)</span> <span class="n">green</span> <span class="o">*</span> <span class="mf">0.59</span> <span class="o">+</span> <span class="o">(</span><span class="kt">float</span><span class="o">)</span> <span class="n">blue</span> <span class="o">*</span> <span class="mf">0.11</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">newColor</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">|</span> <span class="o">(</span><span class="n">gray</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="o">)</span> <span class="o">|</span> <span class="o">(</span><span class="n">gray</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="o">)</span> <span class="o">|</span> <span class="n">gray</span><span class="o">;</span>
        <span class="n">bitmapNew</span><span class="o">.</span><span class="na">setPixel</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">newColor</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">bitmapNew</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">saveBitmapToPath</span><span class="o">(</span><span class="nc">Bitmap</span> <span class="n">bitmap</span><span class="o">,</span> <span class="nc">String</span> <span class="n">imagePath</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">FileOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="nc">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">imagePath</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">getParentFile</span><span class="o">().</span><span class="na">exists</span><span class="o">()</span> <span class="o">==</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">file</span><span class="o">.</span><span class="na">getParentFile</span><span class="o">().</span><span class="na">mkdirs</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileOutputStream</span><span class="o">(</span><span class="n">imagePath</span><span class="o">);</span>
      <span class="n">bitmap</span><span class="o">.</span><span class="na">compress</span><span class="o">(</span><span class="nc">Bitmap</span><span class="o">.</span><span class="na">CompressFormat</span><span class="o">.</span><span class="na">PNG</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="n">out</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">out</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Bitmap</span> <span class="nf">rotateBitmap</span><span class="o">(</span><span class="nc">Bitmap</span> <span class="n">source</span><span class="o">,</span> <span class="kt">float</span> <span class="n">angle</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Matrix</span> <span class="n">matrix</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Matrix</span><span class="o">();</span>
    <span class="n">matrix</span><span class="o">.</span><span class="na">postRotate</span><span class="o">(</span><span class="n">angle</span><span class="o">);</span>
    <span class="k">return</span> <span class="nc">Bitmap</span><span class="o">.</span><span class="na">createBitmap</span><span class="o">(</span><span class="n">source</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">source</span><span class="o">.</span><span class="na">getWidth</span><span class="o">(),</span> <span class="n">source</span><span class="o">.</span><span class="na">getHeight</span><span class="o">(),</span> <span class="n">matrix</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Uri</span> <span class="nf">getResourceUri</span><span class="o">(</span><span class="kt">int</span> <span class="n">resId</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"android.resource://com.lzw.flower/"</span> <span class="o">+</span> <span class="n">resId</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Bitmap</span> <span class="nf">getBitmapByUri</span><span class="o">(</span><span class="nc">Context</span> <span class="n">cxt</span><span class="o">,</span> <span class="nc">Uri</span> <span class="n">uri</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">MediaStore</span><span class="o">.</span><span class="na">Images</span><span class="o">.</span><span class="na">Media</span><span class="o">.</span><span class="na">getBitmap</span><span class="o">(</span><span class="n">cxt</span><span class="o">.</span><span class="na">getContentResolver</span><span class="o">(),</span> <span class="n">uri</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">calInSampleSize</span><span class="o">(</span><span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">Options</span> <span class="n">options</span><span class="o">,</span> <span class="kt">int</span> <span class="n">reqWidth</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">w</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="na">outWidth</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="na">outHeight</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">inSampleSize</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">w</span> <span class="o">&gt;</span> <span class="n">reqWidth</span> <span class="o">&amp;&amp;</span> <span class="n">reqWidth</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">inSampleSize</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">round</span><span class="o">(</span><span class="n">w</span> <span class="o">/</span> <span class="n">reqWidth</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">inSampleSize</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Bitmap</span> <span class="nf">decodeSampledBitmapFromPath</span><span class="o">(</span><span class="nc">String</span> <span class="n">path</span><span class="o">,</span> <span class="kt">int</span> <span class="n">reqWidth</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">Options</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">Options</span><span class="o">();</span>
    <span class="n">options</span><span class="o">.</span><span class="na">inJustDecodeBounds</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">inSampleSize</span> <span class="o">=</span> <span class="n">calInSampleSize</span><span class="o">(</span><span class="n">options</span><span class="o">,</span> <span class="n">reqWidth</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">inJustDecodeBounds</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="n">options</span><span class="o">.</span><span class="na">inSampleSize</span> <span class="o">=</span> <span class="n">inSampleSize</span><span class="o">;</span>
    <span class="k">return</span> <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Bitmap</span> <span class="nf">decodeFileByHeight</span><span class="o">(</span><span class="nc">String</span> <span class="n">path</span><span class="o">,</span> <span class="kt">int</span> <span class="n">reqH</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">Options</span> <span class="n">opt</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">Options</span><span class="o">();</span>
    <span class="n">opt</span><span class="o">.</span><span class="na">inJustDecodeBounds</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">opt</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">scale</span> <span class="o">=</span> <span class="n">calInSampleSizeByHeight</span><span class="o">(</span><span class="n">opt</span><span class="o">,</span> <span class="n">reqH</span><span class="o">);</span>
    <span class="n">opt</span><span class="o">.</span><span class="na">inSampleSize</span> <span class="o">=</span> <span class="n">scale</span><span class="o">;</span>
    <span class="n">opt</span><span class="o">.</span><span class="na">inJustDecodeBounds</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="nc">Bitmap</span> <span class="n">bm</span> <span class="o">=</span> <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">opt</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">bm</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">calInSampleSizeByHeight</span><span class="o">(</span><span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">Options</span> <span class="n">options</span><span class="o">,</span> <span class="kt">int</span> <span class="n">reqHeight</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="na">outHeight</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">inSampleSize</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">h</span> <span class="o">&gt;</span> <span class="n">reqHeight</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">inSampleSize</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">round</span><span class="o">(</span><span class="n">h</span> <span class="o">*</span> <span class="mf">1.0f</span> <span class="o">/</span> <span class="n">reqHeight</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">inSampleSize</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h5 id="whats-inside">What’s Inside?</h5>
<ul>
  <li><strong>Grayscale Conversion</strong>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">convertGreyImg</code>: Uses a pixel array to batch-process the bitmap into grayscale.</li>
      <li><code class="language-plaintext highlighter-rouge">toGreyImg</code>: Works pixel-by-pixel on a mutable copy, offering an alternative approach.
Both use the luminosity formula (<code class="language-plaintext highlighter-rouge">0.3R + 0.59G + 0.11B</code>) for natural grayscale.</li>
    </ul>
  </li>
  <li><strong>File Operations</strong>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">saveBitmapToPath</code>: Saves a bitmap as a PNG, creating directories as needed.</li>
    </ul>
  </li>
  <li><strong>Transformations</strong>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">rotateBitmap</code>: Rotates an image using a <code class="language-plaintext highlighter-rouge">Matrix</code>—simple but effective.</li>
    </ul>
  </li>
  <li><strong>Loading and Sampling</strong>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">getBitmapByUri</code> and <code class="language-plaintext highlighter-rouge">getResourceUri</code>: Load images from URIs or resources.</li>
      <li><code class="language-plaintext highlighter-rouge">decodeSampledBitmapFromPath</code> and <code class="language-plaintext highlighter-rouge">decodeFileByHeight</code>: Efficiently scale large images by width or height, avoiding memory issues.</li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="crop-precision-cropping-with-androids-native-tools">Crop: Precision Cropping with Android’s Native Tools</h4>

<p>The <code class="language-plaintext highlighter-rouge">Crop</code> class leverages Android’s built-in cropping intent. Here’s the code:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.lzw.flower.utils</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.net.Uri</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.provider.MediaStore</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.lzw.flower.base.App</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Crop</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">startPhotoCrop</span><span class="o">(</span><span class="nc">Activity</span> <span class="n">cxt</span><span class="o">,</span> <span class="nc">Uri</span> <span class="n">uri</span><span class="o">,</span> <span class="nc">String</span> <span class="n">outputPath</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="s">"com.android.camera.action.CROP"</span><span class="o">);</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">setDataAndType</span><span class="o">(</span><span class="n">uri</span><span class="o">,</span> <span class="s">"image/*"</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">w</span> <span class="o">=</span> <span class="nc">App</span><span class="o">.</span><span class="na">drawWidth</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="nc">App</span><span class="o">.</span><span class="na">drawHeight</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">factor</span> <span class="o">=</span> <span class="n">gcd</span><span class="o">(</span><span class="n">w</span><span class="o">,</span> <span class="n">h</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">w1</span> <span class="o">=</span> <span class="n">w</span> <span class="o">/</span> <span class="n">factor</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">h1</span> <span class="o">=</span> <span class="n">h</span> <span class="o">/</span> <span class="n">factor</span><span class="o">;</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"crop"</span><span class="o">,</span> <span class="s">"true"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"aspectX"</span><span class="o">,</span> <span class="n">w1</span><span class="o">)</span>
        <span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"aspectY"</span><span class="o">,</span> <span class="n">h1</span><span class="o">)</span>
        <span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"scale"</span><span class="o">,</span> <span class="kc">true</span><span class="o">)</span>
        <span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"outputX"</span><span class="o">,</span> <span class="n">w</span><span class="o">)</span>
        <span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"outputY"</span><span class="o">,</span> <span class="n">h</span><span class="o">)</span>
        <span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"outputFormat"</span><span class="o">,</span> <span class="nc">Bitmap</span><span class="o">.</span><span class="na">CompressFormat</span><span class="o">.</span><span class="na">PNG</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"noFaceDetection"</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"return-data"</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
    <span class="nc">Uri</span> <span class="n">uri1</span> <span class="o">=</span> <span class="nc">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">outputPath</span><span class="o">));</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="nc">MediaStore</span><span class="o">.</span><span class="na">EXTRA_OUTPUT</span><span class="o">,</span> <span class="n">uri1</span><span class="o">);</span>
    <span class="n">cxt</span><span class="o">.</span><span class="na">startActivityForResult</span><span class="o">(</span><span class="n">intent</span><span class="o">,</span> <span class="n">resultCode</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">static</span> <span class="kt">int</span> <span class="nf">gcd</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">a</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="k">return</span> <span class="nf">gcd</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h5 id="whats-happening-here">What’s Happening Here?</h5>
<ul>
  <li><code class="language-plaintext highlighter-rouge">startPhotoCrop</code>: Launches the system crop activity with a specified <code class="language-plaintext highlighter-rouge">Uri</code>, aspect ratio (simplified using GCD), and output path. It assumes <code class="language-plaintext highlighter-rouge">App.drawWidth</code> and <code class="language-plaintext highlighter-rouge">App.drawHeight</code> are defined elsewhere (e.g., in a base <code class="language-plaintext highlighter-rouge">App</code> class).</li>
  <li><code class="language-plaintext highlighter-rouge">gcd</code>: A recursive method to compute the greatest common divisor, ensuring the aspect ratio is in its simplest form.</li>
</ul>

<hr />

<h4 id="putting-it-all-together-usage-examples">Putting It All Together: Usage Examples</h4>

<p>Here’s how you might use these utilities in an Android app:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.net.Uri</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.lzw.flower.utils.BitmapUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.lzw.flower.utils.Crop</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">AppCompatActivity</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">REQUEST_CROP</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>

        <span class="c1">// Convert an image to grayscale and save it</span>
        <span class="nc">Bitmap</span> <span class="n">original</span> <span class="o">=</span> <span class="nc">BitmapFactory</span><span class="o">.</span><span class="na">decodeResource</span><span class="o">(</span><span class="n">getResources</span><span class="o">(),</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">sample</span><span class="o">);</span>
        <span class="nc">Bitmap</span> <span class="n">grey</span> <span class="o">=</span> <span class="nc">BitmapUtils</span><span class="o">.</span><span class="na">convertGreyImg</span><span class="o">(</span><span class="n">original</span><span class="o">);</span>
        <span class="nc">BitmapUtils</span><span class="o">.</span><span class="na">saveBitmapToPath</span><span class="o">(</span><span class="n">grey</span><span class="o">,</span> <span class="s">"/sdcard/DCIM/grey_image.png"</span><span class="o">);</span>

        <span class="c1">// Load and scale an image efficiently</span>
        <span class="nc">Bitmap</span> <span class="n">scaled</span> <span class="o">=</span> <span class="nc">BitmapUtils</span><span class="o">.</span><span class="na">decodeSampledBitmapFromPath</span><span class="o">(</span><span class="s">"/sdcard/DCIM/photo.jpg"</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span>

        <span class="c1">// Launch cropping</span>
        <span class="nc">Uri</span> <span class="n">imageUri</span> <span class="o">=</span> <span class="nc">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"/sdcard/DCIM/photo.jpg"</span><span class="o">));</span>
        <span class="nc">Crop</span><span class="o">.</span><span class="na">startPhotoCrop</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">imageUri</span><span class="o">,</span> <span class="s">"/sdcard/DCIM/cropped.png"</span><span class="o">,</span> <span class="no">REQUEST_CROP</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span> <span class="nc">Intent</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onActivityResult</span><span class="o">(</span><span class="n">requestCode</span><span class="o">,</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="no">REQUEST_CROP</span> <span class="o">&amp;&amp;</span> <span class="n">resultCode</span> <span class="o">==</span> <span class="no">RESULT_OK</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// Cropped image is saved at "/sdcard/DCIM/cropped.png"</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>Notes</strong>:</p>
<ul>
  <li>Ensure proper storage permissions in your <code class="language-plaintext highlighter-rouge">AndroidManifest.xml</code> and runtime checks for file operations.</li>
  <li>The <code class="language-plaintext highlighter-rouge">App</code> class (referenced in <code class="language-plaintext highlighter-rouge">Crop</code>) should define <code class="language-plaintext highlighter-rouge">drawWidth</code> and <code class="language-plaintext highlighter-rouge">drawHeight</code>.</li>
</ul>

<hr />

<h4 id="why-these-utilities-rock">Why These Utilities Rock</h4>

<ol>
  <li><strong>Efficiency</strong>: Sampling methods prevent <code class="language-plaintext highlighter-rouge">OutOfMemoryError</code> when dealing with large images.</li>
  <li><strong>Flexibility</strong>: Grayscale, rotation, and cropping cover a wide range of use cases.</li>
  <li><strong>Simplicity</strong>: Static methods make integration a breeze—no instantiation required.</li>
</ol>

<hr />

<h4 id="final-thoughts">Final Thoughts</h4>

<p>The <code class="language-plaintext highlighter-rouge">BitmapUtils</code> and <code class="language-plaintext highlighter-rouge">Crop</code> classes are a fantastic starting point for any Android app needing image manipulation. Whether you’re building a photo editor, optimizing gallery thumbnails, or adding user-driven cropping, this code has you covered. Try it out, tweak it to your needs, and let me know how it works for you!</p>

<p>What image processing challenges have you faced in Android? Share your thoughts below!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
