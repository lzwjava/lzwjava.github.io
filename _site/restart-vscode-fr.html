<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Gestion automatisée des brouillons de blog avec redémarrage de VSCode</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Gestion automatisée des brouillons de blog avec redémarrage de VSCode | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Gestion automatisée des brouillons de blog avec redémarrage de VSCode" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="fr" />
<meta name="description" content="Le script que vous avez fourni est conçu pour automatiser le processus de publication de brouillons d’articles de blog de manière structurée. Il est particulièrement utile pour les blogueurs ou les créateurs de contenu qui gèrent leurs articles sous forme de brouillons avant qu’ils ne soient prêts à être publiés. Voici une introduction étendue pour donner plus de contexte sur le script :" />
<meta property="og:description" content="Le script que vous avez fourni est conçu pour automatiser le processus de publication de brouillons d’articles de blog de manière structurée. Il est particulièrement utile pour les blogueurs ou les créateurs de contenu qui gèrent leurs articles sous forme de brouillons avant qu’ils ne soient prêts à être publiés. Voici une introduction étendue pour donner plus de contexte sur le script :" />
<link rel="canonical" href="https://lzwjava.github.io/restart-vscode-fr" />
<meta property="og:url" content="https://lzwjava.github.io/restart-vscode-fr" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-07-15T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Gestion automatisée des brouillons de blog avec redémarrage de VSCode" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2025-07-15T00:00:00+08:00","datePublished":"2025-07-15T00:00:00+08:00","description":"Le script que vous avez fourni est conçu pour automatiser le processus de publication de brouillons d’articles de blog de manière structurée. Il est particulièrement utile pour les blogueurs ou les créateurs de contenu qui gèrent leurs articles sous forme de brouillons avant qu’ils ne soient prêts à être publiés. Voici une introduction étendue pour donner plus de contexte sur le script :","headline":"Gestion automatisée des brouillons de blog avec redémarrage de VSCode","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/restart-vscode-fr"},"url":"https://lzwjava.github.io/restart-vscode-fr"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=1f90d5812d291354a90d5b4a3d1b20a4c7a55de4">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=1f90d5812d291354a90d5b4a3d1b20a4c7a55de4" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Gestion automatisée des brouillons de blog avec redémarrage de VSCode | Original, traduit par l'IA
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/fr/2025-07-15-restart-vscode-fr.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsfr2025-07-15-restart-vscode-fr.md</span> -->
      

      <!-- <span>2025-07-15-restart-vscode-fr.md</span> -->

      
        

        
          
          <a href="#" class="button">2025.07</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/restart-vscode-en" >English</option>
        <option value="/restart-vscode-zh" >中文</option>
        <option value="/restart-vscode-ja" >日本語</option>
        <option value="/restart-vscode-es" >Español</option>
        <option value="/restart-vscode-hi" >हिंदी</option>
        <option value="/restart-vscode-fr" selected>Français</option>
        <option value="/restart-vscode-de" >Deutsch</option>
        <option value="/restart-vscode-ar" >العربية</option>
        <option value="/restart-vscode-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Le script que vous avez fourni est conçu pour automatiser le processus de publication de brouillons d’articles de blog de manière structurée. Il est particulièrement utile pour les blogueurs ou les créateurs de contenu qui gèrent leurs articles sous forme de brouillons avant qu’ils ne soient prêts à être publiés. Voici une introduction étendue pour donner plus de contexte sur le script :</p>

<h2 id="introduction">Introduction</h2>

<p>Gérer un blog ou tout site web axé sur le contenu implique souvent de créer et de stocker des brouillons avant qu’ils ne soient prêts à être publiés. Ce script est conçu pour rationaliser le processus de déplacement des articles en brouillon vers un répertoire de publication désigné, spécifiquement pour une configuration de générateur de site statique, comme ceux utilisant Jekyll ou des frameworks similaires.</p>

<p>Le script effectue les tâches clés suivantes :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">publish_drafts_to_posts</span><span class="p">():</span>
    <span class="s">"""Vérifie les fichiers de brouillons créés aujourd'hui et les déplace vers le répertoire _posts/en."""</span>
    <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">date</span><span class="p">.</span><span class="n">today</span><span class="p">()</span>
    <span class="n">date_str</span> <span class="o">=</span> <span class="n">today</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%Y-%m-%d'</span><span class="p">)</span>

    <span class="n">drafts_dir</span> <span class="o">=</span> <span class="s">'_drafts'</span>
    <span class="n">posts_en_dir</span> <span class="o">=</span> <span class="s">"original"</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">drafts_dir</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Le répertoire de brouillons '</span><span class="si">{</span><span class="n">drafts_dir</span><span class="si">}</span><span class="s">' n'existe pas. Aucun fichier à publier."</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">posts_en_dir</span><span class="p">):</span>
        <span class="n">os</span><span class="p">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">posts_en_dir</span><span class="p">)</span>

    <span class="c1"># Modèle pour trouver les fichiers dans le répertoire de brouillons commençant par la date d'aujourd'hui et se terminant par -en.md
</span>    <span class="n">pattern</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">drafts_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">date_str</span><span class="si">}</span><span class="s">-*-en.md"</span><span class="p">)</span>

    <span class="n">found_files</span> <span class="o">=</span> <span class="n">glob</span><span class="p">.</span><span class="n">glob</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">found_files</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Aucun fichier de brouillon trouvé dans '</span><span class="si">{</span><span class="n">drafts_dir</span><span class="si">}</span><span class="s">' commençant par '</span><span class="si">{</span><span class="n">date_str</span><span class="si">}</span><span class="s">' à publier."</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">found_files</span><span class="p">:</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="n">destination_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">posts_en_dir</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">shutil</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Déplacé '</span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s">' de '</span><span class="si">{</span><span class="n">drafts_dir</span><span class="si">}</span><span class="s">' vers '</span><span class="si">{</span><span class="n">posts_en_dir</span><span class="si">}</span><span class="s">'."</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Erreur lors du déplacement de '</span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s">' : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>

    <span class="n">restart_vscode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">restart_vscode</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Redémarrage de VSCode de manière élégante pour éviter la recréation accidentelle de fichiers de brouillons..."</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">sys</span><span class="p">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s">'win32'</span><span class="p">:</span>
            <span class="c1"># Fermeture élégante sans /f
</span>            <span class="n">os</span><span class="p">.</span><span class="n">system</span><span class="p">(</span><span class="s">'taskkill /im Code.exe /t'</span><span class="p">)</span>
            <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Délai pour le nettoyage
</span>            <span class="n">subprocess</span><span class="p">.</span><span class="n">Popen</span><span class="p">([</span><span class="s">'code'</span><span class="p">,</span> <span class="s">'.'</span><span class="p">])</span>  <span class="c1"># Réouverture
</span>        <span class="k">elif</span> <span class="n">sys</span><span class="p">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s">'darwin'</span><span class="p">:</span>
            <span class="c1"># Utilisation d'AppleScript pour une fermeture élégante
</span>            <span class="n">os</span><span class="p">.</span><span class="n">system</span><span class="p">(</span><span class="s">'osascript -e </span><span class="se">\'</span><span class="s">quit app "Visual Studio Code"</span><span class="se">\'</span><span class="s">'</span><span class="p">)</span>
            <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
            <span class="n">subprocess</span><span class="p">.</span><span class="n">call</span><span class="p">([</span><span class="s">'open'</span><span class="p">,</span> <span class="s">'-a'</span><span class="p">,</span> <span class="s">'Visual Studio Code'</span><span class="p">,</span> <span class="s">'.'</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">sys</span><span class="p">.</span><span class="n">platform</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'linux'</span><span class="p">):</span>
            <span class="c1"># SIGTERM pour une terminaison élégante
</span>            <span class="n">os</span><span class="p">.</span><span class="n">system</span><span class="p">(</span><span class="s">'killall code'</span><span class="p">)</span>
            <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
            <span class="n">subprocess</span><span class="p">.</span><span class="n">Popen</span><span class="p">([</span><span class="s">'code'</span><span class="p">,</span> <span class="s">'.'</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"Plateforme non prise en charge pour le redémarrage de VSCode."</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Erreur lors du redémarrage : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s">. Veuillez redémarrer manuellement VSCode."</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">publish_drafts_to_posts</span><span class="p">()</span>
</code></pre></div></div>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-fr" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
