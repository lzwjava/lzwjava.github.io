<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Google Cloud Transcription</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Google Cloud Transcription | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Google Cloud Transcription" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="de" />
<meta name="description" content="Ich habe kürzlich mit der Speech-to-Text API von Google Cloud experimentiert. Im Folgenden finden Sie eine Python-Funktion, die ich zur Transkription verwendet habe." />
<meta property="og:description" content="Ich habe kürzlich mit der Speech-to-Text API von Google Cloud experimentiert. Im Folgenden finden Sie eine Python-Funktion, die ich zur Transkription verwendet habe." />
<link rel="canonical" href="https://lzwjava.github.io/speech-to-text-de" />
<meta property="og:url" content="https://lzwjava.github.io/speech-to-text-de" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-01-18T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Google Cloud Transcription" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2025-01-18T00:00:00+08:00","datePublished":"2025-01-18T00:00:00+08:00","description":"Ich habe kürzlich mit der Speech-to-Text API von Google Cloud experimentiert. Im Folgenden finden Sie eine Python-Funktion, die ich zur Transkription verwendet habe.","headline":"Google Cloud Transcription","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/speech-to-text-de"},"url":"https://lzwjava.github.io/speech-to-text-de"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=4603736c752c7a0442a447e179347e863001d5ce">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=4603736c752c7a0442a447e179347e863001d5ce" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Google Cloud Transcription | Original, von KI übersetzt
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/de/2025-01-18-speech-to-text-de.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsde2025-01-18-speech-to-text-de.md</span> -->
      

      <!-- <span>2025-01-18-speech-to-text-de.md</span> -->

      
        

        
          
          <a href="#" class="button">2025.01</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/speech-to-text-en" >English</option>
        <option value="/speech-to-text-zh" >中文</option>
        <option value="/speech-to-text-ja" >日本語</option>
        <option value="/speech-to-text-es" >Español</option>
        <option value="/speech-to-text-hi" >हिंदी</option>
        <option value="/speech-to-text-fr" >Français</option>
        <option value="/speech-to-text-de" selected>Deutsch</option>
        <option value="/speech-to-text-ar" >العربية</option>
        <option value="/speech-to-text-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Ich habe kürzlich mit der Speech-to-Text API von Google Cloud experimentiert. Im Folgenden finden Sie eine Python-Funktion, die ich zur Transkription verwendet habe.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">from</span> <span class="nn">google.cloud</span> <span class="kn">import</span> <span class="n">storage</span>

<span class="kn">from</span> <span class="nn">google.cloud.speech_v2</span> <span class="kn">import</span> <span class="n">SpeechClient</span>
<span class="kn">from</span> <span class="nn">google.cloud.speech_v2.types</span> <span class="kn">import</span> <span class="n">cloud_speech</span>

<span class="n">MAX_AUDIO_LENGTH_SECS</span> <span class="o">=</span> <span class="mi">8</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span>
<span class="n">OUTPUT_DIRECTORY</span> <span class="o">=</span> <span class="s">"assets/transcriptions"</span>


<span class="k">def</span> <span class="nf">run_batch_recognize</span><span class="p">(</span><span class="n">audio_gcs_uri</span><span class="p">,</span> <span class="n">output_gcs_folder</span><span class="p">,</span> <span class="n">language_code</span><span class="o">=</span><span class="s">"en-US"</span><span class="p">):</span>
    <span class="s">"""
    Transkribiert eine Audiodatei mit der Google Cloud Speech-to-Text Batch API.

    Args:
        audio_gcs_uri: GCS-URI der Audiodatei.
        output_gcs_folder: GCS-URI des Ordners, in dem die Transkription gespeichert werden soll.
        language_code: Sprachcode für die Transkription (z.B. "en-US", "cmn-CN").
    """</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">SpeechClient</span><span class="p">()</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">cloud_speech</span><span class="p">.</span><span class="n">RecognitionConfig</span><span class="p">(</span>
        <span class="n">auto_decoding_config</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">features</span><span class="o">=</span><span class="n">cloud_speech</span><span class="p">.</span><span class="n">RecognitionFeatures</span><span class="p">(</span>
            <span class="n">enable_word_confidence</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">enable_word_time_offsets</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">model</span><span class="o">=</span><span class="s">"long"</span><span class="p">,</span>
        <span class="n">language_codes</span><span class="o">=</span><span class="p">[</span><span class="n">language_code</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="n">output_config</span> <span class="o">=</span> <span class="n">cloud_speech</span><span class="p">.</span><span class="n">RecognitionOutputConfig</span><span class="p">(</span>
        <span class="n">gcs_output_config</span><span class="o">=</span><span class="n">cloud_speech</span><span class="p">.</span><span class="n">GcsOutputConfig</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="n">output_gcs_folder</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">cloud_speech</span><span class="p">.</span><span class="n">BatchRecognizeFileMetadata</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="n">audio_gcs_uri</span><span class="p">)]</span>

    <span class="n">request</span> <span class="o">=</span> <span class="n">cloud_speech</span><span class="p">.</span><span class="n">BatchRecognizeRequest</span><span class="p">(</span>
        <span class="n">recognizer</span><span class="o">=</span><span class="s">"projects/graphite-ally-445108-k3/locations/global/recognizers/_"</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
        <span class="n">recognition_output_config</span><span class="o">=</span><span class="n">output_config</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">operation</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">batch_recognize</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s">"Warten auf den Abschluss des Vorgangs..."</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">operation</span><span class="p">.</span><span class="n">result</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">3</span> <span class="o">*</span> <span class="n">MAX_AUDIO_LENGTH_SECS</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">process_audio_files</span><span class="p">(</span><span class="n">input_dir</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">):</span>
    <span class="n">os</span><span class="p">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="n">all_audio_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="p">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">input_dir</span><span class="p">)</span> <span class="k">if</span> <span class="n">f</span><span class="p">.</span><span class="n">endswith</span><span class="p">((</span><span class="s">'.mp3'</span><span class="p">,</span> <span class="s">'.wav'</span><span class="p">,</span> <span class="s">'.m4a'</span><span class="p">))]</span>
    <span class="n">total_files</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_audio_files</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Gesamtzahl der zu verarbeitenden Audiodateien: </span><span class="si">{</span><span class="n">total_files</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">total_files</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Keine Audiodateien im Verzeichnis '</span><span class="si">{</span><span class="n">input_dir</span><span class="si">}</span><span class="s">' gefunden."</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">files_processed</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">all_audio_files</span><span class="p">:</span>
        <span class="n">audio_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">input_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="n">output_filename</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">filename</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">.txt"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">output_filename</span><span class="p">):</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Überspringe </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">output_filename</span><span class="si">}</span><span class="s"> existiert bereits."</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="se">\n</span><span class="s">Verarbeite </span><span class="si">{</span><span class="n">files_processed</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">total_files</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Sprache anhand des Dateinamensuffixes bestimmen
</span>            <span class="k">if</span> <span class="n">filename</span><span class="p">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">'-zh.mp3'</span><span class="p">)</span> <span class="ow">or</span> <span class="n">filename</span><span class="p">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">'-zh.wav'</span><span class="p">)</span> <span class="ow">or</span> <span class="n">filename</span><span class="p">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">'-zh.m4a'</span><span class="p">):</span>
                <span class="n">language_code</span> <span class="o">=</span> <span class="s">"cmn-CN"</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">language_code</span> <span class="o">=</span> <span class="s">"en-US"</span>

            <span class="c1"># GCS-URIs erstellen
</span>            <span class="n">gcs_audio_uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"gs://test2x/audio-files/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s">"</span>  <span class="c1"># Ersetzen Sie dies durch Ihren Bucket und Ordner
</span>            <span class="n">gcs_output_uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"gs://test2x/transcripts/</span><span class="si">{</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">filename</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">"</span> <span class="c1"># Ersetzen Sie dies durch Ihren Bucket und Ordner
</span>            
            <span class="c1"># Datei in GCS hochladen, falls sie nicht existiert
</span>            <span class="c1"># Dieser Teil ist nicht implementiert, Sie müssten Code hinzufügen, um die Datei in GCS hochzuladen
</span>            <span class="c1"># Zum Beispiel mit der google-cloud-storage Bibliothek
</span>
            <span class="n">storage_client</span> <span class="o">=</span> <span class="n">storage</span><span class="p">.</span><span class="n">Client</span><span class="p">()</span>
            <span class="n">bucket</span> <span class="o">=</span> <span class="n">storage_client</span><span class="p">.</span><span class="n">bucket</span><span class="p">(</span><span class="s">"test2x"</span><span class="p">)</span>
            <span class="n">blob</span> <span class="o">=</span> <span class="n">bucket</span><span class="p">.</span><span class="n">blob</span><span class="p">(</span><span class="sa">f</span><span class="s">"audio-files/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">blob</span><span class="p">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="n">blob</span><span class="p">.</span><span class="n">upload_from_filename</span><span class="p">(</span><span class="n">audio_file_path</span><span class="p">)</span>
                <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s"> wurde in GCS hochgeladen."</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s"> existiert bereits in GCS."</span><span class="p">)</span>


            <span class="n">run_batch_recognize</span><span class="p">(</span>
                <span class="n">audio_gcs_uri</span><span class="o">=</span><span class="n">gcs_audio_uri</span><span class="p">,</span>
                <span class="n">output_gcs_folder</span><span class="o">=</span><span class="n">gcs_output_uri</span><span class="p">,</span>
                <span class="n">language_code</span><span class="o">=</span><span class="n">language_code</span>
            <span class="p">)</span>
            <span class="n">files_processed</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Datei </span><span class="si">{</span><span class="n">files_processed</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">total_files</span><span class="si">}</span><span class="s"> verarbeitet.</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>

            <span class="c1"># Transkription herunterladen
</span>            <span class="n">output_gcs_uri_json</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">gcs_output_uri</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">filename</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">_transcript_*.json"</span>
            
            <span class="n">blobs</span> <span class="o">=</span> <span class="n">storage_client</span><span class="p">.</span><span class="n">list_blobs</span><span class="p">(</span><span class="s">"test2x"</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="sa">f</span><span class="s">"transcripts/</span><span class="si">{</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">filename</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
            
            <span class="k">for</span> <span class="n">blob</span> <span class="ow">in</span> <span class="n">blobs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">blob</span><span class="p">.</span><span class="n">name</span><span class="p">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">".json"</span><span class="p">):</span>
                    <span class="n">local_output_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">blob</span><span class="p">.</span><span class="n">name</span><span class="p">))</span>
                    <span class="n">blob</span><span class="p">.</span><span class="n">download_to_filename</span><span class="p">(</span><span class="n">local_output_path</span><span class="p">)</span>
                    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">blob</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s"> wurde nach </span><span class="si">{</span><span class="n">local_output_path</span><span class="si">}</span><span class="s"> heruntergeladen."</span><span class="p">)</span>


        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Fehler bei der Verarbeitung von </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
            <span class="k">continue</span>

    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Verarbeitung abgeschlossen! </span><span class="si">{</span><span class="n">files_processed</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">total_files</span><span class="si">}</span><span class="s"> Dateien verarbeitet."</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s">"Verarbeitet Audiodateien, um Transkriptionen zu erstellen."</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'--input_dir'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">"assets/audios"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">"Eingabeverzeichnis für Audiodateien."</span><span class="p">)</span>

    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="n">process_audio_files</span><span class="p">(</span>
        <span class="n">input_dir</span><span class="o">=</span><span class="n">args</span><span class="p">.</span><span class="n">input_dir</span><span class="p">,</span>
        <span class="n">output_dir</span><span class="o">=</span><span class="n">OUTPUT_DIRECTORY</span><span class="p">,</span>
    <span class="p">)</span>

</code></pre></div></div>

<p>Ergebnis. Modifiziert, um einen Ausschnitt der JSON-Ausgabe zu zeigen, wobei einige Werte der Kürze halber entfernt wurden. Das vollständige JSON enthält detailliertere Informationen.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"alternatives"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"transcript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here's To The Crazy Ones The Misfits the Rebels the troublemakers the round pegs in the square holes the ones who see things differently they're not fond of rules and they have no respect for the status quo"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.95684826</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"words"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.200s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here's"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8265989</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.200s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.400s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"To"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9994259</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.400s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.400s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9994259</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.400s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.900s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crazy"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9975712</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.900s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.100s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ones"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9904002</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.100s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.700s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9994307</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.700s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.200s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Misfits"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9352707</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.200s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.400s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"the"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.99881697</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.400s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.800s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rebels"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9900544</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"startOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.800s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"endOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.300s"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"word"</span><span class="p">:</span><span class="w"> </span><span class="s2">"the"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.99904335</span><span class="w">
                        </span><span class="p">}</span><span class="w">                        
                    </span><span class="p">]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"resultEndOffset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23.780s"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"languageCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-de" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
