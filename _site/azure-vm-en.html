<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Setting Up an Azure Server</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Setting Up an Azure Server | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Setting Up an Azure Server" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="Setting up a server on Microsoft Azure and configuring it to open specific ports is essential for various applications, including hosting services, proxies, and more. This guide will walk you through the process of creating an Azure Virtual Machine (VM) and configuring the firewall to open port 1080." />
<meta property="og:description" content="Setting up a server on Microsoft Azure and configuring it to open specific ports is essential for various applications, including hosting services, proxies, and more. This guide will walk you through the process of creating an Azure Virtual Machine (VM) and configuring the firewall to open port 1080." />
<link rel="canonical" href="https://lzwjava.github.io/azure-vm-en" />
<meta property="og:url" content="https://lzwjava.github.io/azure-vm-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-12-20T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Setting Up an Azure Server" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2024-12-20T00:00:00+08:00","datePublished":"2024-12-20T00:00:00+08:00","description":"Setting up a server on Microsoft Azure and configuring it to open specific ports is essential for various applications, including hosting services, proxies, and more. This guide will walk you through the process of creating an Azure Virtual Machine (VM) and configuring the firewall to open port 1080.","headline":"Setting Up an Azure Server","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/azure-vm-en"},"url":"https://lzwjava.github.io/azure-vm-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=6a0475de5c763d2602122ebf912cb2cfa1720ac8">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=6a0475de5c763d2602122ebf912cb2cfa1720ac8" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Setting Up an Azure Server | Original
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/en/2024-12-20-azure-vm-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!-- 
    <a href="#" id="playAudioButton" class="button audio-button" data-file-path="_posts/en/2024-12-20-azure-vm-en.md">Audio</a>
     -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsen2024-12-20-azure-vm-en.md</span> -->
      

      <!-- <span>2024-12-20-azure-vm-en.md</span> -->

      
        

        
          
          <a href="#" class="button">2024.12</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/azure-vm-en" selected>English</option>
        <option value="/azure-vm-zh" >中文</option>
        <option value="/azure-vm-ja" >日本語</option>
        <option value="/azure-vm-es" >Español</option>
        <option value="/azure-vm-hi" >हिंदी</option>
        <option value="/azure-vm-fr" >Français</option>
        <option value="/azure-vm-de" >Deutsch</option>
        <option value="/azure-vm-ar" >العربية</option>
        <option value="/azure-vm-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Setting up a server on Microsoft Azure and configuring it to open specific ports is essential for various applications, including hosting services, proxies, and more. This guide will walk you through the process of creating an Azure Virtual Machine (VM) and configuring the firewall to open port 1080.</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ol>
  <li><a href="#prerequisites">Prerequisites</a></li>
  <li><a href="#creating-an-azure-virtual-machine">Creating an Azure Virtual Machine</a></li>
  <li><a href="#configuring-the-firewall-to-open-port-1080">Configuring the Firewall to Open Port 1080</a></li>
  <li><a href="#testing-the-configuration">Testing the Configuration</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ol>

<h2 id="prerequisites">Prerequisites</h2>

<p>Before you begin, ensure you have the following:</p>

<ul>
  <li>An active <a href="https://azure.microsoft.com/">Microsoft Azure</a> account.</li>
  <li>Basic knowledge of using the Azure Portal.</li>
  <li>SSH client (like Terminal on macOS/Linux or PuTTY on Windows) for accessing the VM.</li>
</ul>

<h2 id="creating-an-azure-virtual-machine">Creating an Azure Virtual Machine</h2>

<ol>
  <li>
    <p>Log into the Azure Portal:
Navigate to the <a href="https://portal.azure.com/">Azure Portal</a> and sign in with your credentials.</p>
  </li>
  <li>Create a New Virtual Machine:
    <ul>
      <li>Click on “Create a resource” in the upper-left corner.</li>
      <li>Select “Virtual Machine” from the list of available resources.</li>
    </ul>
  </li>
  <li>Configure VM Basics:
    <ul>
      <li>Subscription: Choose your Azure subscription.</li>
      <li>Resource Group: Create a new resource group or select an existing one.</li>
      <li>Virtual Machine Name: Enter a name for your VM (e.g., <code class="language-plaintext highlighter-rouge">AzureServer</code>).</li>
      <li>Region: Select the region closest to your target audience.</li>
      <li>Image: Choose an OS image (e.g., Ubuntu 22.04 LTS).</li>
      <li>Size: Select a VM size based on your performance needs.</li>
      <li>Authentication: Choose SSH public key for secure access. Upload your public SSH key.</li>
    </ul>
  </li>
  <li>Configure Networking:
    <ul>
      <li>Ensure the VM is placed in the appropriate Virtual Network and Subnet.</li>
      <li>Leave the Public IP enabled to allow external access.</li>
    </ul>
  </li>
  <li>Review and Create:
    <ul>
      <li>Review your configurations.</li>
      <li>Click “Create” to deploy the VM. Deployment may take a few minutes.</li>
    </ul>
  </li>
</ol>

<h2 id="configuring-the-firewall-to-open-port-1080">Configuring the Firewall to Open Port 1080</h2>

<p>Once your VM is up and running, you’ll need to configure Azure’s Network Security Group (NSG) to allow traffic on port 1080.</p>

<ol>
  <li>Navigate to Your VM’s Networking Settings:
    <ul>
      <li>In the Azure Portal, go to “Virtual Machines”.</li>
      <li>Select your VM (<code class="language-plaintext highlighter-rouge">AzureServer</code>).</li>
      <li>Click on “Networking” in the left sidebar.</li>
    </ul>
  </li>
  <li>Identify the Network Security Group (NSG):
    <ul>
      <li>Under “Network Interface”, locate the associated NSG.</li>
      <li>Click on the NSG to manage its rules.</li>
    </ul>
  </li>
  <li>Add an Inbound Security Rule:
    <ul>
      <li>In the NSG settings, go to “Inbound security rules”.</li>
      <li>Click “Add” to create a new rule.</li>
    </ul>
  </li>
  <li>Configure the Rule:
    <ul>
      <li>Source: Any (or specify a range for enhanced security).</li>
      <li>Source port ranges: <code class="language-plaintext highlighter-rouge">*</code></li>
      <li>Destination: Any</li>
      <li>Destination port ranges: <code class="language-plaintext highlighter-rouge">1080</code></li>
      <li>Protocol: TCP</li>
      <li>Action: Allow</li>
      <li>Priority: <code class="language-plaintext highlighter-rouge">1000</code> (ensure it doesn’t conflict with existing rules).</li>
      <li>Name: <code class="language-plaintext highlighter-rouge">Allow-1080-TCP</code></li>
    </ul>
  </li>
  <li>Save the Rule:
    <ul>
      <li>Click “Add” to apply the new rule.</li>
    </ul>
  </li>
</ol>

<h2 id="testing-the-configuration">Testing the Configuration</h2>

<p>After configuring the firewall, it’s essential to verify that port 1080 is open and accessible.</p>

<ol>
  <li>
    <p>Use Telnet to Verify Port Accessibility:
From your local machine, run:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>telnet &lt;YOUR_VM_IP&gt; 1080
</code></pre></div>    </div>

    <ul>
      <li>Replace <code class="language-plaintext highlighter-rouge">&lt;YOUR_VM_IP&gt;</code> with your VM’s public IP address.</li>
      <li>If the connection is successful, the port is open and accessible.</li>
    </ul>
  </li>
  <li>Alternative Port Checking Tools:
    <ul>
      <li>Netcat (<code class="language-plaintext highlighter-rouge">nc</code>):
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nc <span class="nt">-zv</span> &lt;YOUR_VM_IP&gt; 1080
</code></pre></div>        </div>
      </li>
      <li>Online Port Checkers:
Use online services like <a href="https://canyouseeme.org/">canyouseeme.org</a> to check if port 1080 is open.</li>
    </ul>
  </li>
  <li>Troubleshooting:
    <ul>
      <li>Connection Issues: Verify that the NSG rules are correctly set and that any local firewalls on the VM are configured to allow traffic on port 1080.</li>
      <li>Incorrect IP: Ensure you’re using the correct public IP address of your VM.</li>
    </ul>
  </li>
</ol>

<h2 id="conclusion">Conclusion</h2>

<p>By following this guide, you’ve successfully set up an Azure Virtual Machine and configured the firewall to open port 1080. This setup lays the foundation for deploying various applications or services that require specific port access.</p>

<p>For further configurations, such as setting up proxy services or other applications on port 1080, refer to our dedicated posts on <a href="#">V2Ray Proxy Setup</a> and <a href="#">Generating a Custom vmess URL</a>.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
