<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Page de Statut Personnelle</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Page de Statut Personnelle | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Page de Statut Personnelle" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="fr" />
<meta name="description" content="Il semble que la version de vnstat que vous avez installée ne supporte pas le paramètre -u. Procédons avec les étapes correctes pour configurer vnstat et mettre en place l’API de surveillance de la bande passante." />
<meta property="og:description" content="Il semble que la version de vnstat que vous avez installée ne supporte pas le paramètre -u. Procédons avec les étapes correctes pour configurer vnstat et mettre en place l’API de surveillance de la bande passante." />
<link rel="canonical" href="https://lzwjava.github.io/status-fr" />
<meta property="og:url" content="https://lzwjava.github.io/status-fr" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-01-03T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Page de Statut Personnelle" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2025-01-03T00:00:00+08:00","datePublished":"2025-01-03T00:00:00+08:00","description":"Il semble que la version de vnstat que vous avez installée ne supporte pas le paramètre -u. Procédons avec les étapes correctes pour configurer vnstat et mettre en place l’API de surveillance de la bande passante.","headline":"Page de Statut Personnelle","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/status-fr"},"url":"https://lzwjava.github.io/status-fr"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=828d14c756017bc217744e388d953e569da12eee">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=828d14c756017bc217744e388d953e569da12eee" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Page de Statut Personnelle | Original, traduit par l'IA
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/fr/2025-01-03-status-fr.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsfr2025-01-03-status-fr.md</span> -->
      

      <!-- <span>2025-01-03-status-fr.md</span> -->

      
        

        
          
          <a href="#" class="button">2025.01</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/status-en" >English</option>
        <option value="/status-zh" >中文</option>
        <option value="/status-ja" >日本語</option>
        <option value="/status-es" >Español</option>
        <option value="/status-hi" >हिंदी</option>
        <option value="/status-fr" selected>Français</option>
        <option value="/status-de" >Deutsch</option>
        <option value="/status-ar" >العربية</option>
        <option value="/status-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Il semble que la version de <code class="language-plaintext highlighter-rouge">vnstat</code> que vous avez installée ne supporte pas le paramètre <code class="language-plaintext highlighter-rouge">-u</code>. Procédons avec les étapes correctes pour configurer <code class="language-plaintext highlighter-rouge">vnstat</code> et mettre en place l’API de surveillance de la bande passante.</p>

<h3 id="étape-1--configurer-vnstat">Étape 1 : Configurer <code class="language-plaintext highlighter-rouge">vnstat</code></h3>

<p>Initialisez <code class="language-plaintext highlighter-rouge">vnstat</code> pour votre interface réseau :</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>vnstat <span class="nt">-i</span> eth0
</code></pre></div></div>

<h3 id="étape-2--attendre-la-collecte-des-données">Étape 2 : Attendre la collecte des données</h3>

<p><code class="language-plaintext highlighter-rouge">vnstat</code> a besoin de temps pour collecter des données. Vérifiez l’état périodiquement :</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>vnstat <span class="nt">-l</span>
</code></pre></div></div>

<p>Après un certain temps, vérifiez la collecte des données :</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>vnstat <span class="nt">-d</span>
</code></pre></div></div>

<h3 id="étape-3--créer-une-api-pour-exposer-les-données-de-bande-passante">Étape 3 : Créer une API pour exposer les données de bande passante</h3>

<p>Installer Flask :</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>Flask
</code></pre></div></div>

<p>Créez un script Python (<code class="language-plaintext highlighter-rouge">bandwidth_api.py</code>) :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">jsonify</span>
<span class="kn">from</span> <span class="nn">flask_cors</span> <span class="kn">import</span> <span class="n">CORS</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">CORS</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>  <span class="c1"># Activer CORS pour toutes les routes
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/bandwidth'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">'GET'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">get_bandwidth</span><span class="p">():</span>
    <span class="c1"># Exécute la commande vnstat pour obtenir les statistiques de trafic par intervalle de 5 minutes pour eth0
</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">run</span><span class="p">([</span><span class="s">'vnstat'</span><span class="p">,</span> <span class="s">'-i'</span><span class="p">,</span> <span class="s">'eth0'</span><span class="p">,</span> <span class="s">'-5'</span><span class="p">,</span> <span class="s">'--json'</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">result</span><span class="p">.</span><span class="n">stdout</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Retourner les données capturées sous forme de réponse JSON
return jsonify(data)
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'0.0.0.0'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Exécutez le script :

```sh
python bandwidth_api.py
</code></pre></div></div>

<h3 id="étape-4--intégrer-à-votre-blog">Étape 4 : Intégrer à votre blog</h3>

<p>Utilisez le code HTML et JavaScript suivant pour récupérer et afficher les données de bande passante :</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">DOMContentLoaded</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://www.lzwjava.xyz/bandwidth</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">bandwidthData</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        // Créer un conteneur pour les heures
        var timesContainer = document.createElement('div');

        var currentUtcTime = new Date();
        var currentLocalTime = new Date(currentUtcTime.getTime());
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="kd">var</span> <span class="nx">pUtcTime</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">pUtcTime</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`Heure UTC : </span><span class="p">${</span><span class="nx">currentUtcTime</span><span class="p">.</span><span class="nx">toUTCString</span><span class="p">()}</span><span class="s2">`</span><span class="p">;</span>
            <span class="nx">timesContainer</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">pUtcTime</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="kd">var</span> <span class="nx">pLocalTime</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">pLocalTime</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">`Mon Heure Locale : </span><span class="p">${</span><span class="nx">currentLocalTime</span><span class="p">.</span><span class="nx">toString</span><span class="p">()}</span><span class="s2">`</span><span class="p">;</span>
            <span class="nx">timesContainer</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">pLocalTime</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        // Ajouter le conteneur des temps au div de statut
        document.getElementById('status').appendChild(timesContainer);

        // Créer un tableau
        var table = document.createElement('table');
        table.border = '1';
        table.style.borderCollapse = 'collapse';
        table.style.width = '100%';
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="c1">// Créer l'en-tête du tableau</span>
            <span class="kd">var</span> <span class="nx">thead</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">thead</span><span class="dl">'</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">tr</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">tr</span><span class="dl">'</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">Time</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Traffic (KB/s)</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Status</span><span class="dl">'</span><span class="p">];</span>
            <span class="nx">headers</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">headerText</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">th</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">th</span><span class="dl">'</span><span class="p">);</span>
                <span class="nx">th</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">headerText</span><span class="p">;</span>
                <span class="nx">tr</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">th</span><span class="p">);</span>
            <span class="p">});</span>
            <span class="nx">thead</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tr</span><span class="p">);</span>
            <span class="nx">table</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">thead</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        // Créer le corps du tableau
        var tbody = document.createElement('tbody');
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="c1">// Traiter les données de trafic</span>
            <span class="kd">var</span> <span class="nx">fiveMinuteData</span> <span class="o">=</span> <span class="nx">bandwidthData</span><span class="p">.</span><span class="nx">interfaces</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">traffic</span><span class="p">.</span><span class="nx">fiveminute</span><span class="p">.</span><span class="nx">reverse</span><span class="p">();</span>
            <span class="nx">fiveMinuteData</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">interval</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">tr</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">tr</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">dataTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">UTC</span><span class="p">(</span><span class="nx">interval</span><span class="p">.</span><span class="nx">date</span><span class="p">.</span><span class="nx">year</span><span class="p">,</span> <span class="nx">interval</span><span class="p">.</span><span class="nx">date</span><span class="p">.</span><span class="nx">month</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">interval</span><span class="p">.</span><span class="nx">date</span><span class="p">.</span><span class="nx">day</span><span class="p">,</span> <span class="nx">interval</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">hour</span><span class="p">,</span> <span class="nx">interval</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">minute</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">timeDifference</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">((</span><span class="nx">currentUtcTime</span> <span class="o">-</span> <span class="nx">dataTime</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1000</span> <span class="o">*</span> <span class="mi">60</span><span class="p">));</span> <span class="c1">// Différence de temps en minutes</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>                <span class="kd">var</span> <span class="nx">tdTimeDifference</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">td</span><span class="dl">'</span><span class="p">);</span>
                <span class="nx">tdTimeDifference</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">timeDifference</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> mins ago</span><span class="dl">'</span><span class="p">;</span>
                <span class="nx">tr</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tdTimeDifference</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>                <span class="kd">var</span> <span class="nx">averageTraffic</span> <span class="o">=</span> <span class="p">(</span><span class="nx">interval</span><span class="p">.</span><span class="nx">rx</span> <span class="o">+</span> <span class="nx">interval</span><span class="p">.</span><span class="nx">tx</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// Calculer la moyenne de RX et TX</span>
                <span class="kd">var</span> <span class="nx">tdTrafficKBs</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">td</span><span class="dl">'</span><span class="p">);</span>
                <span class="kd">var</span> <span class="nx">trafficKBs</span> <span class="o">=</span> <span class="p">(</span><span class="nx">averageTraffic</span> <span class="o">/</span> <span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="c1">// Convertir en Ko/s</span>
                <span class="nx">tdTrafficKBs</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">trafficKBs</span><span class="p">;</span>
                <span class="nx">tr</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tdTrafficKBs</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>                <span class="kd">var</span> <span class="nx">tdStatus</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">td</span><span class="dl">'</span><span class="p">);</span>
                <span class="nx">tdStatus</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">trafficKBs</span> <span class="o">&gt;</span> <span class="mi">5</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">En ligne</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Hors ligne</span><span class="dl">'</span><span class="p">;</span>
                <span class="nx">tdStatus</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">trafficKBs</span> <span class="o">&gt;</span> <span class="mi">5</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">status-online</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">status-offline</span><span class="dl">'</span><span class="p">;</span>
                <span class="nx">tr</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tdStatus</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">tbody</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tr</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">table</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tbody</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        // Ajouter le tableau au div de statut
        document.getElementById('status').appendChild(table);
    })
    .catch(error =&gt; {
        console.error('Erreur lors de la récupération des données de bande passante :', error);
    }); });
</code></pre></div></div>

<p>```</p>

<p>Remplacez <code class="language-plaintext highlighter-rouge">http://your-droplet-ip:5000/bandwidth</code> par l’adresse IP de votre droplet.</p>

<h3 id="considérations-supplémentaires">Considérations supplémentaires</h3>

<ul>
  <li><strong>Sécurité</strong> : Assurez-vous que votre API est sécurisée. Envisagez d’ajouter une authentification.</li>
  <li><strong>Performance</strong> : La surveillance de la bande passante peut être gourmande en ressources. Assurez-vous que votre droplet dispose de ressources suffisantes.</li>
  <li><strong>Fiabilité</strong> : Ajoutez une gestion des erreurs et une logique de réessai pour gérer l’indisponibilité de l’API.</li>
</ul>

<p>En suivant ces étapes, vous pouvez créer une page de statut sur votre blog qui indique si vous êtes en ligne en fonction de l’utilisation de la bande passante de votre droplet DigitalOcean.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-fr" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
