<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Problèmes de Markdown : Kramdown & XeLaTeX</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Problèmes de Markdown : Kramdown &amp; XeLaTeX | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Problèmes de Markdown : Kramdown &amp; XeLaTeX" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="fr" />
<meta name="description" content="Pour générer des PDFs pour mon blog Jekyll en utilisant Markdown, j’utilise la commande Pandoc suivante :" />
<meta property="og:description" content="Pour générer des PDFs pour mon blog Jekyll en utilisant Markdown, j’utilise la commande Pandoc suivante :" />
<link rel="canonical" href="https://lzwjava.github.io/markdown-fr" />
<meta property="og:url" content="https://lzwjava.github.io/markdown-fr" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-12-27T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Problèmes de Markdown : Kramdown &amp; XeLaTeX" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2024-12-27T00:00:00+08:00","datePublished":"2024-12-27T00:00:00+08:00","description":"Pour générer des PDFs pour mon blog Jekyll en utilisant Markdown, j’utilise la commande Pandoc suivante :","headline":"Problèmes de Markdown : Kramdown &amp; XeLaTeX","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/markdown-fr"},"url":"https://lzwjava.github.io/markdown-fr"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=c592b50083972116ccf06f11bb036ab878a0fd72">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=c592b50083972116ccf06f11bb036ab878a0fd72" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Problèmes de Markdown : Kramdown & XeLaTeX | Original, traduit par l'IA
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/fr/2024-12-27-markdown-fr.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsfr2024-12-27-markdown-fr.md</span> -->
      

      <!-- <span>2024-12-27-markdown-fr.md</span> -->

      
        

        
          
          <a href="#" class="button">2024.12</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/markdown-en" >English</option>
        <option value="/markdown-zh" >中文</option>
        <option value="/markdown-ja" >日本語</option>
        <option value="/markdown-es" >Español</option>
        <option value="/markdown-hi" >हिंदी</option>
        <option value="/markdown-fr" selected>Français</option>
        <option value="/markdown-de" >Deutsch</option>
        <option value="/markdown-ar" >العربية</option>
        <option value="/markdown-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Pour générer des PDFs pour mon blog Jekyll en utilisant Markdown, j’utilise la commande Pandoc suivante :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">'pandoc'</span><span class="p">,</span>
    <span class="n">input_markdown_path</span><span class="p">,</span>
    <span class="s">'-o'</span><span class="p">,</span> <span class="n">output_pdf_path</span><span class="p">,</span>
    <span class="s">'-f'</span><span class="p">,</span> <span class="s">'markdown'</span><span class="p">,</span>
    <span class="s">'--pdf-engine'</span><span class="p">,</span> <span class="s">'xelatex'</span><span class="p">,</span>
    <span class="s">'--resource-path=.:assets'</span><span class="p">,</span>
    <span class="s">'-V'</span><span class="p">,</span> <span class="sa">f</span><span class="s">'CJKmainfont=</span><span class="si">{</span><span class="n">CJK_FONT</span><span class="si">}</span><span class="s">'</span><span class="p">,</span>
    <span class="s">'-V'</span><span class="p">,</span> <span class="sa">f</span><span class="s">'CJKsansfont=</span><span class="si">{</span><span class="n">CJK_FONT</span><span class="si">}</span><span class="s">'</span><span class="p">,</span>
    <span class="s">'-V'</span><span class="p">,</span> <span class="sa">f</span><span class="s">'CJKmonofont=</span><span class="si">{</span><span class="n">CJK_FONT</span><span class="si">}</span><span class="s">'</span><span class="p">,</span>
    <span class="s">'-V'</span><span class="p">,</span> <span class="sa">f</span><span class="s">'geometry:</span><span class="si">{</span><span class="n">GEOMETRY</span><span class="si">}</span><span class="s">'</span><span class="p">,</span>
    <span class="s">'-V'</span><span class="p">,</span> <span class="s">'classoption=16pt'</span><span class="p">,</span>
    <span class="s">'-V'</span><span class="p">,</span> <span class="s">'CJKoptions=Scale=1.1'</span><span class="p">,</span>
    <span class="s">'-V'</span><span class="p">,</span> <span class="s">'linestretch=1.5'</span>
<span class="p">]</span>
</code></pre></div></div>

<p>Prise en charge à la fois de Kramdown et XeLaTeX</p>

<p>Lors de l’écriture de Markdown qui doit fonctionner avec kramdown (pour la sortie HTML via Jekyll) et XeLaTeX (pour la sortie PDF via Pandoc), il y a quelques points à prendre en compte :</p>

<ol>
  <li>Compatibilité des chemins d’images
 •	Kramdown (HTML) : Préfère les chemins commençant par / pour référencer les ressources.
 •	XeLaTeX (PDF) : Préfère les chemins relatifs sans le / initial.</li>
</ol>

<p>Solution : Utiliser des chemins relatifs qui fonctionnent pour les deux :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>![](assets/images/chatgpt/block.jpg)
</code></pre></div></div>

<ol>
  <li>Gestion des attributs kramdown
 •	{:.responsive} est spécifique à kramdown pour styliser la sortie HTML.
 •	XeLaTeX ne prend pas en charge ces attributs et générera une erreur.</li>
</ol>

<p>Solution : Supprimez les attributs spécifiques à kramdown dans le Markdown destiné à la génération de PDF. Par exemple :</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Spécifique à Kramdown --&gt;</span>
</code></pre></div></div>
<p><img src="assets/images/chatgpt/block.jpg" alt="" class="responsive" /></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
&lt;!-- Compatible avec les deux --&gt;
</code></pre></div></div>
<p><img src="assets/images/chatgpt/block.jpg" alt="" />
```</p>

<p>Si <code class="language-plaintext highlighter-rouge">{:.responsive}</code> est essentiel pour votre mise en page HTML Jekyll, envisagez de l’ajouter de manière sélective pour la sortie web tout en l’omettant lors du processus de génération de PDF.</p>

<p>Workflow pour une Compatibilité Double</p>

<ol>
  <li>Écrivez du contenu en Markdown avec un minimum de dépendances sur les fonctionnalités spécifiques à kramdown.</li>
  <li>Pour un style avancé en HTML, appliquez des classes CSS directement dans vos modèles Jekyll plutôt qu’en ligne dans le Markdown.</li>
  <li>Utilisez les options de Pandoc pour contrôler la mise en forme du PDF tout en conservant la portabilité du Markdown.</li>
</ol>

<p>En suivant ces pratiques, le contenu Markdown reste compatible entre le rendu HTML de Jekyll et la génération de PDF via XeLaTeX, garantissant un flux de travail fluide pour une publication multi-format.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-fr" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
