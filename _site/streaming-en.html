<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Setting Up Live Streaming with OBS, SRS, and FFmpeg</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Setting Up Live Streaming with OBS, SRS, and FFmpeg | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Setting Up Live Streaming with OBS, SRS, and FFmpeg" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="This blog post was organized with the assistance of ChatGPT-4o." />
<meta property="og:description" content="This blog post was organized with the assistance of ChatGPT-4o." />
<link rel="canonical" href="https://lzwjava.github.io/streaming-en" />
<meta property="og:url" content="https://lzwjava.github.io/streaming-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-23T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Setting Up Live Streaming with OBS, SRS, and FFmpeg" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2016-09-23T00:00:00+08:00","datePublished":"2016-09-23T00:00:00+08:00","description":"This blog post was organized with the assistance of ChatGPT-4o.","headline":"Setting Up Live Streaming with OBS, SRS, and FFmpeg","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/streaming-en"},"url":"https://lzwjava.github.io/streaming-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=be66ac440d1a318d7814aeee6cbf8fb61112171d">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=be66ac440d1a318d7814aeee6cbf8fb61112171d" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Setting Up Live Streaming with OBS, SRS, and FFmpeg | Original, translated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/en/2016-09-23-streaming-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsen2016-09-23-streaming-en.md</span> -->
      

      <!-- <span>2016-09-23-streaming-en.md</span> -->

      
        

        
          
          <a href="#" class="button">2016.09</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/streaming-en" selected>English</option>
        <option value="/streaming-zh" >中文</option>
        <option value="/streaming-ja" >日本語</option>
        <option value="/streaming-es" >Español</option>
        <option value="/streaming-hi" >हिंदी</option>
        <option value="/streaming-fr" >Français</option>
        <option value="/streaming-de" >Deutsch</option>
        <option value="/streaming-ar" >العربية</option>
        <option value="/streaming-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p><em>This blog post was organized with the assistance of ChatGPT-4o.</em></p>

<hr />

<p>Live streaming has become an essential part of online communication, from professional broadcasts to personal vlogs. Setting up a robust live streaming solution requires understanding various tools and protocols. This guide will walk you through the process of setting up live streaming using OBS, SRS, and FFmpeg.</p>

<h3 id="key-components-of-live-streaming">Key Components of Live Streaming</h3>

<p><strong>1. OBS (Open Broadcaster Software)</strong>
OBS is a powerful open-source software for video recording and live streaming. It provides real-time source and device capture, scene composition, encoding, recording, and broadcasting.</p>

<p><strong>2. SRS (Simple Realtime Server)</strong>
SRS is a high-performance server for RTMP, HLS, and HTTP-FLV streaming. It supports a large number of concurrent connections and is highly configurable.</p>

<p><strong>3. FFmpeg</strong>
FFmpeg is a comprehensive multimedia framework that can decode, encode, transcode, mux, demux, stream, filter, and play almost anything that humans and machines have created. It is widely used in streaming setups for its versatility and reliability.</p>

<h3 id="setting-up-your-live-streaming-environment">Setting Up Your Live Streaming Environment</h3>

<h4 id="obs-configuration">OBS Configuration</h4>

<ol>
  <li><strong>Install OBS</strong>: Download and install OBS from the official website.</li>
  <li><strong>Configure Settings</strong>: Open OBS, go to <code class="language-plaintext highlighter-rouge">Settings &gt; Stream</code> and configure the stream type to <code class="language-plaintext highlighter-rouge">Custom...</code>. Enter your streaming server’s URL (e.g., <code class="language-plaintext highlighter-rouge">rtmp://your_server_ip/live</code>).</li>
  <li><strong>Add Sources</strong>: Add video and audio sources in OBS to create your scenes. This can include screen captures, webcam feeds, images, text, and more.</li>
</ol>

<h4 id="srs-server-setup">SRS Server Setup</h4>

<ol>
  <li><strong>Install SRS</strong>: Clone the SRS repository from GitHub and compile it with SSL support.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> git clone https://github.com/ossrs/srs.git
 <span class="nb">cd </span>srs/trunk
 ./configure <span class="nt">--disable-all</span> <span class="nt">--with-ssl</span>
 make
</code></pre></div>    </div>
  </li>
  <li><strong>Configure SRS</strong>: Edit the <code class="language-plaintext highlighter-rouge">conf/rtmp.conf</code> file to configure your RTMP settings.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> listen 1935<span class="p">;</span>
 max_connections 1000<span class="p">;</span>
 vhost __defaultVhost__ <span class="o">{</span> <span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Start SRS</strong>: Run the SRS server with your configuration file.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ./objs/srs <span class="nt">-c</span> conf/rtmp.conf
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="ffmpeg-for-streaming">FFmpeg for Streaming</h4>

<ol>
  <li><strong>Install FFmpeg</strong>: Install FFmpeg from the official website or through your package manager.</li>
  <li><strong>Stream with FFmpeg</strong>: Use FFmpeg to push a video stream to your SRS server.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ffmpeg <span class="nt">-re</span> <span class="nt">-i</span> input_video.flv <span class="nt">-vcodec</span> copy <span class="nt">-acodec</span> copy <span class="nt">-f</span> flv rtmp://your_server_ip/live/stream_key
</code></pre></div>    </div>
  </li>
  <li><strong>Automate Streaming</strong>: Create a script to continuously stream a video file.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">for</span> <span class="o">((</span><span class="p">;;</span><span class="o">))</span><span class="p">;</span> <span class="k">do 
     </span>ffmpeg <span class="nt">-re</span> <span class="nt">-i</span> input_video.flv <span class="nt">-vcodec</span> copy <span class="nt">-acodec</span> copy <span class="nt">-f</span> flv rtmp://your_server_ip/live/stream_key<span class="p">;</span>
     <span class="nb">sleep </span>1<span class="p">;</span>
 <span class="k">done</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="protocols-and-formats">Protocols and Formats</h3>

<p><strong>RTMP (Real-Time Messaging Protocol)</strong></p>
<ul>
  <li>RTMP is widely used for live streaming due to its low latency and reliable transmission.</li>
  <li>It uses TCP and can maintain a persistent connection, ensuring smooth streaming.</li>
</ul>

<p><strong>HLS (HTTP Live Streaming)</strong></p>
<ul>
  <li>HLS breaks the video stream into small HTTP-based file segments, making it easy to deliver over standard web servers.</li>
  <li>It introduces latency but is highly compatible with various devices and platforms.</li>
</ul>

<p><strong>HTTP-FLV</strong></p>
<ul>
  <li>Combines the FLV format with HTTP delivery for low-latency streaming.</li>
  <li>Useful for browser-based streaming as it leverages existing HTTP infrastructure.</li>
</ul>

<h3 id="practical-applications">Practical Applications</h3>

<p><strong>iOS and Android Streaming</strong></p>
<ul>
  <li>Use libraries like VideoCore and Ijkplayer to implement RTMP streaming on mobile devices.</li>
  <li>Integrate FFmpeg for encoding and decoding tasks to enhance compatibility and performance.</li>
</ul>

<p><strong>Web-Based Streaming</strong></p>
<ul>
  <li>Implement video playback on web pages using HTML5 video elements with HLS or HTTP-FLV.</li>
  <li>Utilize WebRTC for real-time communication and low-latency interactions.</li>
</ul>

<h3 id="tools-and-resources">Tools and Resources</h3>

<ul>
  <li><strong>VLC</strong>: A versatile media player that supports RTMP, HLS, and other streaming protocols.</li>
  <li><strong>SRS Player</strong>: An online player for testing SRS streams.</li>
  <li><strong>FFmpeg Documentation</strong>: Extensive documentation to help with various multimedia tasks.</li>
</ul>

<h3 id="conclusion">Conclusion</h3>

<p>Setting up a reliable live streaming solution involves understanding and configuring multiple tools and protocols. OBS, SRS, and FFmpeg are powerful components that, when used together, can create a robust streaming setup. Whether you are streaming to iOS, Android, or the web, these tools provide the flexibility and performance needed for high-quality live broadcasts.</p>

<p>For more detailed information and advanced configurations, refer to the official documentation of each tool and explore community forums for additional tips and support. Happy streaming!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
