<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>mathjax2mobi: ุชุญููู MathJax HTML ุฅูู ูุชุจ ุฅููุชุฑูููุฉ</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>mathjax2mobi: ุชุญููู MathJax HTML ุฅูู ูุชุจ ุฅููุชุฑูููุฉ | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="mathjax2mobi: ุชุญููู MathJax HTML ุฅูู ูุชุจ ุฅููุชุฑูููุฉ" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="ar" />
<meta name="description" content="ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน" />
<meta property="og:description" content="ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน" />
<link rel="canonical" href="https://lzwjava.github.io/feynman-ar" />
<meta property="og:url" content="https://lzwjava.github.io/feynman-ar" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-15T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="mathjax2mobi: ุชุญููู MathJax HTML ุฅูู ูุชุจ ุฅููุชุฑูููุฉ" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2021-03-15T00:00:00+08:00","datePublished":"2021-03-15T00:00:00+08:00","description":"ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน","headline":"mathjax2mobi: ุชุญููู MathJax HTML ุฅูู ูุชุจ ุฅููุชุฑูููุฉ","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/feynman-ar"},"url":"https://lzwjava.github.io/feynman-ar"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=39970ad55eeefbde2205b9b7393fa3714b68d045">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=39970ad55eeefbde2205b9b7393fa3714b68d045" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       mathjax2mobi: ุชุญููู MathJax HTML ุฅูู ูุชุจ ุฅููุชุฑูููุฉ | ุฃุตููุ ุชุฑุฌู ุจูุงุณุทุฉ AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/ar/2021-03-15-feynman-ar.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsar2021-03-15-feynman-ar.md</span> -->
      

      <!-- <span>2021-03-15-feynman-ar.md</span> -->

      
        

        
          
          <a href="#" class="button">2021.03</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/feynman-en" >English</option>
        <option value="/feynman-zh" >ไธญๆ</option>
        <option value="/feynman-ja" >ๆฅๆฌ่ช</option>
        <option value="/feynman-es" >Espaรฑol</option>
        <option value="/feynman-hi" >เคนเคฟเคเคฆเฅ</option>
        <option value="/feynman-fr" >Franรงais</option>
        <option value="/feynman-de" >Deutsch</option>
        <option value="/feynman-ar" selected>ุงูุนุฑุจูุฉ</option>
        <option value="/feynman-hant" >็น้ซไธญๆ</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="ูุธุฑุฉ-ุนุงูุฉ-ุนูู-ุงููุดุฑูุน">ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน</h3>

<p>ุฏุนููุง ุฃููุงู ูููู ูุธุฑุฉ ุนุงูุฉ ุนูู ุญุงูุฉ ุงููุดุฑูุน.</p>

<p><img src="assets/images/feynman/feynman_online.jpg" alt="ูุงูููุงู_ุฃูููุงูู" /></p>

<p><img src="/assets/images/feynman/change.JPG" alt="ุงูุชุบููุฑ" style="zoom:50%;" /></p>

<p><img src="assets/images/feynman/latex.JPG" alt="ููุงุชูููุณ" /></p>

<p><img src="assets/images/feynman/epub_black.JPG" alt="epub_black" /></p>

<p><img src="assets/images/feynman/epub_beautiful.JPG" alt="epub_beautiful" /></p>

<p>ุจุนุฏ ุงูุงูุชูุงุก ูู ุงููุดุฑูุนุ ุดุนุฑุช ุจุจุนุถ ุงูุณุนุงุฏุฉ. ูุชุจุช ูุฐู ุงูุฌููุฉ.</p>

<p>ูุชุจุช ุงูููุฏ ุทูุงู ุงููููุ ูุฃุฎูุฑูุง ุญุตูุช ุนูู ูุชุงุจ ุฅููุชุฑููู ุฌููู ููุญุงุถุฑุงุช ููุฒูุงุก ูุงูููุงู! ูุญุงุถุฑุงุช ููุฒูุงุก ูุงูููุงู ูุชุงุญุฉ ุนูู ุงูุฅูุชุฑูุชุ ููู ููุชูุจุฉ ุจุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">latex</code> ุงูุฐู ูุชููุฒ ุจุนุฑุถ ุฑุงุฆุน ูููุนุงุฏูุงุช ุงูุฑูุงุถูุฉ. ูุนูุฏูุง ูุชู ูุดุฑูุง ุนูู ุงูุฅูุชุฑูุชุ ูุชู ุงุณุชุฎุฏุงู ููุชุจุฉ <code class="language-plaintext highlighter-rouge">mathjax</code> ูุชุญููู ููุฏ <code class="language-plaintext highlighter-rouge">latex</code> ุฅูู ููุฏ <code class="language-plaintext highlighter-rouge">html</code>ุ ููุง ููุชุฌ ุนูู ุงููุซูุฑ ูู ุนูุงูุงุช <code class="language-plaintext highlighter-rouge">div</code> ู <code class="language-plaintext highlighter-rouge">span</code>. ููู ุงููุชุจ ุงูุฅููุชุฑูููุฉ ูุง ุชุฏุนู ูุฐู ุงูุทุฑููุฉ. ูุฐุงุ ูุงูุช ุงูููุฑุฉ ูู ุงุณุชุฎุฑุงุฌ ุตูุญุงุช ุงูููุจุ ูุนูุณ ุนูููุฉ ุนุฑุถ <code class="language-plaintext highlighter-rouge">mathjax</code>ุ ุซู ุงุณุชุจุฏุงููุง ุจุตูุฑ <code class="language-plaintext highlighter-rouge">svg</code>. ูุงุฌูุช ุงูุนุฏูุฏ ูู ุงููุดุงููุ ุฃูููุง ุฃู ุงูููุฏ ูุญุชูู ุนูู ุงููุซูุฑ ูู ูุญุฏุงุช <code class="language-plaintext highlighter-rouge">latex</code> ุงููุฎุตุตุฉ ุงูุชู ูุฌุจ ุฅุถุงูุชูุงุ ูุซุงูููุงุ ุฃู ุชุถููู ุงููุซูุฑ ูู ุตูุฑ <code class="language-plaintext highlighter-rouge">svg</code> ูุณุจุจ ูุดุงูู. ุฅุฐุง ูุงูุช ุงูุตูุฑุฉ ูุงุญุฏุฉ ููุง ูุดููุฉุ ูููู ุนูุฏ ูุฌูุฏ ุงููุซูุฑ ูููุง ุชุธูุฑ ูุดุงูู. ุฑุจูุง ูููู ูุฐุง ุจุณุจุจ ุจุนุถ ุงูุฃุฎุทุงุก ุงูุบุฑูุจุฉ ูู ุงููุชุตูุญุงุช ู <code class="language-plaintext highlighter-rouge">svg</code>. ุงูุญู ูุงู ุจุจุณุงุทุฉ ุญูุธ <code class="language-plaintext highlighter-rouge">svg</code> ููููุงุช ูุงุณุชุฎุฏุงู ุนูุงูุฉ <code class="language-plaintext highlighter-rouge">img</code> ูุฅุฏุฑุงุฌูุง. ุงููุนุงุฏูุงุช ุฃูุถูุง ุชููุณู ุฅูู ููุนูู: ูุนุงุฏูุงุช ุฏุงุฎู ุงููุต ููุนุงุฏูุงุช ูููุฑุฏุฉ ูู ุณุทุฑ ุฎุงุต. ูููุฐุงุ ุญุตูุช ุฃุฎูุฑูุง ุนูู ูุชุงุจ ุฅููุชุฑููู ุฌููู!</p>

<h3 id="ุงูุจูุงูุงุช-ุงูุชู-ุชู-ุงูุจุญุซ-ุนููุง">ุงูุจูุงูุงุช ุงูุชู ุชู ุงูุจุญุซ ุนููุง</h3>

<p>ููุง ูุชู ุชุณุฌูู ุงูููุงุฏ ุงูุชู ุชู ุงููุตูู ุฅูููุง ุฃุซูุงุก ุญู ุงููุดุฑูุน. ูุธุฑูุง ูุฃู ูุฐุง ุจุฑูุงูุฌ ุชุนููููุ ูุณุฃุนุฑุถ ููุทูุงุจ ุชุฌุฑุจุฉ ููููุฉ ุชูููุฐ ูุดุฑูุน ุจุดูู ุนุงู.</p>

<p><img src="assets/images/feynman/s1.PNG" alt="" /></p>

<p><img src="assets/images/feynman/s2.PNG" alt="" /></p>

<p><img src="assets/images/feynman/s3.PNG" alt="" /></p>

<p><img src="assets/images/feynman/s4.PNG" alt="" /></p>

<p><img src="assets/images/feynman/s5.PNG" alt="" /></p>

<p><img src="assets/images/feynman/s6.PNG" alt="" /></p>

<p><img src="assets/images/feynman/s7.PNG" alt="" /></p>

<p><img src="assets/images/feynman/s8.PNG" alt="" /></p>

<h3 id="ุจุฏุก-ุงููุดุฑูุน">ุจุฏุก ุงููุดุฑูุน</h3>

<p>ูุญุงุถุฑุงุช ููููุงู ูู ุงูููุฒูุงุก ุฃุตุจุญุช ูุชุงุญุฉ ูููุฑุงุกุฉ ุนูู ุงูุฅูุชุฑูุช. ุฃุฑุบุจ ูู ูุฑุงุกุชูุง ุนูู ุฌูุงุฒ <code class="language-plaintext highlighter-rouge">Kindle</code>. ููุน ุฐููุ ูุธุฑูุง ูุงุญุชูุงุฆูุง ุนูู ุงูุนุฏูุฏ ูู ุงูุตูุบ ุงูุฑูุงุถูุฉุ ูุฅู ุงููุณูุฏุฉ ุงูุฃุตููุฉ ุฑุจูุง ุชู ุฅุนุฏุงุฏูุง ุจุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">latex</code>. ูุชู ุงุณุชุฎุฏุงู ููุชุจุฉ <code class="language-plaintext highlighter-rouge">mathjax</code> ูุนุฑุถ ูุญุชูู ุจุชูุณูู <code class="language-plaintext highlighter-rouge">latex</code> ุนูู ุตูุญุงุช ุงูููุจ.</p>

<p>ููุฃุฎุฐ ูุซุงููุง.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"MathJax_Preview"</span> <span class="na">style=</span><span class="s">"color: inherit; display: none;"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"MathJax_Display"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"MathJax MathJax_FullWidth"</span> <span class="na">id=</span><span class="s">"MathJax-Element-10-Frame"</span> <span class="na">tabindex=</span><span class="s">"0"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;</span>
              <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"mi"</span> <span class="na">id=</span><span class="s">"MathJax-Span-159"</span> <span class="na">style=</span><span class="s">"font-family: MathJax_Math-italic;"</span><span class="nt">&gt;</span>d<span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;/span&gt;</span>  
    <span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"math/tex; mode=display"</span> <span class="na">id=</span><span class="s">"MathJax-Element-10"</span><span class="nt">&gt;</span><span class="err">\</span><span class="nx">begin</span><span class="p">{</span><span class="nx">equation</span><span class="p">}</span>
<span class="err">\</span><span class="nx">label</span><span class="p">{</span><span class="nl">Eq</span><span class="p">:</span><span class="nl">I</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="nx">dT</span><span class="o">/</span><span class="nx">dt</span> <span class="o">=</span> <span class="nx">Fv</span><span class="p">.</span>
<span class="err">\</span><span class="nx">end</span><span class="p">{</span><span class="nx">equation</span><span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>ูู ุงูุฃุนูู ููุชุทู ูู ููุฏ <code class="language-plaintext highlighter-rouge">html</code>. ูู ูุฐุง ุงูุฌุฒุก ูู ููุฏ <code class="language-plaintext highlighter-rouge">html</code>ุ ููุฌุฏ ูุต <code class="language-plaintext highlighter-rouge">latex</code> ููุง ูู ุชุญุช ุนูุงูุฉ <code class="language-plaintext highlighter-rouge">script</code>. ูููู <code class="language-plaintext highlighter-rouge">mathjax</code> ุจุชุญูููู ุฅูู ุงูุนุฏูุฏ ูู ุนูุงูุงุช <code class="language-plaintext highlighter-rouge">span</code> ูุนุฑุถู.</p>

<p>ูุฏููุง ุงูุขู ููุฑุฉ. ููู ุชุบููุฑ ุทุฑููุฉ ุนุฑุถ <code class="language-plaintext highlighter-rouge">mathjax</code> ุฅูู ุตูุฑ <code class="language-plaintext highlighter-rouge">svg</code>.</p>

<p>ูุฌุฏุช ูุดุฑูุนูุง ุนูู GitHub ุจุงุณู <code class="language-plaintext highlighter-rouge">tuxu/latex2svg</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">latex2svg</span> <span class="kn">import</span> <span class="n">latex2svg</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">latex2svg</span><span class="p">(</span><span class="sa">r</span><span class="s">'\( e^{i \pi} + 1 = 0 \)'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s">'depth'</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s">'svg'</span><span class="p">])</span>
</code></pre></div></div>

<p>ุญุงููุช ุงูุชุดุบููุ ููู ุญุฏุซ ุฎุทุฃ.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    raise RuntimeError<span class="o">(</span><span class="s1">'latex not found'</span><span class="o">)</span>
RuntimeError: latex not found
</code></pre></div></div>

<p>ุงูุธุฑ ุฅูู ุงูููุฏ.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c1"># ุชุดุบูู LaTeX ูุฅูุดุงุก ููู DVI
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">shlex</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s">'latex_cmd'</span><span class="p">]</span><span class="o">+</span><span class="s">' code.tex'</span><span class="p">),</span>
                             <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="p">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="p">.</span><span class="n">PIPE</span><span class="p">,</span>
                             <span class="n">cwd</span><span class="o">=</span><span class="n">working_directory</span><span class="p">)</span>
        <span class="n">ret</span><span class="p">.</span><span class="n">check_returncode</span><span class="p">()</span>
    <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">RuntimeError</span><span class="p">(</span><span class="s">'latex ุบูุฑ ููุฌูุฏ'</span><span class="p">)</span>
</code></pre></div></div>

<p>ูุจุฏู ุฃู ูุฐุง ูุนุชูุฏ ุฃูุถูุง ุนูู ุฃูุฑ <code class="language-plaintext highlighter-rouge">latex</code>.</p>

<p>ูู ุจุงูุชุซุจูุช.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install</span> <span class="nt">--cask</span> mactex
<span class="o">==&gt;</span> ููุงุญุธุงุช
ูุฌุจ ุนููู ุฅุนุงุฏุฉ ุชุดุบูู ูุงูุฐุฉ ุงูุทุฑููุฉ ุงูุฎุงุตุฉ ุจู ุญุชู ูุชู ุชูุนูู ุชุซุจูุช ุฃุฏูุงุช MacTex CLI.
ุจุฏูุงู ูู ุฐููุ ูููู ููุณุชุฎุฏูู Bash ู Zsh ุชุดุบูู ุงูุฃูุฑ:
  <span class="nb">eval</span> <span class="s2">"</span><span class="si">$(</span>/usr/libexec/path_helper<span class="si">)</span><span class="s2">"</span>
<span class="o">==&gt;</span> ุฌุงุฑู ุงูุชุญููู http://mirror.ctan.org/systems/mac/mactex/mactex-20200407.pkg
<span class="o">==&gt;</span> ุฌุงุฑู ุงูุชุญููู ูู https://mirrors.aliyun.com/CTAN/systems/mac/mactex/mactex-20200407.pkg
<span class="c">######################################################################## 100.0%</span>
ุชู ุชูุจูุฉ ุฌููุน ุชุจุนูุงุช ุงูุตูุบุฉ.
<span class="o">==&gt;</span> ุฌุงุฑู ุชุซุจูุช Cask mactex
<span class="o">==&gt;</span> ุฌุงุฑู ุชุดุบูู ุงููุซุจุช ูู mactexุ ูุฏ ููุฒู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจู.
installer: ุงุณู ุงูุญุฒูุฉ ูู MacTeX
installer: ุชู ุชุทุจูู ููู ุชุบููุฑุงุช ุงูุงุฎุชูุงุฑุงุช <span class="s1">'/private/tmp/choices20210315-4643-5884ro.xml'</span>
installer: ุฌุงุฑู ุงูุชุซุจูุช ูู ุงููุณุงุฑ ุงูุฃุณุงุณู /
installer: ุชู ุงูุชุซุจูุช ุจูุฌุงุญ.
๐บ  ุชู ุชุซุจูุช mactex ุจูุฌุงุญ!
</code></pre></div></div>

<p>ุชู ุงูุชุซุจูุช ุจูุฌุงุญ.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% latex
ูุฐุง ูู pdfTeXุ ุงูุฅุตุฏุงุฑ 3.14159265-2.6-1.40.21 <span class="o">(</span>TeX Live 2020<span class="o">)</span> <span class="o">(</span>ุชูุณูู ูุณุจู ุงูุชุญููู<span class="o">=</span>latex<span class="o">)</span>
 ุชู ุชูููู <span class="se">\w</span>rite18 ุงููููุฏ.
<span class="k">**</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">out</span> <span class="o">=</span> <span class="n">latex2svg</span><span class="p">(</span><span class="sa">r</span><span class="s">'\( e^{i \pi} + 1 = 0 \)'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s">'depth'</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s">'svg'</span><span class="p">])</span>
</code></pre></div></div>

<p>ูู ุงูููุฏ ุฃุนูุงูุ ูุชู ุงุณุชุฎุฏุงู ุงูุฏุงูุฉ <code class="language-plaintext highlighter-rouge">latex2svg</code> ูุชุญููู ุงูุชุนุจูุฑ ุงูุฑูุงุถู ( e^{i \pi} + 1 = 0 ) ุฅูู ุตูุบุฉ SVG. ุจุนุฏ ุฐููุ ูุชู ุทุจุงุนุฉ ุนูู ุงูุตูุฑุฉ (<code class="language-plaintext highlighter-rouge">depth</code>) ูุฑูุฒ SVG ุงููุงุชุฌ (<code class="language-plaintext highlighter-rouge">svg</code>).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">svg</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'1.svg'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
<span class="n">svg</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s">'svg'</span><span class="p">])</span>
<span class="n">svg</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<p>ูููู ุงูุขู ุฅูุดุงุก ูููุงุช <code class="language-plaintext highlighter-rouge">svg</code>.</p>

<p>ูุฐุงุ ุฌุฑุจ ุฅูุดุงุก ูุต <code class="language-plaintext highlighter-rouge">latex</code> ุงูุฐู ุชุญุตู ุนููู ูู <code class="language-plaintext highlighter-rouge">mathjax</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">latex2svg</span> <span class="kn">import</span> <span class="n">latex2svg</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'The Feynman Lectures on Physics Vol. I Ch. 13_ Work and Potential Energy (A).html'</span><span class="p">)</span>
<span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mathjaxs</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'script'</span><span class="p">,</span> <span class="p">{</span><span class="s">'type'</span><span class="p">:</span> <span class="s">'math/tex'</span><span class="p">})</span>
<span class="k">for</span> <span class="n">mathjax</span> <span class="ow">in</span> <span class="n">mathjaxs</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">mathjax</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">latex2svg</span><span class="p">(</span><span class="n">mathjax</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s">'svg'</span><span class="p">])</span>
</code></pre></div></div>

<p>ููุฃุณู ุญุฏุซ ุฎุทุฃ.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">raise</span> <span class="n">CalledProcessError</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">returncode</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">args</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">stdout</span><span class="p">,</span>
<span class="n">subprocess</span><span class="p">.</span><span class="n">CalledProcessError</span><span class="p">:</span> <span class="n">ุงูุฃูุฑ</span> <span class="s">'['</span><span class="n">latex</span><span class="s">', '</span><span class="o">-</span><span class="n">interaction</span><span class="s">', '</span><span class="n">nonstopmode</span><span class="s">', '</span><span class="o">-</span><span class="n">halt</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">error</span><span class="s">', '</span><span class="n">code</span><span class="p">.</span><span class="n">tex</span><span class="s">']'</span> <span class="n">ุฃุนุงุฏ</span> <span class="n">ุญุงูุฉ</span> <span class="n">ุฎุฑูุฌ</span> <span class="n">ุบูุฑ</span> <span class="n">ุตูุฑูุฉ</span> <span class="mf">1.</span>
</code></pre></div></div>

<p>ุฃู ุตูุบุฉ ูุญุฏุฏุฉ ูุงูุช ุฎุงุทุฆุฉุ</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\tfrac</span><span class="p">{</span>1<span class="p">}{</span>2<span class="p">}</span>mv<span class="p">^</span>2
</code></pre></div></div>

<h2 id="ูุงุชููุณ">ูุงุชููุณ</h2>

<p>ูุงุชููุณ (LaTeX) ูู ูุธุงู ูุฅุนุฏุงุฏ ุงููุณุชูุฏุงุช ุนุงููุฉ ุงูุฌูุฏุฉุ ูุณุชุฎุฏู ุจุดูู ุดุงุฆุน ูู ุงูุฃูุณุงุท ุงูุฃูุงุฏูููุฉ ูุงูุนูููุฉ ูุฅูุชุงุฌ ุฃูุฑุงู ุจุญุซูุฉ ููุชุจ ูุนุฑูุถ ุชูุฏูููุฉ. ูุชููุฒ ูุงุชููุณ ุจูุฏุฑุชู ุนูู ุงูุชุนุงูู ูุน ุงููุนุงุฏูุงุช ุงูุฑูุงุถูุฉ ุงููุนูุฏุฉ ูุงูุฑููุฒ ุงูุนูููุฉ ุจุณูููุฉุ ููุง ูุฌุนูู ุงูุฎูุงุฑ ุงูููุถู ููุนุฏูุฏ ูู ุงูุจุงุญุซูู ูุงูุทูุงุจ.</p>

<h3 id="ูุซุงู-ุจุณูุท-ูู-ูุงุชููุณ">ูุซุงู ุจุณูุท ูู ูุงุชููุณ</h3>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="p">{</span>article<span class="p">}</span>
<span class="k">\usepackage</span><span class="na">[utf8]</span><span class="p">{</span>inputenc<span class="p">}</span>

<span class="k">\title</span><span class="p">{</span>ุนููุงู ุงููุณุชูุฏ<span class="p">}</span>
<span class="k">\author</span><span class="p">{</span>ุงุณู ุงููุคูู<span class="p">}</span>
<span class="k">\date</span><span class="p">{</span><span class="k">\today</span><span class="p">}</span>

<span class="nt">\begin{document}</span>

<span class="k">\maketitle</span>

<span class="k">\section</span><span class="p">{</span>ููุฏูุฉ<span class="p">}</span>
ูุฐุง ูุซุงู ุจุณูุท ููุณุชูุฏ ูุงุชููุณ. ููููู ูุชุงุจุฉ ุงููุตูุต ูุฅุถุงูุฉ ุงููุนุงุฏูุงุช ุงูุฑูุงุถูุฉ ุจุณูููุฉ.

<span class="k">\section</span><span class="p">{</span>ูุนุงุฏูุฉ ุฑูุงุถูุฉ<span class="p">}</span>
ููุง ูุนุงุฏูุฉ ุฑูุงุถูุฉ ุจุณูุทุฉ:

<span class="p">\[</span><span class="nb">
E </span><span class="o">=</span><span class="nb"> mc</span><span class="p">^</span><span class="m">2</span><span class="nb">
</span><span class="p">\]</span>

<span class="nt">\end{document}</span>
</code></pre></div></div>

<p>ูู ูุฐุง ุงููุซุงูุ ูุชู ุฅูุดุงุก ูุณุชูุฏ ุจุณูุท ูุญุชูู ุนูู ุนููุงู ูููุฏูุฉ ููุนุงุฏูุฉ ุฑูุงุถูุฉ. ููููู ุชุนุฏูู ุงููุตูุต ูุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุฃูุณุงู ุญุณุจ ุงูุญุงุฌุฉ.</p>

<p>ููุชุนูู <code class="language-plaintext highlighter-rouge">latex</code>.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="na">[12pt]</span><span class="p">{</span>article<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>lingmacros<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>tree-dvips<span class="p">}</span>
<span class="nt">\begin{document}</span>
</code></pre></div></div>

<p>\section*{ููุงุญุธุงุช ุญูู ูุฑูุฉ ุงูุจุญุซ ุงูุฎุงุตุฉ ุจู}</p>

<p>ูุง ุชูุณู ุชุถููู ุฃูุซูุฉ ุนูู ุงูุชุฎุตูุต ุงูููุถุนู.<br />
ุชุจุฏู ููุฐุง:</p>

<p>{\small
\enumsentence{ุงูุชุฑููุฒ ูู ุฎูุงู ุงูููุถูุน ุงูุฌููุฉ:<br />
\shortex{7}{a John$_i$ [a &amp; kltukl &amp; [el &amp; 
  {\bf l-}oltoir &amp; er &amp; ngii$_i$ &amp; a Mary]]}
{ &amp; {\bf R-}clear &amp; {\sc comp} &amp; 
  {\bf IR}.{\sc 3s}-love   &amp; P &amp; him &amp; }
{ุฌููุ (ูู) ุงููุงุถุญ ุฃู ูุงุฑู ุชุญุจู.}}
}</p>

<p>\subsection*{ููููุฉ ุงูุชุนุงูู ูุน ุงูุชูุจููุงูุงูุฒูุดู (ุงูุชุฑููุฒ ุนูู ููุถูุน ุงูุฌููุฉ)}</p>

<p>ุณุฃูุชุฑุถ ุจุจุณุงุทุฉ ุจููุฉ ุดุฌุฑุฉ ูุซู (\ex{1}).</p>

<p>{\small
\enumsentence{ูููู ุฅุณูุงุทุงุช A$โ$:\ [2ex]
\begin{tabular}[t]{cccc}
    &amp; \node{i}{CP}\ [2ex]
    \node{ii}{Spec} &amp;   &amp;\node{iii}{C$โ$}\ [2ex]
        &amp;\node{iv}{C} &amp; &amp; \node{v}{SAgrP}
\end{tabular}
\nodeconnect{i}{ii}
\nodeconnect{i}{iii}
\nodeconnect{iii}{iv}
\nodeconnect{iii}{v}
}
}</p>

<p>\subsection*{ุงููุฒุงุฌ}</p>

<p>ูุชุบูุฑ ุงููุฒุงุฌ ุนูุฏูุง ูููู ููุงู ููุถูุนุ ููุฐูู ุนูุฏูุง ูููู ููุงู ุญุฑูุฉ WH. \emph{Irrealis} ูู ุงููุฒุงุฌ ุนูุฏูุง ูููู ููุงู ููุถูุน ุบูุฑ ูุงุนู ุฃู ุนุจุงุฑุฉ WH ูู Comp. \emph{Realis} ูู ุงููุฒุงุฌ ุนูุฏูุง ูููู ููุงู ููุถูุน ูุงุนู ุฃู ุนุจุงุฑุฉ WH.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\end{document}</span>
</code></pre></div></div>

<p>ุนุซุฑุช ุนูู ูููุฐุฌ ูุดูุฑุฉ <code class="language-plaintext highlighter-rouge">latex</code> ุนูู ุงูุฅูุชุฑูุช.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% latex code.tex
This is pdfTeX, Version 3.14159265-2.6-1.40.21 <span class="o">(</span>TeX Live 2020<span class="o">)</span> <span class="o">(</span>preloaded <span class="nv">format</span><span class="o">=</span>latex<span class="o">)</span>
 restricted <span class="se">\w</span>rite18 enabled.
entering extended mode
<span class="o">(</span>./code.tex
LaTeX2e &lt;2020-02-02&gt; patch level 5
L3 programming layer &lt;2020-03-06&gt;
<span class="o">(</span>/usr/local/texlive/2020/texmf-dist/tex/latex/base/article.cls
Document Class: article 2019/12/20 v1.4l Standard LaTeX document class
<span class="o">(</span>/usr/local/texlive/2020/texmf-dist/tex/latex/base/size12.clo<span class="o">))</span>
<span class="o">(</span>/usr/local/texlive/2020/texmf-dist/tex/latex/tree-dvips/lingmacros.sty<span class="o">)</span>
<span class="o">(</span>/usr/local/texlive/2020/texmf-dist/tex/latex/tree-dvips/tree-dvips.sty
tree-dvips version .91 of May 16, 1995
<span class="o">)</span> <span class="o">(</span>/usr/local/texlive/2020/texmf-dist/tex/latex/l3backend/l3backend-dvips.def<span class="o">)</span>
<span class="o">(</span>./code.aux<span class="o">)</span> <span class="o">[</span>1] <span class="o">(</span>./code.aux<span class="o">)</span> <span class="o">)</span>
Output written on code.dvi <span class="o">(</span>1 page, 3416 bytes<span class="o">)</span><span class="nb">.</span>
Transcript written on code.log.
</code></pre></div></div>

<p><img src="assets/images/feynman/latex.png" alt="latex" /></p>

<p>ููููู ูุธุฑุฉ ุนูู ุงูููุฏ ุงููุตุฏุฑู ูุงููุชูุฌุฉ ุงูููุฏูุฉ ุจุนุฏ ุงูุชุตููุฑุ ููุฑู ูุง ูููููุง ุชุนููู.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{document}</span>
<span class="nt">\end{document}</span>
</code></pre></div></div>

<p>ููุฐุง ูุชู ุชุบููู ุงููุณุชูุฏ.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\section*</span><span class="p">{</span>ููุงุญุธุงุช ููุฑูุชู ุงูุจุญุซูุฉ<span class="p">}</span>
</code></pre></div></div>

<p>ูุฐุง ูุดูุฑ ุฅูู ุจุฏุงูุฉ ุนููุงู <code class="language-plaintext highlighter-rouge">section</code>.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\subsection*</span><span class="p">{</span>ููููุฉ ุงูุชุนุงูู ูุน ุงูุชูุจููุงููุฒูุดู (ุงูุชุฑููุฒ ุนูู ุงูููุถูุน)<span class="p">}</span>
</code></pre></div></div>

<p>ูุฐุง ูุดูุฑ ุฅูู ุงูุนููุงู ุงููุฑุนู.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\shortex</span><span class="p">{</span>7<span class="p">}{</span>a John<span class="p">$_</span><span class="nb">i</span><span class="p">$</span> [a <span class="p">&amp;</span> kltukl <span class="p">&amp;</span> [el <span class="p">&amp;</span> 
  <span class="p">{</span><span class="k">\bf</span> l-<span class="p">}</span>oltoir <span class="p">&amp;</span> er <span class="p">&amp;</span> ngii<span class="p">$_</span><span class="nb">i</span><span class="p">$</span> <span class="p">&amp;</span> a Mary]]<span class="p">}</span>
</code></pre></div></div>

<p><img src="assets/images/feynman/shortex.png" alt="shortex" /></p>

<p>ูููู ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">$_i$</code> ูุชูุซูู ุงูุญุฑูู ุงูุณูููุฉ. ูุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">{\bf l-}</code> ูุชูุซูู ุงููุต ุงูุบุงูู.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\enumsentence</span><span class="p">{</span>ูููู ุฅุณูุงุทุงุช A<span class="p">$</span><span class="nb">'</span><span class="p">$</span>:<span class="k">\\</span> [2ex]
<span class="nt">\begin{tabular}</span>[t]<span class="p">{</span>cccc<span class="p">}</span>
    <span class="p">&amp;</span> <span class="k">\node</span><span class="p">{</span>i<span class="p">}{</span>CP<span class="p">}</span><span class="k">\\</span> [2ex]
    <span class="k">\node</span><span class="p">{</span>ii<span class="p">}{</span>Spec<span class="p">}</span> <span class="p">&amp;</span>   <span class="p">&amp;</span><span class="k">\node</span><span class="p">{</span>iii<span class="p">}{</span>C<span class="p">$</span><span class="nb">'</span><span class="p">$}</span><span class="k">\\</span> [2ex]
        <span class="p">&amp;</span><span class="k">\node</span><span class="p">{</span>iv<span class="p">}{</span>C<span class="p">}</span> <span class="p">&amp;</span> <span class="p">&amp;</span> <span class="k">\node</span><span class="p">{</span>v<span class="p">}{</span>SAgrP<span class="p">}</span>
<span class="nt">\end{tabular}</span>
<span class="k">\nodeconnect</span><span class="p">{</span>i<span class="p">}{</span>ii<span class="p">}</span>
<span class="k">\nodeconnect</span><span class="p">{</span>i<span class="p">}{</span>iii<span class="p">}</span>
<span class="k">\nodeconnect</span><span class="p">{</span>iii<span class="p">}{</span>iv<span class="p">}</span>
<span class="k">\nodeconnect</span><span class="p">{</span>iii<span class="p">}{</span>v<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="/assets/images/feynman/node.png" alt="node" style="zoom:50%;" /></p>

<p>ูุงุญุธ ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">nodeconnect</code> ููุฅุดุงุฑุฉ ุฅูู ุงูุงุชุตุงู ุจูู ุงูุนูุฏ.</p>

<h3 id="ุชุญููู-latex-ุฅูู-svg">ุชุญููู LaTeX ุฅูู SVG</h3>

<p>ูุชุญููู ูุนุงุฏูุงุช LaTeX ุฅูู ุตูุฑ ุจุชูุณูู SVGุ ููููู ุงุณุชุฎุฏุงู ุฃุฏูุงุช ูุฎุชููุฉ. ูููุง ููู ุจุนุถ ุงูุทุฑู ุงูุดุงุฆุนุฉ:</p>

<h4 id="1-ุงุณุชุฎุฏุงู-mathjax-ูุน-svg-ูุชูุณูู-ุฅุฎุฑุงุฌ">1. ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">MathJax</code> ูุน <code class="language-plaintext highlighter-rouge">svg</code> ูุชูุณูู ุฅุฎุฑุงุฌ</h4>
<p>ููููู ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">MathJax</code> ูุชุญููู ูุนุงุฏูุงุช LaTeX ุฅูู SVG ูุจุงุดุฑุฉ ูู ุงููุชุตูุญ. ุฅููู ูุซุงู ุจุณูุท:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://polyfill.io/v3/polyfill.min.js?features=es6"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">id=</span><span class="s">"MathJax-script"</span> <span class="na">async</span> <span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<p>ุซู ููููู ูุชุงุจุฉ ูุนุงุฏูุงุช LaTeX ุฏุงุฎู ุนูุงุตุฑ <code class="language-plaintext highlighter-rouge">script</code> ูู ููุน <code class="language-plaintext highlighter-rouge">math/tex</code>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"math/tex"</span><span class="nt">&gt;</span><span class="nx">E</span> <span class="o">=</span> <span class="nx">mc</span><span class="o">^</span><span class="mi">2</span><span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h4 id="2-ุงุณุชุฎุฏุงู-latex-ูุน-dvisvgm">2. ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">LaTeX</code> ูุน <code class="language-plaintext highlighter-rouge">dvisvgm</code></h4>
<p>ุฅุฐุง ููุช ุชุฑูุฏ ุชุญููู ูููุงุช LaTeX ุฅูู SVG ูุญูููุงุ ููููู ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">dvisvgm</code>. ุฃููุงูุ ูู ุจุชุญููู ููู LaTeX ุฅูู DVI ุจุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">latex</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>latex input.tex
</code></pre></div></div>

<p>ุซู ูู ุจุชุญููู ููู DVI ุฅูู SVG ุจุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">dvisvgm</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dvisvgm input.dvi
</code></pre></div></div>

<h4 id="3-ุงุณุชุฎุฏุงู-pandoc-ูุน-mathjax">3. ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">pandoc</code> ูุน <code class="language-plaintext highlighter-rouge">MathJax</code></h4>
<p>ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">pandoc</code> ูุชุญููู ูุณุชูุฏุงุช LaTeX ุฅูู HTML ูุน ูุนุงุฏูุงุช SVG:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pandoc input.tex <span class="nt">-o</span> output.html <span class="nt">--mathjax</span>
</code></pre></div></div>

<h4 id="4-ุงุณุชุฎุฏุงู-mathjax-node">4. ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">MathJax-Node</code></h4>
<p>ุฅุฐุง ููุช ุชุฑูุฏ ุชุญููู ูุนุงุฏูุงุช LaTeX ุฅูู SVG ุจุฑูุฌููุง ุจุงุณุชุฎุฏุงู Node.jsุ ููููู ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">mathjax-node</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>mathjax-node
</code></pre></div></div>

<p>ุซู ููููู ุงุณุชุฎุฏุงู ุงูููุฏ ุงูุชุงูู ูุชุญููู ูุนุงุฏูุฉ LaTeX ุฅูู SVG:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">mjAPI</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mathjax-node</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">mjAPI</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
  <span class="na">MathJax</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">svg</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">fontCache</span><span class="p">:</span> <span class="dl">'</span><span class="s1">global</span><span class="dl">'</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nx">mjAPI</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>

<span class="nx">mjAPI</span><span class="p">.</span><span class="nx">typeset</span><span class="p">({</span>
  <span class="na">math</span><span class="p">:</span> <span class="dl">'</span><span class="s1">E = mc^2</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">format</span><span class="p">:</span> <span class="dl">'</span><span class="s1">TeX</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">svg</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
<span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">.</span><span class="nx">errors</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">svg</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p>ูุฐู ุจุนุถ ุงูุทุฑู ุงูุดุงุฆุนุฉ ูุชุญููู ูุนุงุฏูุงุช LaTeX ุฅูู SVG. ููููู ุงุฎุชูุงุฑ ุงูุทุฑููุฉ ุงูุชู ุชูุงุณุจ ุงุญุชูุงุฌุงุชู ุจูุงุกู ุนูู ุงูุจูุฆุฉ ุงูุชู ุชุนูู ูููุง.</p>

<p>ุงุณุชูุฑุงุฑ ุงููุดุฑูุน.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="na">[16pt]</span><span class="p">{</span>article<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amsmath<span class="p">}</span>
<span class="nt">\begin{document}</span>
</code></pre></div></div>

<p>[\tfrac{1}{2}mv^2]</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\end{document}</span>
</code></pre></div></div>

<p><img src="/assets/images/feynman/frac.png" alt="frac" style="zoom:50%;" /></p>

<p>ูุฐุง ูููู ุฃู ูุชู ุนุฑุถู ุจุดูู ุตุญูุญ. ูู ุงูููุฏุ ูุฏ ูุง ูุชู ุนุฑุถู ุจุดูู ุตุญูุญุ ุฑุจูุง ูุฃูู ูู ูุชู ุฅุถุงูุฉ <code class="language-plaintext highlighter-rouge">\usepackage{amsmath}</code>.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="na">[12pt,preview]</span><span class="p">{</span>standalone<span class="p">}</span>
</code></pre></div></div>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="na">[utf8x]</span><span class="p">{</span>inputenc<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amsmath<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amsfonts<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amssymb<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>newtxtext<span class="p">}</span>
<span class="k">\usepackage</span><span class="na">[libertine]</span><span class="p">{</span>newtxmath<span class="p">}</span>
</code></pre></div></div>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{document}</span>
<span class="nt">\begin{preview}</span>
<span class="k">\tfrac</span><span class="p">{</span>1<span class="p">}{</span>2<span class="p">}</span>mv<span class="p">^</span>2
<span class="nt">\end{preview}</span>
<span class="nt">\end{document}</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">!</span> ุชู ุฅุฏุฎุงู ุนูุงูุฉ <span class="nv">$ </span>ููููุฏุฉ.
&lt;ุงููุต ุงูููุฏุฎู&gt;
                <span class="err">$</span>
l.12 <span class="se">\t</span>frac<span class="o">{</span>1<span class="o">}{</span>2<span class="o">}</span>
                 <span class="nb">mv</span>^2
</code></pre></div></div>

<p>ูุฐุง ุฎุทุฃ. ูุจุนุฏ ุงูุชุนุฏูู ุฅูู ูุง ูููุ ุณูุนูู ุจุดูู ุตุญูุญ.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">\[</span><span class="nv">\tfrac</span><span class="p">{</span><span class="m">1</span><span class="p">}{</span><span class="m">2</span><span class="p">}</span><span class="nb">mv</span><span class="p">^</span><span class="m">2</span><span class="p">\]</span>
</code></pre></div></div>

<p>ูุฐุง ุงูุชุนุจูุฑ ุงูุฑูุงุถู ููุซู ุงูุทุงูุฉ ุงูุญุฑููุฉ ูุฌุณู ูุงุ ุญูุซ:</p>
<ul>
  <li>( m ) ูู ูุชูุฉ ุงูุฌุณู.</li>
  <li>( v ) ูู ุณุฑุนุฉ ุงูุฌุณู.</li>
  <li>(\tfrac{1}{2}mv^2) ูู ุงูุทุงูุฉ ุงูุญุฑููุฉ ููุฌุณู.</li>
</ul>

<p>ุฅุฌุฑุงุก ุงุฎุชุจุงุฑุงุช ูุฎุชููุฉ.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">latex2svg</span> <span class="kn">import</span> <span class="n">latex2svg</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'The Feynman Lectures on Physics Vol. I Ch. 13: Work and Potential Energy (A).html'</span><span class="p">)</span>
<span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mathjaxs</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'script'</span><span class="p">,</span> <span class="p">{</span><span class="s">'type'</span><span class="p">:</span> <span class="s">'math/tex'</span><span class="p">})</span>
<span class="k">for</span> <span class="n">mathjax</span> <span class="ow">in</span> <span class="n">mathjaxs</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">mathjax</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
    <span class="n">wrap</span> <span class="o">=</span> <span class="s">'$'</span> <span class="o">+</span> <span class="n">mathjax</span><span class="p">.</span><span class="n">string</span> <span class="o">+</span> <span class="s">'$'</span>
    <span class="c1"># ุฅุฐุง ูุงูุช 'frac' ููุฌูุฏุฉ ูู ุงููุต ุงูุฑูุงุถู
</span>    <span class="c1"># wrap = '$' + mathjax.string + '$'
</span>    <span class="k">if</span> <span class="s">'FLP'</span> <span class="ow">in</span> <span class="n">mathjax</span><span class="p">.</span><span class="n">string</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">elif</span> <span class="s">'Fig'</span> <span class="ow">in</span> <span class="n">mathjax</span><span class="p">.</span><span class="n">string</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">elif</span> <span class="s">'eps'</span> <span class="ow">in</span> <span class="n">mathjax</span><span class="p">.</span><span class="n">string</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">latex2svg</span><span class="p">(</span><span class="n">wrap</span><span class="p">)</span>
    <span class="c1"># ุทุจุงุนุฉ ุงููุงุชุฌ
</span>    <span class="n">node</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s">'svg'</span><span class="p">],</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>
    <span class="n">svg</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'svg'</span><span class="p">)</span>
    <span class="n">mathjax</span><span class="p">.</span><span class="n">insert_after</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
    <span class="c1"># ุทุจุงุนุฉ SVG ุงููุงุชุฌ
</span>    <span class="c1"># break
</span>    <span class="c1"># mathjax.replaceWith(out['svg'])    
</span>    
    <span class="c1"># ุทุจุงุนุฉ ุฎุตุงุฆุต mathjax
</span>    <span class="c1"># break
</span>    
    <span class="c1"># out = latex2svg(wrap)    
</span>    <span class="c1"># ุทุจุงุนุฉ SVG ุงููุงุชุฌ
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ุทุจุงุนุฉ ุนุฏุฏ ุงูุนูุงุตุฑ ุฏุงุฎู soup
</span><span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">contents</span><span class="p">))</span>

<span class="c1"># ูุชุญ ููู ุงูุฅุฎุฑุงุฌ ูููุชุงุจุฉ
</span><span class="n">output_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'out.html'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
<span class="c1"># ูุชุงุจุฉ ุงููุญุชูู ุงูููุณู ูู soup ูู ุงูููู
</span><span class="n">output_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="c1"># ุฅุบูุงู ุงูููู ุจุนุฏ ุงูุงูุชูุงุก ูู ุงููุชุงุจุฉ
</span><span class="n">output_file</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># ุทุจุงุนุฉ ูุญุชููุงุช soup (ูุนููู)
# print(soup.contents)
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># out = latex2svg(r'\( e^{i \pi} + 1 = 0 \)')
# print(out['depth'])
# print(out['svg'])
</span></code></pre></div></div>

<p>ูู ุงูููุฏ ุฃุนูุงูุ ูุชู ุงุณุชุฎุฏุงู ุงูุฏุงูุฉ <code class="language-plaintext highlighter-rouge">latex2svg</code> ูุชุญููู ูุนุงุฏูุฉ ูุงุชููุณ ุฅูู ุตูุบุฉ SVG. ูุชู ุชูุฑูุฑ ุงููุนุงุฏูุฉ ( e^{i \pi} + 1 = 0 ) ูุณูุณูุฉ ูุตูุฉ ุฅูู ุงูุฏุงูุฉ. ุงููุงุชุฌ <code class="language-plaintext highlighter-rouge">out</code> ูู ูุงููุณ ูุญุชูู ุนูู ูุนูููุงุช ุญูู ุงูุตูุฑุฉ ุงููุงุชุฌุฉุ ุจูุง ูู ุฐูู ุงูุนูู (<code class="language-plaintext highlighter-rouge">depth</code>) ูุงูุตูุบุฉ SVG (<code class="language-plaintext highlighter-rouge">svg</code>). ูุชู ุทุจุงุนุฉ ูุฐู ุงูููู ุจุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">print</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># svg = open('1.svg', 'w')
# svg.write(out['svg'])
# svg.close()
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ุฃูุง ุฃุฎุชุจุฑ ูู ูุฐู ุงูุฃุดูุงุก ูุฃู ุณุจุจุ

```python
    if 'FLP' in mathjax.string:
        continue
    elif 'Fig' in mathjax.string:
        continue
    elif 'eps' in mathjax.string:
        continue
</code></pre></div></div>

<p>ุชู ุงูุงุญุชูุงุธ ุจุงูููุฏ ููุง ูู ูุฃูู ูุญุชูู ุนูู ุฃุณูุงุก ูุชุบูุฑุงุช ูุดุฑูุท ููุทููุฉ ูุง ุชุญุชุงุฌ ุฅูู ุชุฑุฌูุฉ.</p>

<p>ููุง ุนูุฏ ุงูุชุญููู ุฅูู ูุฌูุฏ <code class="language-plaintext highlighter-rouge">FLP</code> ู<code class="language-plaintext highlighter-rouge">Fig</code> ู<code class="language-plaintext highlighter-rouge">eps</code> ูู ูุตุฏุฑ <code class="language-plaintext highlighter-rouge">latex</code>ุ ุญุฏุซ ุฎุทุฃ ูู ุนูููุฉ ุงูุชุญููู.</p>

<p>ุนูู ุณุจูู ุงููุซุงูุ ูู <code class="language-plaintext highlighter-rouge">HTML</code>ุ ูุฏ ุชุฌุฏ ูุตูุง ุจุฑูุฌููุง ูุซู ูุฐุง:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"math/tex"</span> <span class="na">id=</span><span class="s">"MathJax-Element-11"</span><span class="nt">&gt;</span><span class="err">\</span><span class="nx">FLPF</span><span class="err">\</span><span class="nx">cdot</span><span class="err">\</span><span class="nx">FLPv</span><span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>ุชุญููู ุงูุญุตูู ุนูู:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\FLPF\cdot\FLPv</span>
</code></pre></div></div>

<p><strong>ููุงุญุธุฉ:</strong> ุงููุต ุงูููุฌูุฏ ูู ุงูููุฏ ูู ุฑูุฒ ุฑูุงุถู ูุณุชุฎุฏู ูู ูุบุฉ LaTeX ูุชูุซูู ุงูุถุฑุจ ุงูููุทู ุจูู ูุชุฌู ุงูููุฉ (\FLPF) ููุชุฌู ุงูุณุฑุนุฉ (\FLPv). ูุง ูุชู ุชุฑุฌูุฉ ุงูุฑููุฒ ุงูุฑูุงุถูุฉ ุฃู ุงูุฃููุงุฏ ุงูุจุฑูุฌูุฉ.</p>

<p>ุนูุฏูุง ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุชุญููู ูู ุงูููุฏ. ุฃู ุฃู <code class="language-plaintext highlighter-rouge">latex2svg.py</code> ูุฏ ูุดู. ููุง ูุชู ุงุณุชุฎุฏุงู ุจุฑูุงูุฌ <code class="language-plaintext highlighter-rouge">latex</code> ูุฅุฌุฑุงุก ุงูุชุญููู.</p>

<div class="language-tex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="p">{</span>article<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>listings<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>xcolor<span class="p">}</span>

<span class="k">\definecolor</span><span class="p">{</span>codegreen<span class="p">}{</span>rgb<span class="p">}{</span>0,0.6,0<span class="p">}</span>
<span class="k">\definecolor</span><span class="p">{</span>codegray<span class="p">}{</span>rgb<span class="p">}{</span>0.5,0.5,0.5<span class="p">}</span>
<span class="k">\definecolor</span><span class="p">{</span>codepurple<span class="p">}{</span>rgb<span class="p">}{</span>0.58,0,0.82<span class="p">}</span>
<span class="k">\definecolor</span><span class="p">{</span>backcolour<span class="p">}{</span>rgb<span class="p">}{</span>0.95,0.95,0.92<span class="p">}</span>

<span class="k">\lstdefinestyle</span><span class="p">{</span>mystyle<span class="p">}{</span>
    backgroundcolor=<span class="k">\color</span><span class="p">{</span>backcolour<span class="p">}</span>,   
    commentstyle=<span class="k">\color</span><span class="p">{</span>codegreen<span class="p">}</span>,
    keywordstyle=<span class="k">\color</span><span class="p">{</span>magenta<span class="p">}</span>,
    numberstyle=<span class="k">\tiny\color</span><span class="p">{</span>codegray<span class="p">}</span>,
    stringstyle=<span class="k">\color</span><span class="p">{</span>codepurple<span class="p">}</span>,
    basicstyle=<span class="k">\ttfamily\footnotesize</span>,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
<span class="p">}</span>

<span class="k">\lstset</span><span class="p">{</span>style=mystyle<span class="p">}</span>

<span class="nt">\begin{document}</span>

<span class="nt">\begin{lstlisting}</span>[language=Python]
def hello<span class="p">_</span>world():
    print("Hello, world!")
<span class="nt">\end{lstlisting}</span>

<span class="nt">\end{document}</span>
</code></pre></div></div>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="na">[12pt,preview]</span><span class="p">{</span>standalone<span class="p">}</span>
</code></pre></div></div>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="na">[utf8x]</span><span class="p">{</span>inputenc<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amsmath<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amsfonts<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amssymb<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>newtxtext<span class="p">}</span>
<span class="k">\usepackage</span><span class="na">[libertine]</span><span class="p">{</span>newtxmath<span class="p">}</span>
</code></pre></div></div>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{document}</span>
<span class="nt">\begin{preview}</span>
<span class="nt">\begin{equation}</span>
    <span class="k">\FLPF\cdot\FLPv</span>
<span class="nt">\end{equation}</span>
<span class="nt">\end{preview}</span>
<span class="nt">\end{document}</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$latex</span> code.tex
<span class="o">!</span> ุชุณูุณู ุชุญูู ุบูุฑ ูุนุฑูู.
l.13     <span class="se">\F</span>LPF
              <span class="se">\c</span>dot<span class="se">\F</span>LPv
ุ
</code></pre></div></div>

<p>ูุง ูู ูุฐู ุงููุดููุฉ ุจุงูุชุญุฏูุฏ. ูุงุญุธุช ูุงุญููุง ูุฐุง ุงูุฌุฒุก ูู ุงูููุฏ ูู <code class="language-plaintext highlighter-rouge">html</code>.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/x-mathjax-config;executed=true"</span><span class="nt">&gt;</span>
      <span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">({</span>
        <span class="na">TeX</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">Macros</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">FLPvec</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">boldsymbol{#1}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> 
            <span class="na">Figvec</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">mathbf{#1}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> 
            <span class="na">FLPC</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">FLPvec{C}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
            <span class="na">FLPF</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">FLPvec{F}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
            <span class="na">FLPa</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">FLPvec{a}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
            <span class="na">FLPb</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">FLPvec{b}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
            <span class="na">FLPr</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">FLPvec{r}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
            <span class="na">FLPs</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">FLPvec{s}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
            <span class="na">FLPv</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">FLPvec{v}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
            <span class="na">ddt</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">frac{d#1}{d#2}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> 
            <span class="na">epsO</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">epsilon_0</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> 
            <span class="na">FigC</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="se">\\</span><span class="s2">Figvec{C}</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>ูุฐุง ูุนูู ุฃูู ุนูุฏ ุนุฑุถ ุงูุตูุญุฉุ ุชู ุชุนููู ูุญุฏุงุช ุงููุงูุฑู ูู <code class="language-plaintext highlighter-rouge">MathJax</code>. ูุฐูู ูุฌุจ ุนูููุง ุฃูุถูุง ุฅุถุงูุชูุง ูู ููุฏ ุชุญููู <code class="language-plaintext highlighter-rouge">latex</code>. ุฏุนูุง ูุถูููุง.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="na">[12pt,preview]</span><span class="p">{</span>standalone<span class="p">}</span>
</code></pre></div></div>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="na">[utf8x]</span><span class="p">{</span>inputenc<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amsmath<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amsfonts<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>amssymb<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>newtxtext<span class="p">}</span>
<span class="k">\usepackage</span><span class="na">[libertine]</span><span class="p">{</span>newtxmath<span class="p">}</span>
</code></pre></div></div>

<p>\newcommand{\FLPvec}[1]{\boldsymbol{#1}}
\newcommand{\Figvec}[1]{\mathbf{#1}}
\newcommand{\FLPC}{\FLPvec{C}}
\newcommand{\FLPF}{\FLPvec{F}}
\newcommand{\FLPa}{\FLPvec{a}}
\newcommand{\FLPb}{\FLPvec{a}}
\newcommand{\FLPr}{\FLPvec{r}}
\newcommand{\FLPs}{\FLPvec{s}}
\newcommand{\FLPv}{\FLPvec{v}}
\newcommand{\ddt}[2]{\frac{d#1}{d#2}}
\newcommand{\epsO}{\epsilon_0}
\newcommand{\FigC}{\Figvec{C}}
\begin{document}
\begin{preview}
\begin{equation}
    \FLPF\cdot\FLPv
\end{equation}
\end{preview}
\end{document}</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ูุฐุง ุตุญูุญ.

![fv1](assets/images/feynman/fv1.png)

### ุชุญููู ุงูููุฏ

ููููู ูุธุฑุฉ ุนูู ุงูููุฏ ุงูููุงุฆู.

```python
import subprocess
from bs4 import BeautifulSoup
from latex2svg import latex2svg
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">clean_mathjax</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cls</span><span class="p">):</span>
    <span class="n">previews</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span><span class="p">:</span> <span class="n">cls</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">preview</span> <span class="ow">in</span> <span class="n">previews</span><span class="p">:</span>
        <span class="n">preview</span><span class="p">.</span><span class="n">decompose</span><span class="p">()</span>
        
<span class="k">def</span> <span class="nf">clean_script</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="n">scripts</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'script'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">scripts</span><span class="p">:</span>
        <span class="n">s</span><span class="p">.</span><span class="n">decompose</span><span class="p">()</span>    
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">wrap_latex</span><span class="p">(</span><span class="n">mathjax</span><span class="p">,</span> <span class="n">equation</span> <span class="o">=</span> <span class="bp">False</span><span class="p">):</span>
    <span class="n">wrap</span> <span class="o">=</span> <span class="s">''</span>
    <span class="k">if</span> <span class="n">equation</span><span class="p">:</span>
        <span class="n">wrap</span> <span class="o">=</span> <span class="n">mathjax</span><span class="p">.</span><span class="n">string</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">wrap</span> <span class="o">=</span> <span class="s">'$'</span> <span class="o">+</span> <span class="n">mathjax</span><span class="p">.</span><span class="n">string</span> <span class="o">+</span> <span class="s">'$'</span>
    <span class="n">wrap</span> <span class="o">=</span> <span class="n">wrap</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'label'</span><span class="p">,</span> <span class="s">'tag'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrap</span>
 
<span class="k">def</span> <span class="nf">wrap_svg</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">equation</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">equation</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="sa">f</span><span class="s">'&lt;div style="text-align:center;"&gt;&lt;/div&gt;'</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>
        <span class="n">p</span><span class="p">.</span><span class="n">div</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">p</span><span class="p">.</span><span class="n">div</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">svg</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">to_svg</span><span class="p">(</span><span class="n">mathjaxs</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">equation</span><span class="p">:</span>
        <span class="n">svg_prefix</span> <span class="o">=</span> <span class="s">'eq_'</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">svg_prefix</span> <span class="o">=</span> <span class="s">'in_'</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">mathjax</span> <span class="ow">in</span> <span class="n">mathjaxs</span><span class="p">:</span>     
        <span class="k">print</span><span class="p">(</span><span class="n">mathjax</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
        <span class="n">wrap</span> <span class="o">=</span> <span class="n">wrap_latex</span><span class="p">(</span><span class="n">mathjax</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="n">equation</span><span class="p">)</span>   
        <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">latex2svg</span><span class="p">(</span><span class="n">wrap</span><span class="p">)</span>   
        <span class="k">except</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">err</span>      
            
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s">'svgs/</span><span class="si">{</span><span class="n">svg_prefix</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s">.svg'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
        <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s">'svg'</span><span class="p">])</span>
        <span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
        
        <span class="n">node</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s">'&lt;img&gt;'</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'img'</span><span class="p">)</span>
        <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'src'</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'./svgs/</span><span class="si">{</span><span class="n">svg_prefix</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s">.svg'</span>
        <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'style'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'vertical-align: middle; margin: 0.5em 0;'</span>
        
        <span class="n">p</span> <span class="o">=</span> <span class="n">wrap_svg</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">equation</span><span class="p">)</span>
        <span class="n">mathjax</span><span class="p">.</span><span class="n">insert_after</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">+=</span><span class="mi">1</span>
</code></pre></div></div>

<p>ุชุฑุฌูุฉ ุงูููุฏ ุฃุนูุงู:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">to_svg</span><span class="p">(</span><span class="n">mathjaxs</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">equation</span><span class="p">:</span>
        <span class="n">svg_prefix</span> <span class="o">=</span> <span class="s">'eq_'</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">svg_prefix</span> <span class="o">=</span> <span class="s">'in_'</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">mathjax</span> <span class="ow">in</span> <span class="n">mathjaxs</span><span class="p">:</span>     
        <span class="k">print</span><span class="p">(</span><span class="n">mathjax</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
        <span class="n">wrap</span> <span class="o">=</span> <span class="n">wrap_latex</span><span class="p">(</span><span class="n">mathjax</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="n">equation</span><span class="p">)</span>   
        <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">latex2svg</span><span class="p">(</span><span class="n">wrap</span><span class="p">)</span>   
        <span class="k">except</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">err</span>      
            
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s">'svgs/</span><span class="si">{</span><span class="n">svg_prefix</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s">.svg'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
        <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s">'svg'</span><span class="p">])</span>
        <span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
        
        <span class="n">node</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s">'&lt;img&gt;'</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'img'</span><span class="p">)</span>
        <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'src'</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'./svgs/</span><span class="si">{</span><span class="n">svg_prefix</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s">.svg'</span>
        <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'style'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'vertical-align: middle; margin: 0.5em 0;'</span>
        
        <span class="n">p</span> <span class="o">=</span> <span class="n">wrap_svg</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">equation</span><span class="p">)</span>
        <span class="n">mathjax</span><span class="p">.</span><span class="n">insert_after</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">+=</span><span class="mi">1</span>
</code></pre></div></div>

<p>ููุงุญุธุฉ: ุงูููุฏ ูุจุฏู ุฃูู ูููู ุจุชุญููู ูุนุงุฏูุงุช LaTeX ุฅูู ุตูุฑ SVG ูุญูุธูุง ูู ูููุงุชุ ุซู ุฅุฏุฑุงุฌูุง ูู ูุณุชูุฏ HTML ุจุงุณุชุฎุฏุงู BeautifulSoup. ุงูุชุฑุฌูุฉ ุงูุญุฑููุฉ ููููุฏ ูุง ุชุบูุฑ ูู ูุธููุชูุ ูุฐุง ุชู ุชุฑู ุงูููุฏ ููุง ูู ูุน ุดุฑุญ ุจุณูุท ูููุธููุฉ.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>    
    <span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'The Feynman Lectures on Physics Vol. I Ch. 13_ Work and Potential Energy (A).html'</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
    
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>
    <span class="n">clean_mathjax</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s">'span'</span><span class="p">,</span> <span class="s">'MathJax'</span><span class="p">)</span>
    <span class="n">clean_mathjax</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s">'div'</span><span class="p">,</span> <span class="s">'MathJax_Display'</span><span class="p">)</span>
    <span class="n">clean_mathjax</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s">'span'</span><span class="p">,</span> <span class="s">'MathJax_Preview'</span><span class="p">)</span>
    
    <span class="n">mathjaxs</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'script'</span><span class="p">,</span> <span class="p">{</span><span class="s">'type'</span><span class="p">:</span> <span class="s">'math/tex'</span><span class="p">})</span>
    <span class="n">to_svg</span><span class="p">(</span><span class="n">mathjaxs</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    
    <span class="n">mathjaxs</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'script'</span><span class="p">,</span> <span class="p">{</span><span class="s">'type'</span><span class="p">:</span> <span class="s">'math/tex; mode=display'</span><span class="p">})</span>   
    <span class="n">to_svg</span><span class="p">(</span><span class="n">mathjaxs</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    <span class="n">clean_script</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
    
    <span class="n">output_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'out.html'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
    <span class="n">output_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">prettify</span><span class="p">())</span>
    <span class="n">output_file</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>    
</code></pre></div></div>

<pre><code class="language-main()">
</code></pre>

<p>ุนูุฏูุง ูุฑุบุจ ูู ุชุญููู ูุชุงุจ ุฅููุชุฑููู ุจุงููุงููุ ูููููุง ุฃููุงู ุชุฌุฑุจุฉ ุตูุญุฉ ูุงุญุฏุฉ.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'The Feynman Lectures on Physics Vol. I Ch. 13_ Work and Potential Energy (A).html'</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="nb">file</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div></div>

<p>ููุง ุชู ุชูุฒูู ุตูุญุฉ ูุงุญุฏุฉ.</p>

<p><code class="language-plaintext highlighter-rouge">MathJax</code> ูููุดุฆ ุงููุซูุฑ ูู ุนูุงุตุฑ <code class="language-plaintext highlighter-rouge">div</code> ู <code class="language-plaintext highlighter-rouge">span</code>. ุนูู ุณุจูู ุงููุซุงูุ ุงููุนุงุฏูุฉ <code class="language-plaintext highlighter-rouge">T+U=const</code> ูุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ MathJax ุจูุฐู ุงูุทุฑููุฉ.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"MathJax"</span><span class="nt">&gt;</span>T<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"MathJax"</span><span class="nt">&gt;</span>+<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"MathJax"</span><span class="nt">&gt;</span>U<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"MathJax"</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"MathJax"</span><span class="nt">&gt;</span>ุซุงุจุช<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>

<p>ูุฐู ุงูุฃุดูุงุก ูุฒุนุฌุฉ ููุฏ ุชุคุซุฑ ุนูู ูุตูุง. ูุธุฑูุง ูุฃู ูุฏููุง ุจุงููุนู <code class="language-plaintext highlighter-rouge">svg</code>ุ ููุง ูุญุชุงุฌ ุฅูู ูุฐู ุงูุฃุดูุงุก.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">clean_mathjax</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cls</span><span class="p">):</span>
    <span class="n">previews</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span><span class="p">:</span> <span class="n">cls</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">preview</span> <span class="ow">in</span> <span class="n">previews</span><span class="p">:</span>
        <span class="n">preview</span><span class="p">.</span><span class="n">decompose</span><span class="p">()</span>
</code></pre></div></div>

<p>ุชูุช ุชุฑุฌูุฉ ุงูููุฏ ุฅูู:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">clean_mathjax</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cls</span><span class="p">):</span>
    <span class="n">previews</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">{</span><span class="s">'class'</span><span class="p">:</span> <span class="n">cls</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">preview</span> <span class="ow">in</span> <span class="n">previews</span><span class="p">:</span>
        <span class="n">preview</span><span class="p">.</span><span class="n">decompose</span><span class="p">()</span>
</code></pre></div></div>

<p>ููุงุญุธุฉ: ุงูููุฏ ุจูู ููุง ูู ูุฃูู ููุชูุจ ุจูุบุฉ ุจุฑูุฌุฉ (Python) ููุง ูุชู ุชุฑุฌูุชู.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">clean_mathjax</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s">'span'</span><span class="p">,</span> <span class="s">'MathJax'</span><span class="p">)</span>
<span class="n">clean_mathjax</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s">'div'</span><span class="p">,</span> <span class="s">'MathJax_Display'</span><span class="p">)</span>
<span class="n">clean_mathjax</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="s">'span'</span><span class="p">,</span> <span class="s">'MathJax_Preview'</span><span class="p">)</span>
</code></pre></div></div>

<p>ูู ุจุฅุฒุงูุชูุง ุฌููุนูุง.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">mathjaxs</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'script'</span><span class="p">,</span> <span class="p">{</span><span class="s">'type'</span><span class="p">:</span> <span class="s">'math/tex'</span><span class="p">})</span>
    <span class="n">to_svg</span><span class="p">(</span><span class="n">mathjaxs</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    
    <span class="n">mathjaxs</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'script'</span><span class="p">,</span> <span class="p">{</span><span class="s">'type'</span><span class="p">:</span> <span class="s">'math/tex; mode=display'</span><span class="p">})</span>   
    <span class="n">to_svg</span><span class="p">(</span><span class="n">mathjaxs</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>ููุงุญุธุฉ:</strong> ุงูููุฏ ุฃุนูุงู ููุชูุจ ุจูุบุฉ Python ููุณุชุฎุฏู ููุชุจุฉ BeautifulSoup ูุงุณุชุฎุฑุงุฌ ุนูุงุตุฑ ุงููุตูุต ุงูุฑูุงุถูุฉ ูู ุตูุญุฉ ููุจ ูุชุญููููุง ุฅูู ุตูุบุฉ SVG. ูุง ูุญุชุงุฌ ุงูููุฏ ุฅูู ุชุฑุฌูุฉ ุญูุซ ุฃู ุงูุฃูุงูุฑ ูุงููุชุบูุฑุงุช ููุชูุจุฉ ุจุงูุฅูุฌููุฒูุฉ ููู ุฌุฒุก ูู ุจูุงุก ุงูุฌููุฉ ุงูุจุฑูุฌูุฉ.</p>

<p>ูุงุญุธ ุฃู ููุงู ููุนูู ูู <code class="language-plaintext highlighter-rouge">script</code> ููุง.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>m(dv/dt)=F
</code></pre></div></div>

<p><strong>ุชุฑุฌูุฉ ุงููุนุงุฏูุฉ:</strong></p>

<p>ุชูุนุจุฑ ุงููุนุงุฏูุฉ ุนู ุงููุงููู ุงูุซุงูู ููููุชู ููุญุฑูุฉุ ุญูุซ:</p>
<ul>
  <li>( m ) ูู ูุชูุฉ ุงูุฌุณู.</li>
  <li>( \frac{dv}{dt} ) ูู ูุนุฏู ุชุบูุฑ ุงูุณุฑุนุฉ ุจุงููุณุจุฉ ููุฒูู (ุงูุชุณุงุฑุน).</li>
  <li>( F ) ูู ุงูููุฉ ุงููุคุซุฑุฉ ุนูู ุงูุฌุณู.</li>
</ul>

<p><strong>ุงูุตูุบุฉ ุงูุฑูุงุถูุฉ:</strong>
[ m \frac{dv}{dt} = F ]</p>

<p><strong>ุงูุชูุณูุฑ:</strong>
ุงูููุฉ ุงููุคุซุฑุฉ ุนูู ุฌุณู ูุง ุชุณุงูู ูุชูุฉ ุงูุฌุณู ูุถุฑูุจุฉ ูู ุชุณุงุฑุนู.</p>

<p>ูุฐุง ูู ุงููููุฐุฌ ุงููุถูู.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{equation}</span>
<span class="k">\underset</span><span class="p">{</span><span class="k">\text</span><span class="p">{</span>ุงูุทุงูุฉ ุงูุญุฑููุฉ<span class="p">}}{</span><span class="k">\tfrac</span><span class="p">{</span>1<span class="p">}{</span>2<span class="p">}</span>mv<span class="p">^</span>2<span class="p">}</span>+
<span class="k">\underset</span><span class="p">{</span><span class="k">\text</span><span class="p">{</span>ุงูุทุงูุฉ ุงููุงููุฉ<span class="p">}}{</span><span class="k">\vphantom</span><span class="p">{</span><span class="k">\tfrac</span><span class="p">{</span>1<span class="p">}{</span>2<span class="p">}}</span>mgh<span class="p">}</span>=<span class="k">\text</span><span class="p">{</span>ุซุงุจุช<span class="p">}</span>,<span class="k">\notag</span>
</code></pre></div></div>

<p>ูุฐุง ูู ุงููุต ุจุดูู ููุฑุงุช.</p>

<p>ุนูุฏ ุงุณุชุฎุฏุงู ุงูุตูุบุฉ ุงููุถููุฉุ ูุฌุจ ุฅุถุงูุฉ <code class="language-plaintext highlighter-rouge">$</code> ุฃู <code class="language-plaintext highlighter-rouge">[]</code> ุญูู ุงูุชุนุจูุฑ. ูุฅูุง ููุฏ ูุญุฏุซ ุฎุทุฃ.</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{document}</span>
<span class="nt">\begin{preview}</span>
<span class="k">\tfrac</span><span class="p">{</span>1<span class="p">}{</span>2<span class="p">}</span>mv<span class="p">^</span>2
<span class="nt">\end{preview}</span>
<span class="nt">\end{document}</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">!</span> ุชู ุฅุฏุฎุงู ุนูุงูุฉ <span class="nv">$ </span>ููููุฏุฉ.
&lt;ุงููุต ุงูููุฏุฎู&gt;
                <span class="err">$</span>
l.26 <span class="se">\t</span>frac<span class="o">{</span>1<span class="o">}{</span>2<span class="o">}</span>
                 <span class="nb">mv</span>^2
</code></pre></div></div>

<p>ูุฌุจ ุฃู ูุชู ุชุบููุฑู ุฅูู ูุฐุง:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{document}</span>
<span class="nt">\begin{preview}</span>
<span class="p">$</span><span class="nv">\tfrac</span><span class="p">{</span><span class="m">1</span><span class="p">}{</span><span class="m">2</span><span class="p">}</span><span class="nb">mv</span><span class="p">^</span><span class="m">2</span><span class="p">$</span>
<span class="nt">\end{preview}</span>
<span class="nt">\end{document}</span>
</code></pre></div></div>

<p>ููุฑู ุงูุขู ููููุฉ ุชุญููู <code class="language-plaintext highlighter-rouge">latex</code> ุฅูู <code class="language-plaintext highlighter-rouge">svg</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">if</span> <span class="n">equation</span><span class="p">:</span>
        <span class="n">svg_prefix</span> <span class="o">=</span> <span class="s">'eq_'</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">svg_prefix</span> <span class="o">=</span> <span class="s">'in_'</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% tree svgs
svgs
โโโ eq_0.svg
โโโ eq_1.svg
โโโ in_0.svg
</code></pre></div></div>

<p>ููุฐุง ูุชู ุญูุธ <code class="language-plaintext highlighter-rouge">svg</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">wrap_latex</span><span class="p">(</span><span class="n">mathjax</span><span class="p">,</span> <span class="n">equation</span> <span class="o">=</span> <span class="bp">False</span><span class="p">):</span>
    <span class="n">wrap</span> <span class="o">=</span> <span class="s">''</span>
    <span class="k">if</span> <span class="n">equation</span><span class="p">:</span>
        <span class="n">wrap</span> <span class="o">=</span> <span class="n">mathjax</span><span class="p">.</span><span class="n">string</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">wrap</span> <span class="o">=</span> <span class="s">'$'</span> <span class="o">+</span> <span class="n">mathjax</span><span class="p">.</span><span class="n">string</span> <span class="o">+</span> <span class="s">'$'</span>
    <span class="n">wrap</span> <span class="o">=</span> <span class="n">wrap</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'label'</span><span class="p">,</span> <span class="s">'tag'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrap</span>
</code></pre></div></div>

<p>ููุง ุณูููู ุจุฅุฌุฑุงุก ุจุนุถ ุงูุชุนุฏููุงุช ุนูู ููุฏ <code class="language-plaintext highlighter-rouge">latex</code>. ูุงุญุธ ุฃู <code class="language-plaintext highlighter-rouge">label</code> ูุฏ ุชุญููุช ุฅูู <code class="language-plaintext highlighter-rouge">tag</code>.</p>

<p><img src="assets/images/feynman/tag.png" alt="ุนูุงูุฉ" /></p>

<p>ูุงุญุธ <code class="language-plaintext highlighter-rouge">(Eq:I:13:14)</code> ุนูู ุงูุฌุงูุจ ุงูุฃููู. ุฅุฐุง ูุงู <code class="language-plaintext highlighter-rouge">label</code>ุ ูุฅูู ูู ูุชู ุชุญูููู ุจูุฌุงุญ. ุณูุธูุฑ ูุฐุง ูู <code class="language-plaintext highlighter-rouge">(1)</code>. ููุง ูุณุชุฎุฏู <code class="language-plaintext highlighter-rouge">tag</code> ููุฅุดุงุฑุฉ ุฅููู ูุคูุชูุงุ ููู ูุชุนูู ูู ุงูุจุญุซ ุจุนุฏ.</p>

<p>ุซู ูุชู ุงุณุชุฏุนุงุก <code class="language-plaintext highlighter-rouge">latex2svg.py</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="n">out</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">latex2svg</span><span class="p">(</span><span class="n">wrap</span><span class="p">)</span>   
        <span class="k">except</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">err</span>    
</code></pre></div></div>

<p><strong>ููุงุญุธุฉ:</strong> ุงูููุฏ ุงูููุฌูุฏ ูู ุงูููู ุงูุฃุตูู ููุชูุจ ุจูุบุฉ Python ููุง ูุญุชุงุฌ ุฅูู ุชุฑุฌูุฉุ ุญูุซ ุฃู ุงูุฃููุงุฏ ุงูุจุฑูุฌูุฉ ุชุจูู ููุง ูู ุจุบุถ ุงููุธุฑ ุนู ุงููุบุฉ ุงููุณุชุฎุฏูุฉ ูู ุงููุซููุฉ.</p>

<p>ุงุทูุน ุนูู <code class="language-plaintext highlighter-rouge">latex2svg.py</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c1"># ุชุดุบูู LaTeX ูุฅูุดุงุก ููู DVI
</span>    <span class="k">try</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">shlex</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s">'latex_cmd'</span><span class="p">]</span><span class="o">+</span><span class="s">' code.tex'</span><span class="p">),</span>
                             <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="p">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="p">.</span><span class="n">PIPE</span><span class="p">,</span>
                             <span class="n">cwd</span><span class="o">=</span><span class="n">working_directory</span><span class="p">)</span>
        <span class="n">ret</span><span class="p">.</span><span class="n">check_returncode</span><span class="p">()</span>
    <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">RuntimeError</span><span class="p">(</span><span class="s">'latex ุบูุฑ ููุฌูุฏ'</span><span class="p">)</span>
</code></pre></div></div>

<p>ููุง ูุชู ุงุณุชุฏุนุงุก ุฃูุฑ <code class="language-plaintext highlighter-rouge">latex</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> % latex <span class="nt">--help</span>
ุงูุงุณุชุฎุฏุงู: pdftex <span class="o">[</span>ุฎูุงุฑ]... <span class="o">[</span>ุงุณู ุงูููู[.tex]] <span class="o">[</span>ุฃูุงูุฑ]
   ุฃู: pdftex <span class="o">[</span>ุฎูุงุฑ]... <span class="se">\ุง</span>ูุณุทุฑ ุงูุฃูู
   ุฃู: pdftex <span class="o">[</span>ุฎูุงุฑ]... &amp;ุชูุณูู ARGS
  ุชุดุบูู pdfTeX ุนูู ุงุณู ุงููููุ ุนุงุฏุฉู ูุง ูุชู ุฅูุดุงุก ุงุณู ุงูููู.pdf.
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">try</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">shlex</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s">'dvisvgm_cmd'</span><span class="p">]</span><span class="o">+</span><span class="s">' code.dvi'</span><span class="p">),</span>
                             <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="p">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="p">.</span><span class="n">PIPE</span><span class="p">,</span>
                             <span class="n">cwd</span><span class="o">=</span><span class="n">working_directory</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">)</span>
        <span class="n">ret</span><span class="p">.</span><span class="n">check_returncode</span><span class="p">()</span>
    <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">RuntimeError</span><span class="p">(</span><span class="s">'ูู ูุชู ุงูุนุซูุฑ ุนูู dvisvgm'</span><span class="p">)</span>
</code></pre></div></div>

<p>ููุง ูุชู ุงุณุชุฏุนุงุก ุฃูุฑ <code class="language-plaintext highlighter-rouge">dvisvgm</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% dvisvgm
dvisvgm 2.9.1
</code></pre></div></div>

<p>ูุฐุง ุงูุจุฑูุงูุฌ ูุญูู ูููุงุช DVIุ ุงูุชู ูุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ TeX/LaTeXุ ุจุงูุฅุถุงูุฉ ุฅูู ูููุงุช EPS ูPDFุ ุฅูู ุชูุณูู SVG ุงููุงุฆู ุนูู XML ูุงูุฐู ูุนุชุจุฑ ุชูุณูููุง ูุชุฌูููุง ูุงุจููุง ููุชุญุฌูู.</p>

<p>ุงูุงุณุชุฎุฏุงู: dvisvgm [ุฎูุงุฑุงุช] ููู_dvi
       dvisvgm โeps [ุฎูุงุฑุงุช] ููู_eps
       dvisvgm โpdf [ุฎูุงุฑุงุช] ููู_pdf</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ุฃูู ุชูุชุจ ูุญุฏุงุช ุงููุงูุฑู ุงููุฎุตุตุฉ ูู `latex` ุงูุชู ุชู ุฐูุฑูุง ุฃุนูุงูุ ููุง ูุฌุจ ุชุนุฏูู `latex2svg.py`. ูู ุจุชุนุฏูู `default_preamble`.

```python
default_preamble = r"""
\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{newtxtext}
\usepackage[libertine]{newtxmath}
</code></pre></div></div>

<p>\newcommand{\FLPvec}[1]{\boldsymbol{#1}}
\newcommand{\Figvec}[1]{\mathbf{#1}}
\newcommand{\FLPC}{\FLPvec{C}}
\newcommand{\FLPF}{\FLPvec{F}}
\newcommand{\FLPa}{\FLPvec{a}}
\newcommand{\FLPb}{\FLPvec{a}}
\newcommand{\FLPr}{\FLPvec{r}}
\newcommand{\FLPs}{\FLPvec{s}}
\newcommand{\FLPv}{\FLPvec{v}}
\newcommand{\ddt}[2]{\frac{d#1}{d#2}}
\newcommand{\epsO}{\epsilon_0}
\newcommand{\FigC}{\Figvec{C}}
โโโ</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ุจุนุฏ ุงูุชุญููู ุจูุฌุงุญุ ูุชู ุงููุชุงุจุฉ ุฅูู ุงูููู.

```python
        f = open(f'svgs/{svg_prefix}{i}.svg', 'w')
        f.write(out['svg'])
        f.close()
</code></pre></div></div>

<p>ุงุณุชูุฑ.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="n">node</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s">'&lt;img&gt;'</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'img'</span><span class="p">)</span>
        <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'src'</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'./svgs/</span><span class="si">{</span><span class="n">svg_prefix</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s">.svg'</span>
        <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'style'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'vertical-align: middle; margin: 0.5em 0;'</span>
</code></pre></div></div>

<p><strong>ุชุฑุฌูุฉ ุงูููุฏ ุฅูู ุงูุนุฑุจูุฉ:</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="n">node</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="s">'&lt;img&gt;'</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>  <span class="c1"># ุฅูุดุงุก ูุงุฆู BeautifulSoup ูู ูุณู &lt;img&gt;
</span>        <span class="n">img</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'img'</span><span class="p">)</span>  <span class="c1"># ุงูุจุญุซ ุนู ูุณู &lt;img&gt; ุฏุงุฎู ุงููุงุฆู
</span>        <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'src'</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'./svgs/</span><span class="si">{</span><span class="n">svg_prefix</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s">.svg'</span>  <span class="c1"># ุชุนููู ุงูุณูุฉ 'src' ููุณุงุฑ ููู SVG
</span>        <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'style'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'vertical-align: middle; margin: 0.5em 0;'</span>  <span class="c1"># ุชุนููู ุงูุณูุฉ 'style' ูุชูุณูู ุงูุตูุฑุฉ
</span></code></pre></div></div>

<p><strong>ููุงุญุธุฉ:</strong> ุชู ุงูุญูุงุธ ุนูู ุงูููุฏ ุงูุฃุตูู ููุง ูู ูุฃูู ูุชุถูู ุฃุณูุงุก ููุชุจุงุช ููุธุงุฆู ูุญุฏุฏุฉ (ูุซู <code class="language-plaintext highlighter-rouge">BeautifulSoup</code>) ูุงูุชู ูุง ูุชู ุชุฑุฌูุชูุง ุนุงุฏุฉู. ุชูุช ุฅุถุงูุฉ ุงูุชุนูููุงุช ุจุงููุบุฉ ุงูุนุฑุจูุฉ ูุดุฑุญ ุงูููุฏ.</p>

<p>ููุง ูููู ุจุฅูุดุงุก ูุณู <code class="language-plaintext highlighter-rouge">img</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">wrap_svg</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">equation</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">equation</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="sa">f</span><span class="s">'&lt;div style="text-align:center;"&gt;&lt;/div&gt;'</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>
        <span class="n">p</span><span class="p">.</span><span class="n">div</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">p</span><span class="p">.</span><span class="n">div</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">svg</span>
      
<span class="n">p</span> <span class="o">=</span> <span class="n">wrap_svg</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">equation</span><span class="p">)</span>
</code></pre></div></div>

<p>ุชูุช ุชุฑุฌูุฉ ุงูููุฏ ุฃุนูุงู ุฅูู:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">wrap_svg</span><span class="p">(</span><span class="n">svg</span><span class="p">,</span> <span class="n">equation</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">equation</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="sa">f</span><span class="s">'&lt;div style="text-align:center;"&gt;&lt;/div&gt;'</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">"lxml"</span><span class="p">)</span>
        <span class="n">p</span><span class="p">.</span><span class="n">div</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">svg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">p</span><span class="p">.</span><span class="n">div</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">svg</span>
      
<span class="n">p</span> <span class="o">=</span> <span class="n">wrap_svg</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">equation</span><span class="p">)</span>
</code></pre></div></div>

<p>ููุงุญุธุฉ: ุงูููุฏ ูู ูุชุบูุฑ ูุฃูู ูุญุชูู ุนูู ุฃุณูุงุก ูุชุบูุฑุงุช ูุฏูุงู ุจุงูุฅูุฌููุฒูุฉุ ููู ูุชู ุชุบููุฑูุง ููููุง ููุชุนูููุงุช.</p>

<p>ุฅุฐุง ูุงูุช <code class="language-plaintext highlighter-rouge">latex</code> ุนุจุงุฑุฉ ุนู ููุฑุฉ ูุงุญุฏุฉุ ููู ุจุชุบููููุง ุจุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">div</code> ูุชูุณูุทูุง.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mathjax</span><span class="p">.</span><span class="n">insert_after</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</code></pre></div></div>

<p>ููุง ูุชู ุฅุถุงูุฉ ูุณู <code class="language-plaintext highlighter-rouge">div</code> ุฃู ูุณู <code class="language-plaintext highlighter-rouge">img</code> ุจุนุฏ ูุณู <code class="language-plaintext highlighter-rouge">script</code> ุงูุฃุตูู.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">clean_script</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="n">scripts</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'script'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">scripts</span><span class="p">:</span>
        <span class="n">s</span><span class="p">.</span><span class="n">decompose</span><span class="p">()</span>    
        
<span class="n">clean_script</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>ุชุฑุฌูุฉ ุงูููุฏ ุฅูู ุงูุนุฑุจูุฉ:</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">ุชูุธูู_ุงููุตู</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="n">ุงููุตูุต</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'script'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ูุต</span> <span class="ow">in</span> <span class="n">ุงููุตูุต</span><span class="p">:</span>
        <span class="n">ูุต</span><span class="p">.</span><span class="n">decompose</span><span class="p">()</span>    
        
<span class="n">ุชูุธูู_ุงููุตู</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</code></pre></div></div>

<p>ูู ูุฐุง ุงูููุฏุ ูุชู ุชุนุฑูู ุฏุงูุฉ <code class="language-plaintext highlighter-rouge">ุชูุธูู_ุงููุตู</code> ุงูุชู ุชููู ุจุฅุฒุงูุฉ ุฌููุน ุนูุงุตุฑ ุงููุตูุต ุงูุจุฑูุฌูุฉ (<code class="language-plaintext highlighter-rouge">script</code>) ูู ูุงุฆู <code class="language-plaintext highlighter-rouge">soup</code> ุงูุฐู ููุซู ูุซููุฉ HTML. ูุชู ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">findAll</code> ููุนุซูุฑ ุนูู ุฌููุน ุงูุนูุงุตุฑ ูู ููุน <code class="language-plaintext highlighter-rouge">script</code>ุ ุซู ูุชู ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">decompose</code> ูุฅุฒุงูุฉ ูู ุนูุตุฑ ูุตู ูู ุงููุซููุฉ.</p>

<p>ุจุนุฏ ุงุณุชุจุฏุงู ุฌููุน ุนูุงุตุฑ <code class="language-plaintext highlighter-rouge">latex</code> ุจู <code class="language-plaintext highlighter-rouge">svg</code>ุ ูู ุชููู ููุงู ุญุงุฌุฉ ุฅูู <code class="language-plaintext highlighter-rouge">script</code>. ูู ุจุญุฐููุง ูุฌุนู ุงูููุฏ ุฃูุซุฑ ูุธุงูุฉ.</p>

<p>ุฃุฎูุฑูุงุ ูุชู ูุชุงุจุฉ <code class="language-plaintext highlighter-rouge">html</code> ุงููุนุฏู ุจุงููุงูู ูู ููู.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">output_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'out.html'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
    <span class="n">output_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">prettify</span><span class="p">())</span>
    <span class="n">output_file</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>    
</code></pre></div></div>

<p>ุซู ุงุณุชุฎุฏู ุฃุฏุงุฉ <code class="language-plaintext highlighter-rouge">pandoc</code> ูุชุญููููุง ุฅูู ุตูุบุฉ <code class="language-plaintext highlighter-rouge">epub</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pandoc <span class="nt">-s</span> <span class="nt">-r</span> html out.html <span class="nt">-o</span> feynman.epub
</code></pre></div></div>

<p>ุณูุชู ูุชุญ ูุชุงุจ ุฅููุชุฑููู ุฌููู.</p>

<p>ููุงุฐุง ูุง ูุชู ุชุถููู ุนูุงูุฉ <code class="language-plaintext highlighter-rouge">svg</code> ูุจุงุดุฑุฉุ ุจุฏูุงู ูู ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">img</code> ูุฅุฏุฑุงุฌูุงุ ุฃู ุจูุชุงุจุฉ ูุซู ูุฐุง:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;&lt;/p&gt;</span>
<span class="nt">&lt;svg&gt;&lt;/svg&gt;</span>
<span class="nt">&lt;p&gt;&lt;/p&gt;</span>
</code></pre></div></div>

<p>ููุงู <code class="language-plaintext highlighter-rouge">bug</code> ุบุฑูุจ ุฌุฏูุง. ุนูุฏูุง ูููู ููุงู ุงููุซูุฑ ูู ูููุงุช <code class="language-plaintext highlighter-rouge">svg</code>ุ ูุญุฏุซ ุดูุก ูุซู ูุฐุง.</p>

<p><img src="/assets/images/feynman/svg_p1.png" alt="svg_p1" style="zoom:40%;" /></p>

<p>ูุงุญููุง ุงูุชุดูุช ุฃูู ูููู ุงุณุชุฎุฏุงู <code class="language-plaintext highlighter-rouge">img</code> ูุฅุฏุฑุงุฌ ุงูุตูุฑ. ุฃูุง ุนู ุณุจุจ ุฐููุ ูู ุฃูููู ุชูุงููุง. ุนูุฏูุง ุฃุฎุฐุช ูุฐุง ุงูู <code class="language-plaintext highlighter-rouge">svg</code> ุงููุฑุฏู ูุนุฑุถุชู ูู ุงููุชุตูุญุ ูู ุชูู ููุงู ูุดููุฉ. ูุจุฏู ุฃู ุงููุดููุฉ ุชุญุฏุซ ุนูุฏูุง ูููู ุงููุชุตูุญ ุจุนุฑุถ ุนุฏุฏ ูุจูุฑ ุฌุฏูุง ูู ูููุงุช <code class="language-plaintext highlighter-rouge">svg</code> ูู ููุณ ุงูููุช.</p>

<h3 id="ุงูุฎุชุงู">ุงูุฎุชุงู</h3>

<p>ุฃูุง ุจุงููุณุจุฉ ูููููุฉ ุชุญููู <code class="language-plaintext highlighter-rouge">epub</code> ุฅูู <code class="language-plaintext highlighter-rouge">mobi</code>ุ ููููู ุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงูุฑุณููุฉ ูู <code class="language-plaintext highlighter-rouge">Kindle</code> ููู <code class="language-plaintext highlighter-rouge">Kindle Previewer 3</code>. ูุงุญุธ ุฃู ูุฐุง ูุฌุฑุฏ ูุตู ูุงุญุฏ.</p>

<p>ููุฏ ุงููุดุฑูุน ููุฌูุฏ ูู <a href="https://github.com/lzwjava/feynman-lectures-mobi">feynman-lectures-mobi@lzwjava</a>.</p>

<p>ููู ูููู ุงุณุชุฎุฑุงุฌ ุฌููุน ุงูุตูุญุงุช ูุชูุธูููุง ูู ูุชุงุจ ุฅููุชุฑูููุ ุณูุชุญุฏุซ ุนู ุฐูู ูุงุญููุง. ูููู ูุฐุง ุงููุตู ูู ูุญุงุถุฑุงุช ููููุงู ูู ุงูููุฒูุงุก ูุงูู ูููุฑุงุกุฉ. ุญุณููุงุ ููุจุฏุฃ ุงููุฑุงุกุฉ ุนูู ุฌูุงุฒ Kindle.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-ar" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
