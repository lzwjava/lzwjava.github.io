<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>التعبيرات النمطية المعقدة (Complex Regular Expressions)</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>التعبيرات النمطية المعقدة (Complex Regular Expressions) | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="التعبيرات النمطية المعقدة (Complex Regular Expressions)" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="ar" />
<meta name="description" content="أثناء بحثي مؤخرًا عن تحليل HTML، صادفت تعبيرًا منتظمًا:" />
<meta property="og:description" content="أثناء بحثي مؤخرًا عن تحليل HTML، صادفت تعبيرًا منتظمًا:" />
<link rel="canonical" href="https://lzwjava.github.io/regex-ar" />
<meta property="og:url" content="https://lzwjava.github.io/regex-ar" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-05-25T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="التعبيرات النمطية المعقدة (Complex Regular Expressions)" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2016-05-25T00:00:00+08:00","datePublished":"2016-05-25T00:00:00+08:00","description":"أثناء بحثي مؤخرًا عن تحليل HTML، صادفت تعبيرًا منتظمًا:","headline":"التعبيرات النمطية المعقدة (Complex Regular Expressions)","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/regex-ar"},"url":"https://lzwjava.github.io/regex-ar"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=cae3a66c75fa77f6b4cea23a93ef46d4dca9269d">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=cae3a66c75fa77f6b4cea23a93ef46d4dca9269d" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       التعبيرات النمطية المعقدة (Complex Regular Expressions) | أصلي، ترجم بواسطة AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/ar/2016-05-25-regex-ar.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsar2016-05-25-regex-ar.md</span> -->
      

      <!-- <span>2016-05-25-regex-ar.md</span> -->

      
        

        
          
          <a href="#" class="button">2016.05</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/regex-en" >English</option>
        <option value="/regex-zh" >中文</option>
        <option value="/regex-ja" >日本語</option>
        <option value="/regex-es" >Español</option>
        <option value="/regex-hi" >हिंदी</option>
        <option value="/regex-fr" >Français</option>
        <option value="/regex-de" >Deutsch</option>
        <option value="/regex-ar" selected>العربية</option>
        <option value="/regex-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>أثناء بحثي مؤخرًا عن تحليل HTML، صادفت تعبيرًا منتظمًا:</p>

<p><code class="language-plaintext highlighter-rouge">/([\w-:\*&gt;]*)(?:\#([\w-]+)|\.([\w-]+))?(?:\[@?(!?[\w-:]+)(?:([!*^$]?=)["']?(.*?)["']?)?\])?([\/, ]+)/is</code></p>

<p>هذا التعبير النمطي (regex) يستخدم لمطابقة أنماط معينة في النصوص. دعونا نشرح كل جزء منه:</p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">([\w-:\*&gt;]*)</code>: يطابق أي حرف من الحروف (a-z, A-Z)، الأرقام (0-9)، الشرطة السفلية (<code class="language-plaintext highlighter-rouge">_</code>)، الشرطة (<code class="language-plaintext highlighter-rouge">-</code>)، النقطتين (<code class="language-plaintext highlighter-rouge">:</code>)، النجمة (<code class="language-plaintext highlighter-rouge">*</code>)، أو علامة أكبر من (<code class="language-plaintext highlighter-rouge">&gt;</code>). يمكن أن يتكرر هذا النمط صفر أو أكثر من المرات.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">(?:\#([\w-]+)|\.([\w-]+))?</code>: هذا جزء اختياري (بسبب <code class="language-plaintext highlighter-rouge">?</code> في النهاية) يطابق إما:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">\#([\w-]+)</code>: علامة <code class="language-plaintext highlighter-rouge">#</code> متبوعة بواحد أو أكثر من الحروف أو الأرقام أو الشرطة السفلية أو الشرطة.</li>
      <li>أو <code class="language-plaintext highlighter-rouge">\.([\w-]+)</code>: نقطة <code class="language-plaintext highlighter-rouge">.</code> متبوعة بواحد أو أكثر من الحروف أو الأرقام أو الشرطة السفلية أو الشرطة.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">(?:\[@?(!?[\w-:]+)(?:([!*^$]?=)["']?(.*?)["']?)?\])?</code>: هذا جزء اختياري آخر يطابق:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">\[</code>: قوس مربع افتتاح <code class="language-plaintext highlighter-rouge">[</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">@?</code>: علامة <code class="language-plaintext highlighter-rouge">@</code> اختيارية.</li>
      <li><code class="language-plaintext highlighter-rouge">(!?[\w-:]+)</code>: علامة تعجب <code class="language-plaintext highlighter-rouge">!</code> اختيارية متبوعة بواحد أو أكثر من الحروف أو الأرقام أو الشرطة السفلية أو الشرطة أو النقطتين.</li>
      <li><code class="language-plaintext highlighter-rouge">(?:([!*^$]?=)["']?(.*?)["']?)?</code>: جزء اختياري يطابق:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">([!*^$]?=)</code>: علامة تعجب <code class="language-plaintext highlighter-rouge">!</code>، نجمة <code class="language-plaintext highlighter-rouge">*</code>، علامة <code class="language-plaintext highlighter-rouge">^</code>، أو علامة <code class="language-plaintext highlighter-rouge">$</code> اختيارية متبوعة بعلامة يساوي <code class="language-plaintext highlighter-rouge">=</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">["']?(.*?)["']?</code>: نص محاط بعلامتي تنصيص <code class="language-plaintext highlighter-rouge">"</code> أو <code class="language-plaintext highlighter-rouge">'</code> اختيارية.</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">\]</code>: قوس مربع إغلاق <code class="language-plaintext highlighter-rouge">]</code>.</li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">([\/, ]+)</code>: يطابق واحد أو أكثر من الشرطة المائلة <code class="language-plaintext highlighter-rouge">/</code>، الفاصلة <code class="language-plaintext highlighter-rouge">,</code>، أو المسافة ` `.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">is</code>: هذه علامات تعديل:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">i</code>: يجعل المطابقة غير حساسة لحالة الأحرف (أي لا يفرق بين الأحرف الكبيرة والصغيرة).</li>
      <li><code class="language-plaintext highlighter-rouge">s</code>: يجعل النقطة <code class="language-plaintext highlighter-rouge">.</code> تطابق أي حرف، بما في ذلك حرف السطر الجديد.</li>
    </ul>
  </li>
</ol>

<p>هذا التعبير النمطي يمكن استخدامه لتحليل وفهم أنماط معينة في النصوص، مثل العناوين أو العلامات في لغة Markdown أو HTML.</p>

<p>يُستخدم لمطابقة محددات CSS، مثل <code class="language-plaintext highlighter-rouge">div &gt; ul</code>.</p>

<p>لقد صادفت في الماضي العديد من التعبيرات المعقدة كهذه، وكنت أتراجع عنها بشكل غريزي. اليوم، قررت أن أفهمها تمامًا! يا رجل، يجب أن تكون قاسيًا على نفسك!</p>

<h3 id="مطابقة-div--ul">مطابقة <code class="language-plaintext highlighter-rouge">div &gt; ul</code></h3>

<p>في CSS، يمكنك استخدام المحدد <code class="language-plaintext highlighter-rouge">div &gt; ul</code> لتحديد عناصر <code class="language-plaintext highlighter-rouge">&lt;ul&gt;</code> التي تكون أبناء مباشرين لعناصر <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code>. هذا يعني أن العنصر <code class="language-plaintext highlighter-rouge">&lt;ul&gt;</code> يجب أن يكون مباشرة داخل عنصر <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code>، ولا يمكن أن يكون داخل أي عناصر أخرى متداخلة.</p>

<h4 id="مثال">مثال:</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span>عنصر 1<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>عنصر 2<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>في هذا المثال، سيتم تطبيق الأنماط المحددة باستخدام <code class="language-plaintext highlighter-rouge">div &gt; ul</code> على العنصر <code class="language-plaintext highlighter-rouge">&lt;ul&gt;</code> الموجود داخل <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code>.</p>

<h4 id="مثال-آخر">مثال آخر:</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
      <span class="nt">&lt;li&gt;</span>عنصر 1<span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;</span>عنصر 2<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>في هذا المثال، لن يتم تطبيق الأنماط على العنصر <code class="language-plaintext highlighter-rouge">&lt;ul&gt;</code> لأنه ليس ابنًا مباشرًا للعنصر <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> الخارجي، بل هو ابن لعنصر <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> آخر متداخل.</p>

<h4 id="استخدام-في-css">استخدام في CSS:</h4>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">div</span> <span class="o">&gt;</span> <span class="nt">ul</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="no">yellow</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>سيؤدي هذا الكود إلى تغيير لون خلفية العنصر <code class="language-plaintext highlighter-rouge">&lt;ul&gt;</code> الذي يكون ابنًا مباشرًا لعنصر <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> إلى اللون الأصفر.</p>

<p>لقد وجدت موقعًا https://regex101.com/ ، يمكنه مطابقة التعبيرات النمطية (regex) عبر الإنترنت ويقدم أيضًا تفسيرات.</p>

<p>بالرغم من وجود الشرح على اليمين، أصبحت الأمور أكثر وضوحًا. لكن ما زلت غير متأكد من كيفية تطابقها بالضبط. لذا، سأبحث عن بعض الأمثلة وأحللها واحدة تلو الأخرى.</p>

<p>الكود الذي يحتوي على هذا التعبير النمطي (Regular Expression) هو:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$matches</span> <span class="o">=</span> <span class="p">[];</span>
<span class="nb">preg_match_all</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="n">pattern</span><span class="p">,</span> <span class="nb">trim</span><span class="p">(</span><span class="nv">$selector</span><span class="p">)</span><span class="mf">.</span><span class="s1">' '</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">,</span> <span class="no">PREG_SET_ORDER</span><span class="p">);</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">preg_match_all</code> تعني الحصول على جميع السلاسل التي تطابق النمط. إذا كان لديك:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">preg_match_all</span><span class="p">(</span><span class="s2">"abc"</span><span class="p">,</span> <span class="s2">"abcdabc"</span><span class="p">,</span> <span class="nv">$matches</span><span class="p">)</span>
</code></pre></div></div>

<p>في الكود أعلاه، يتم استخدام الدالة <code class="language-plaintext highlighter-rouge">preg_match_all</code> في لغة PHP للبحث عن جميع التطابقات لنمط معين داخل نص معين. في هذه الحالة، النمط المطلوب البحث عنه هو <code class="language-plaintext highlighter-rouge">"abc"</code>، والنص الذي يتم البحث فيه هو <code class="language-plaintext highlighter-rouge">"abcdabc"</code>. النتائج سيتم تخزينها في المصفوفة <code class="language-plaintext highlighter-rouge">$matches</code>.</p>

<p>المعامل الأول هو النمط، والمعامل الثاني هو السلسلة النصية التي سيتم مطابقتها، والمعامل الثالث هو المرجع للنتيجة. بعد التشغيل، سيحتوي مصفوفة <code class="language-plaintext highlighter-rouge">$matches</code> على عنصرين من <code class="language-plaintext highlighter-rouge">abc</code>.</p>

<p>بعد فهم ذلك، يتطابق <code class="language-plaintext highlighter-rouge">div &gt; ul</code> في الصورة أعلاه فقط مع الأحرف الأربعة الأولى <code class="language-plaintext highlighter-rouge">div &gt;</code>. هل <code class="language-plaintext highlighter-rouge">regex101</code> لا يدعم <code class="language-plaintext highlighter-rouge">preg_match_all</code>؟ لحسن الحظ، يمكن إضافة مُعدِّل يُسمى <code class="language-plaintext highlighter-rouge">g</code> لحل المشكلة:</p>

<p>بعد إضافة <code class="language-plaintext highlighter-rouge">g</code>، سيتم مطابقة جميع النتائج، بدلاً من إرجاع المطابقة الأولى فقط.</p>

<p>بعد إضافتها، قمنا بمطابقة <code class="language-plaintext highlighter-rouge">div &gt; ul</code>:</p>

<p>على الجانب الأيمن، في المطابقة الأولى، أي <code class="language-plaintext highlighter-rouge">div</code>، استخدمنا قواعد المجموعة الأولى لمطابقة <code class="language-plaintext highlighter-rouge">div</code>، ثم استخدمنا قواعد المجموعة السابعة لمطابقة المسافة ` `.</p>

<p>دعونا نتابع شرح المجموعة الأولى من القواعد:</p>

<p>في هذه السلسلة الطويلة من التعبيرات، يُطلق على المجموعة الأولى المحاطة بالأقواس اسم المجموعة الأولى من القواعد. هذه مجموعة التقاط (capture group). الأقواس نفسها لا تُطابق أي شيء، بل تُستخدم للتجميع. <code class="language-plaintext highlighter-rouge">[]</code> تعني مجموعة أحرف، والقواعد بداخلها توضح نوع مجموعة الأحرف هذه. تحتوي مجموعة الأحرف هذه على:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">\w</code> تعني الأحرف الكبيرة والصغيرة والأرقام من 0 إلى 9 بالإضافة إلى الشرطة السفلية.</li>
  <li><code class="language-plaintext highlighter-rouge">-:</code> تعني هذين الحرفين مباشرة في المجموعة.</li>
  <li><code class="language-plaintext highlighter-rouge">\*</code> لأن <code class="language-plaintext highlighter-rouge">*</code> هو حرف محجوز في التعبيرات النمطية وله معنى خاص، لذا يجب استخدام <code class="language-plaintext highlighter-rouge">\</code> للتهريب، مما يعني أن هذا حرف <code class="language-plaintext highlighter-rouge">*</code> عادي.</li>
  <li><code class="language-plaintext highlighter-rouge">&gt;</code> تعني ببساطة حرف <code class="language-plaintext highlighter-rouge">&gt;</code>.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">[\w-:\*&gt;]*</code>  في النهاية، يشير <code class="language-plaintext highlighter-rouge">*</code> إلى أن الأحرف السابقة يمكن أن تظهر 0 مرة أو عدة مرات، ولكن يجب أن تتطابق مع أكبر عدد ممكن من المرات. السبب في أنه يمكن أن يتطابق مع <code class="language-plaintext highlighter-rouge">div</code> هو أن <code class="language-plaintext highlighter-rouge">\w</code> يتطابق مع <code class="language-plaintext highlighter-rouge">d</code> و <code class="language-plaintext highlighter-rouge">i</code> و <code class="language-plaintext highlighter-rouge">v</code>. السبب في أنه لا يستمر في التطابق مع المسافة التي تليها هو أن المسافة غير موجودة في <code class="language-plaintext highlighter-rouge">[]</code>. معنى مجموعة الالتقاط هو أن هذه المجموعة من التطابقات ستظهر في مصفوفة النتائج. في المقابل، هناك أيضًا مجموعات غير ملتقطة، والصيغة هي <code class="language-plaintext highlighter-rouge">(?:)</code>. إذا لم تكن هناك حاجة إلى هذه المجموعة من النتائج في <code class="language-plaintext highlighter-rouge">([\w-:\*&gt;]*)</code>، فيمكن كتابتها كـ <code class="language-plaintext highlighter-rouge">(?:[\w-:\*&gt;]*)</code>.</p>

<p>إذن، إذا لم تظهر في النتيجة، أليس من الأفضل عدم استخدام الأقواس على الإطلاق؟ الأقواس تُستخدم للتجميع، والتجميع له أهمية كبيرة. يمكنك الرجوع إلى <a href="http://stackoverflow.com/questions/3512471/what-is-a-non-capturing-group">What is a non capturing group? (?:) - StackOverflow</a> لمزيد من المعلومات.</p>

<p>بعد أن انتهينا من شرح كيف أن <code class="language-plaintext highlighter-rouge">div</code> يلبي المجموعة الأولى من القواعد، سنتحدث الآن عن سبب كون المسافة ` ` تلبي المجموعة السابعة من القواعد.</p>

<p><code class="language-plaintext highlighter-rouge">[\/, ]</code> تعني مطابقة أي من هذه الأحرف الأربعة، و <code class="language-plaintext highlighter-rouge">+</code> تعني أن المطابقة السابقة تظهر مرة واحدة أو عدة مرات، ويجب أن تكون عدد المرات كبيرًا قدر الإمكان. ولأن هذه الأحرف الأربعة تشمل المسافة، فإنها تطابق المسافة لدينا. وبما أن الحرف التالي بعد <code class="language-plaintext highlighter-rouge">div </code> هو <code class="language-plaintext highlighter-rouge">&gt;</code>، فإنه لم يعد يلبي قاعدة المجموعة السابعة، وبالتالي لا يستمر في المطابقة.</p>

<p>لقد فهمت كيفية مطابقة <code class="language-plaintext highlighter-rouge">div</code>. ولكن لماذا لم تطابق القواعد من المجموعة الثانية إلى السادسة المسافات هنا، وتركتها للمجموعة السابعة؟</p>

<p>التفسير الخاص بالجزء الثاني:</p>

<p>أولاً، <code class="language-plaintext highlighter-rouge">(?:)</code> تعني أن هذه مجموعة غير مُلتقطة. علامة الاستفهام <code class="language-plaintext highlighter-rouge">?</code> في النهاية تعني أن المطابقة السابقة يمكن أن تحدث صفر أو مرة واحدة. لذا، <code class="language-plaintext highlighter-rouge">(?:\#([\w-]+)|\.([\w-]+))?</code> يمكن أن تكون موجودة أو غير موجودة. بعد إزالة المُعدِّلات الخارجية، يتبقى لدينا <code class="language-plaintext highlighter-rouge">\#([\w-]+)|\.([\w-]+)</code>، حيث <code class="language-plaintext highlighter-rouge">|</code> تعني “أو”، أي أن المطابقة يمكن أن تكون لأي من الجزأين. في <code class="language-plaintext highlighter-rouge">\#([\w-]+)</code>، <code class="language-plaintext highlighter-rouge">\#</code> تطابق حرف <code class="language-plaintext highlighter-rouge">#</code>، و <code class="language-plaintext highlighter-rouge">[\w-]+</code> تطابق الأحرف الأخرى. وفي النصف الثاني، <code class="language-plaintext highlighter-rouge">\.([\w-]+)</code>، <code class="language-plaintext highlighter-rouge">\.</code> تطابق حرف <code class="language-plaintext highlighter-rouge">.</code>.</p>

<p>لذلك، قد لا تفي المجموعات من 2 إلى 6 بالمتطلبات لأن المسافة ليست الحرف الأول المطلوب لهذه المجموعات، وبما أن هذه المجموعات تحتوي على مُعدِّل <code class="language-plaintext highlighter-rouge">?</code>، فإن عدم الوفاء بالمتطلبات ليس مشكلة، وبالتالي يتم الانتقال إلى المجموعة السابعة.</p>

<p>بعد <code class="language-plaintext highlighter-rouge">div &gt; ul</code>، علامة <code class="language-plaintext highlighter-rouge">&gt;</code> تظل كما هي:</p>

<p>المجموعة الأولى من القواعد <code class="language-plaintext highlighter-rouge">([\w-:\*&gt;]*)</code> تطابقت مع <code class="language-plaintext highlighter-rouge">&gt;</code>، والمجموعة السابعة من القواعد <code class="language-plaintext highlighter-rouge">([\/, ]+)</code> تطابقت مع مسافة. بعد ذلك، <code class="language-plaintext highlighter-rouge">ul</code> تعمل مثل <code class="language-plaintext highlighter-rouge">div</code>.</p>

<h3 id="مطابقة-answer-4185009--table--tbody--tdanswercell--div--pre">مطابقة <code class="language-plaintext highlighter-rouge">#answer-4185009 &gt; table &gt; tbody &gt; td.answercell &gt; div &gt; pre</code></h3>

<p>هذا النص يصف مسارًا في DOM (نموذج كائن المستند) يستخدم لتحديد عنصر معين في صفحة ويب. لن أقوم بترجمة الأسماء أو الرموز البرمجية، ولكن يمكن تفسير المسار على النحو التالي:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">#answer-4185009</code>: العنصر الذي يحتوي على المعرف <code class="language-plaintext highlighter-rouge">answer-4185009</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">&gt; table</code>: العنصر الفرعي المباشر الذي يكون من نوع <code class="language-plaintext highlighter-rouge">table</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">&gt; tbody</code>: العنصر الفرعي المباشر الذي يكون من نوع <code class="language-plaintext highlighter-rouge">tbody</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">&gt; td.answercell</code>: العنصر الفرعي المباشر الذي يكون من نوع <code class="language-plaintext highlighter-rouge">td</code> وله الكلاس <code class="language-plaintext highlighter-rouge">answercell</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">&gt; div</code>: العنصر الفرعي المباشر الذي يكون من نوع <code class="language-plaintext highlighter-rouge">div</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">&gt; pre</code>: العنصر الفرعي المباشر الذي يكون من نوع <code class="language-plaintext highlighter-rouge">pre</code>.</li>
</ul>

<p>هذا المسار يستخدم عادةً في CSS أو JavaScript لتحديد العنصر المطلوب بدقة.</p>

<p>ثم نأتي إلى محدد أكثر تعقيدًا قليلاً <code class="language-plaintext highlighter-rouge">#answer-4185009 &gt; table &gt; tbody &gt; td.answercell &gt; div &gt; pre</code> (يمكنك أيضًا فتح https://regex101.com/ ولصق هذا هناك للاختبار):</p>

<p>هذا تم نسخه ولصقه من Chrome:</p>

<p>المطابقة الأولى:</p>

<p>لأن القاعدة الأولى <code class="language-plaintext highlighter-rouge">([\w-:\*&gt;]*)</code> تحتوي على مجموعة أحرف داخل <code class="language-plaintext highlighter-rouge">[]</code> لا يوجد فيها أي حرف يتطابق مع <code class="language-plaintext highlighter-rouge">#</code>، وبما أن <code class="language-plaintext highlighter-rouge">*</code> في النهاية تدعم التطابق 0 مرات أو أكثر، هنا التطابق هو 0 مرات. ثم وصف القاعدة الثانية هو:</p>

<p>لقد تم تحليل ذلك أعلاه. دعونا ننظر مباشرة إلى <code class="language-plaintext highlighter-rouge">\#([\w-]+)</code> قبل <code class="language-plaintext highlighter-rouge">|</code>، حيث <code class="language-plaintext highlighter-rouge">\#</code> تطابق <code class="language-plaintext highlighter-rouge">#</code>، و <code class="language-plaintext highlighter-rouge">[\w-]+</code> تطابق <code class="language-plaintext highlighter-rouge">answer-4185009</code>. بالنسبة إلى <code class="language-plaintext highlighter-rouge">\.([\w-]+)</code> الذي يليه، إذا كان النص <code class="language-plaintext highlighter-rouge">.answer-4185009</code>، فسيتم تطبيق هذا التطابق.</p>

<p>لننتقل الآن إلى المطابقة <code class="language-plaintext highlighter-rouge">td.answercell</code>،</p>

<p>القاعدة الأولى <code class="language-plaintext highlighter-rouge">([\w-:\*&gt;]*)</code> تطابقت مع <code class="language-plaintext highlighter-rouge">td</code>، بينما الجزء الثاني من القاعدة الكبيرة <code class="language-plaintext highlighter-rouge">(?:\#([\w-]+)|\.([\w-]+))?</code>، أي <code class="language-plaintext highlighter-rouge">\.([\w-]+)</code>، تطابق مع <code class="language-plaintext highlighter-rouge">.answercell</code>.</p>

<p>انتهى تحليل هذا المُحدِّد (Selector) هنا.</p>

<h3 id="مطابقة-ahrefhttpgooglecom">مطابقة <code class="language-plaintext highlighter-rouge">a[href="http://google.com/"]</code></h3>

<p>ثم ننتقل لمطابقة المحدد <code class="language-plaintext highlighter-rouge">a[href="http://google.com/"]</code>:</p>

<p>لنلقِ نظرة على الكتلة الثالثة:</p>

<p>التعبير الخاص بالكتلة الثالثة هو <code class="language-plaintext highlighter-rouge">(?:\[@?(!?[\w-:]+)(?:([!*^$]?=)["']?(.*?)["']?)?\])?</code>، حيث أن <code class="language-plaintext highlighter-rouge">(?:)</code> في البداية يشير إلى أن هذه مجموعة غير قابلة للالتقاط، و <code class="language-plaintext highlighter-rouge">?</code> في النهاية يشير إلى أن هذه المجموعة الكبيرة يمكن أن تتطابق 0 أو 1 مرة. إذا قمنا بإزالة هذه الأجزاء، يصبح التعبير <code class="language-plaintext highlighter-rouge">\[@?(!?[\w-:]+)(?:([!*^$]?=)["']?(.*?)["']?)?\]</code>.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">\[</code> يتطابق مع الحرف <code class="language-plaintext highlighter-rouge">[</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">@?</code> يشير إلى أن الحرف <code class="language-plaintext highlighter-rouge">@</code> يمكن أن يكون موجودًا أو غير موجود.</li>
  <li>المجموعة التالية <code class="language-plaintext highlighter-rouge">(!?[\w-:]+)</code>، حيث <code class="language-plaintext highlighter-rouge">!</code> يمكن أن تكون موجودة أو غير موجودة، و <code class="language-plaintext highlighter-rouge">[\w-:]+</code> تتطابق مع <code class="language-plaintext highlighter-rouge">href</code>.</li>
  <li>المجموعة التالية <code class="language-plaintext highlighter-rouge">(?:([!*^$]?=)["']?(.*?)["']?)</code> هي مجموعة غير قابلة للالتقاط، وإذا قمنا بإزالة الطبقة الخارجية، يصبح التعبير <code class="language-plaintext highlighter-rouge">([!*^$]?=)["']?(.*?)["']?</code>.
    <ul>
      <li>هنا <code class="language-plaintext highlighter-rouge">([!*^$]?=)</code>، حيث <code class="language-plaintext highlighter-rouge">[!*^$]?</code> يشير إلى أنه يمكن أن يتطابق مع 0 أو 1 من الأحرف الموجودة داخل <code class="language-plaintext highlighter-rouge">[]</code>.</li>
      <li>ثم <code class="language-plaintext highlighter-rouge">=</code> يتطابق مباشرة.</li>
      <li>ثم <code class="language-plaintext highlighter-rouge">["']?(.*?)["']?</code>، حيث يتطابق مع <code class="language-plaintext highlighter-rouge">"http://google.com/"</code>، و <code class="language-plaintext highlighter-rouge">["']?</code> يشير إلى أنه يمكن أن يتطابق مع <code class="language-plaintext highlighter-rouge">"</code> أو <code class="language-plaintext highlighter-rouge">'</code> أو لا يتطابق مع أي منهما. إذا قمنا بإزالة الطبقة الخارجية، يصبح التعبير <code class="language-plaintext highlighter-rouge">(.*?)</code> الذي يتطابق مع <code class="language-plaintext highlighter-rouge">http://google.com/</code>، حيث <code class="language-plaintext highlighter-rouge">*?</code> يشير إلى التطابق بأقل قدر ممكن، أي إذا كان هناك <code class="language-plaintext highlighter-rouge">"</code> أو <code class="language-plaintext highlighter-rouge">'</code>، سيتم تركها للتعبير <code class="language-plaintext highlighter-rouge">["']?</code> للتطابق. لذلك لن يتطابق مع <code class="language-plaintext highlighter-rouge">http://google.com/"</code>، بل فقط مع <code class="language-plaintext highlighter-rouge">http://google.com/</code>.</li>
    </ul>
  </li>
</ul>

<p>لذلك، فإن محدد العنصر الكامل <code class="language-plaintext highlighter-rouge">a[href="http://google.com/</code>…</p>

<p><code class="language-plaintext highlighter-rouge">"]</code> يطابق النهاية.</p>

<h3 id="الخلاصة">الخلاصة</h3>

<p>أخيرًا فهمت الأمر! دعونا نوضح الأمر مرة أخرى، أولاً يتكون التعبير المعقد بأكمله <code class="language-plaintext highlighter-rouge">([\w-:\*&gt;]*)(?:\#([\w-]+)|\.([\w-]+))?(?:\[@?(!?[\w-:]+)(?:([!*^$]?=)["']?(.*?)["']?)?\])?([\/, ]+)</code> من أربعة أجزاء رئيسية:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">([\w-:\*&gt;]*)</code></li>
  <li><code class="language-plaintext highlighter-rouge">(?:\#([\w-]+)|\.([\w-]+))?</code></li>
  <li><code class="language-plaintext highlighter-rouge">(?:\[@?(!?[\w-:]+)(?:([!*^$]?=)["']?(.*?)["']?)?\])?</code></li>
  <li><code class="language-plaintext highlighter-rouge">([\/, ]+)</code></li>
</ul>

<p>هذه التعبيرات النمطية (Regular Expressions) تستخدم لمطابقة أنماط معينة في النصوص. لن أقوم بترجمتها لأنها تحتوي على رموز وأكواد برمجية محددة يجب أن تبقى كما هي.</p>

<p>الجزء الثالث الأكثر تعقيدًا يتكون من هذه الأجزاء:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">\[</code></li>
  <li><code class="language-plaintext highlighter-rouge">(!?[\w-:]+)</code></li>
  <li><code class="language-plaintext highlighter-rouge">(?:([!*^$]?=)["']?(.*?)["']?)?</code></li>
  <li><code class="language-plaintext highlighter-rouge">\]</code></li>
</ul>

<p>تمثل هذه العبارة النمطية (regex) نمطًا لتحليل العلامات أو السمات في النصوص، مثل تلك المستخدمة في لغة Markdown أو HTML. إليك شرح كل جزء:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">\[</code>: يطابق حرف الافتتاح <code class="language-plaintext highlighter-rouge">[</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">(!?[\w-:]+)</code>: يطابق اسم السمة أو العلامة، حيث:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">!?</code>: يطابق حرف <code class="language-plaintext highlighter-rouge">!</code> إذا كان موجودًا (اختياري).</li>
      <li><code class="language-plaintext highlighter-rouge">[\w-:]+</code>: يطابق واحدًا أو أكثر من الأحرف التي يمكن أن تكون حروفًا أو أرقامًا أو شرطات <code class="language-plaintext highlighter-rouge">-</code> أو نقطتين <code class="language-plaintext highlighter-rouge">:</code>.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">(?:([!*^$]?=)["']?(.*?)["']?)?</code>: يطابق القيمة الاختيارية للسمة، حيث:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">(?: ... )</code>: مجموعة غير خازنة (non-capturing group).</li>
      <li><code class="language-plaintext highlighter-rouge">([!*^$]?=)</code>: يطابق عامل المقارنة (مثل <code class="language-plaintext highlighter-rouge">=</code>, <code class="language-plaintext highlighter-rouge">!=</code>, <code class="language-plaintext highlighter-rouge">*=</code>, <code class="language-plaintext highlighter-rouge">^=</code>, <code class="language-plaintext highlighter-rouge">$=</code>) إذا كان موجودًا.</li>
      <li><code class="language-plaintext highlighter-rouge">["']?(.*?)["']?</code>: يطابق القيمة المحاطة بعلامات تنصيص <code class="language-plaintext highlighter-rouge">"</code> أو <code class="language-plaintext highlighter-rouge">'</code> إذا كانت موجودة.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\]</code>: يطابق حرف الإغلاق <code class="language-plaintext highlighter-rouge">]</code>.</li>
</ol>

<p>هذا النمط مفيد لاستخراج السمات أو العلامات من النصوص المهيكلة.</p>

<p>لذلك، يمكن التغلب على هذه الأجزاء الصغيرة بما يكفي واحدة تلو الأخرى. ثم ابحث عن المزيد من الأمثلة، وانظر كيف يتطابق كل مثال، واستخدم تفسير https://regex101.com/ لتحليلها. بهذه الطريقة، يمكنك فهم هذا التعبير العادي الذي يبدو معقدًا، وستكتشف أنه في الواقع “نمر من ورق”!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-ar" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
