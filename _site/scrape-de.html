<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Inhalte von Websites extrahieren</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Inhalte von Websites extrahieren | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Inhalte von Websites extrahieren" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="de" />
<meta name="description" content="Es gibt bereits viele Tools, die Inhalte von Websites extrahieren können. Wenn wir sie jedoch verwenden, können wir den dahinterliegenden Prozess nicht besser verstehen. Wenn wir bei der Arbeit auf komplexe oder spezielle Websites stoßen, können diese Tools möglicherweise nicht die gewünschten Ergebnisse liefern. Wir müssen das Rad neu erfinden, um sie besser zu lernen und effektiver einzusetzen." />
<meta property="og:description" content="Es gibt bereits viele Tools, die Inhalte von Websites extrahieren können. Wenn wir sie jedoch verwenden, können wir den dahinterliegenden Prozess nicht besser verstehen. Wenn wir bei der Arbeit auf komplexe oder spezielle Websites stoßen, können diese Tools möglicherweise nicht die gewünschten Ergebnisse liefern. Wir müssen das Rad neu erfinden, um sie besser zu lernen und effektiver einzusetzen." />
<link rel="canonical" href="https://lzwjava.github.io/scrape-de" />
<meta property="og:url" content="https://lzwjava.github.io/scrape-de" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-17T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Inhalte von Websites extrahieren" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2021-03-17T00:00:00+08:00","datePublished":"2021-03-17T00:00:00+08:00","description":"Es gibt bereits viele Tools, die Inhalte von Websites extrahieren können. Wenn wir sie jedoch verwenden, können wir den dahinterliegenden Prozess nicht besser verstehen. Wenn wir bei der Arbeit auf komplexe oder spezielle Websites stoßen, können diese Tools möglicherweise nicht die gewünschten Ergebnisse liefern. Wir müssen das Rad neu erfinden, um sie besser zu lernen und effektiver einzusetzen.","headline":"Inhalte von Websites extrahieren","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/scrape-de"},"url":"https://lzwjava.github.io/scrape-de"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=4e19962fa6064547f6e963b3b92fbf0d54e757c1">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=4e19962fa6064547f6e963b3b92fbf0d54e757c1" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Inhalte von Websites extrahieren | Original, von KI übersetzt
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/de/2021-03-17-scrape-de.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsde2021-03-17-scrape-de.md</span> -->
      

      <!-- <span>2021-03-17-scrape-de.md</span> -->

      
        

        
          
          <a href="#" class="button">2021.03</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/scrape-en" >English</option>
        <option value="/scrape-zh" >中文</option>
        <option value="/scrape-ja" >日本語</option>
        <option value="/scrape-es" >Español</option>
        <option value="/scrape-hi" >हिंदी</option>
        <option value="/scrape-fr" >Français</option>
        <option value="/scrape-de" selected>Deutsch</option>
        <option value="/scrape-ar" >العربية</option>
        <option value="/scrape-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Es gibt bereits viele Tools, die Inhalte von Websites extrahieren können. Wenn wir sie jedoch verwenden, können wir den dahinterliegenden Prozess nicht besser verstehen. Wenn wir bei der Arbeit auf komplexe oder spezielle Websites stoßen, können diese Tools möglicherweise nicht die gewünschten Ergebnisse liefern. Wir müssen das Rad neu erfinden, um sie besser zu lernen und effektiver einzusetzen.</p>

<p>Schauen wir uns auch einige der vorhandenen Tools an.</p>

<h2 id="data-miner">Data Miner</h2>

<p><img src="assets/images/scrape/miner.png" alt="Miner" /></p>

<p><code class="language-plaintext highlighter-rouge">Data Miner</code> ist ein sehr praktisches Plugin für Chrome. Es ermöglicht das einfache Extrahieren von Links und Inhalten.</p>

<h2 id="getbook">getbook</h2>

<p><code class="language-plaintext highlighter-rouge">getbook</code> ist ein sehr praktisches Werkzeug zur Erstellung von E-Books.</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pip</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nx">getbook</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">book.json</code>:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"book"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello World"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Armin"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"chapters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"http://lucumr.pocoo.org/2018/7/13/python/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"http://lucumr.pocoo.org/2017/6/5/diversity-in-technology"</span><span class="p">,</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getbook <span class="nt">-f</span> ./book.json <span class="nt">--mobi</span>
</code></pre></div></div>

<p>Auf diese Weise können einige Links bequem in ein E-Book umgewandelt werden. Durch die Verwendung von <code class="language-plaintext highlighter-rouge">Data Miner</code> und <code class="language-plaintext highlighter-rouge">getbook</code> – eines zum Extrahieren der Links und eines zum Umwandeln der Links in ein E-Book – lässt sich ein E-Book sehr einfach erstellen.</p>

<h2 id="feynmans-physikvorlesungen">Feynmans Physikvorlesungen</h2>

<p><img src="assets/images/scrape/fl.png" alt="fl" /></p>

<p>Im Kapitel „Projektpraxis: Erstellen eines E-Books aus den Webseiten der Feynman-Vorlesungen über Physik“ haben wir gelernt, wie man eine mit <code class="language-plaintext highlighter-rouge">mathjax</code> gerenderte <code class="language-plaintext highlighter-rouge">html</code>-Webseite in ein E-Book verwandelt. Hier setzen wir dieses Projekt fort und schauen uns an, wie man alle Webseiten abrufen kann. Die Feynman-Vorlesungen über Physik bestehen aus drei Bänden. Das obige Bild zeigt das Inhaltsverzeichnis des ersten Bandes.</p>

<blockquote>
  <p>http.client — HTTP-Protokoll-Client</p>

  <p>Quellcode: Lib/http/client.py</p>

  <p>Dieses Modul definiert Klassen, die die Client-Seite der HTTP- und HTTPS-Protokolle implementieren. Es wird normalerweise nicht direkt verwendet — das Modul urllib.request verwendet es, um URLs zu verarbeiten, die HTTP und HTTPS verwenden.</p>

  <p>Siehe auch: Das Requests-Paket wird für eine höherwertige HTTP-Client-Schnittstelle empfohlen.</p>
</blockquote>

<p>Sichtbar ist, dass <code class="language-plaintext highlighter-rouge">requests</code> eine höherwertige Schnittstelle ist.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.github.com/user'</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'user'</span><span class="p">,</span> <span class="s">'pass'</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
</code></pre></div></div>

<p>main()</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
```shell
401
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://github.com'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<pre><code class="language-main()">
</code></pre>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>200
<span class="nt">&lt;html&gt;</span>
  ...
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>Ich habe es ausprobiert, und es zeigt, dass die Schnittstelle von <code class="language-plaintext highlighter-rouge">requests</code> funktioniert.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"toc-chapter"</span> <span class="na">id=</span><span class="s">"C03"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"triangle"</span><span class="nt">&gt;</span>
         â¶
        <span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"chapterlink"</span> <span class="na">href=</span><span class="s">"javascript:Goto(1,3)"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
          Kapitel 3.
         <span class="nt">&lt;/span&gt;</span>
         Die Beziehung der Physik zu anderen Wissenschaften
        <span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sections"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:Goto(1,3,1)"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
           3-1
          <span class="nt">&lt;/span&gt;</span>
          Einführung
         <span class="nt">&lt;/a&gt;</span>
         <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:Goto(1,3,2)"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
           3-2
          <span class="nt">&lt;/span&gt;</span>
          Chemie
         <span class="nt">&lt;/a&gt;</span>
         <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:Goto(1,3,3)"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
           3-3
          <span class="nt">&lt;/span&gt;</span>
          Biologie
         <span class="nt">&lt;/a&gt;</span>
         <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:Goto(1,3,4)"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
           3-4
          <span class="nt">&lt;/span&gt;</span>
          Astronomie
         <span class="nt">&lt;/a&gt;</span>
         <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:Goto(1,3,5)"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
           3-5
          <span class="nt">&lt;/span&gt;</span>
          Geologie
         <span class="nt">&lt;/a&gt;</span>
         <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:Goto(1,3,6)"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
           3-6
          <span class="nt">&lt;/span&gt;</span>
          Psychologie
         <span class="nt">&lt;/a&gt;</span>
         <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:Goto(1,3,7)"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
           3-7
          <span class="nt">&lt;/span&gt;</span>
          Wie ist es dazu gekommen?
         <span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
       <span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>Dies ist der <code class="language-plaintext highlighter-rouge">html</code>-Code des dritten Kapitels auf der Inhaltsverzeichnis-Seite. Von hier aus möchte ich die Links zu jedem Kapitel extrahieren. <code class="language-plaintext highlighter-rouge">&lt;a href="javascript:Goto(1,3,7)"&gt;</code> zeigt, dass es sich um einen <code class="language-plaintext highlighter-rouge">JavaScript</code>-Hyperlink handelt.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.feynmanlectures.caltech.edu/I_03.html
</code></pre></div></div>

<p>Dann stellte ich fest, dass der Pfad jedes Kapitels einem bestimmten Muster folgt. <code class="language-plaintext highlighter-rouge">I_03.html</code> steht beispielsweise für Kapitel 3 des ersten Bandes.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Process</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">scrape</span><span class="p">(</span><span class="n">chapter</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">chapter</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">chapter</span> <span class="o">&gt;</span> <span class="mi">52</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s">'Kapitel </span><span class="si">{</span><span class="n">chapter</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
    <span class="n">chapter_str</span> <span class="o">=</span> <span class="s">'{:02d}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">chapter</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'https://www.feynmanlectures.caltech.edu/I_</span><span class="si">{</span><span class="n">chapter_str</span><span class="si">}</span><span class="s">.html'</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Scraping </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="p">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">'lxml'</span><span class="p">)</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s">'./chapters/I_</span><span class="si">{</span><span class="n">chapter_str</span><span class="si">}</span><span class="s">.html'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">prettify</span><span class="p">())</span>
    <span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">52</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">scrape</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">p</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
        <span class="n">p</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>
        
<span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<p>Lass uns weiter über den Code zum Scrapen schreiben. Hier wird <code class="language-plaintext highlighter-rouge">Process</code> verwendet.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    raise RuntimeError<span class="o">(</span><span class="s1">'''
RuntimeError: 
        Es wurde versucht, einen neuen Prozess zu starten, bevor der
        aktuelle Prozess seine Initialisierungsphase abgeschlossen hat.

        Dies bedeutet wahrscheinlich, dass Sie nicht `fork` verwenden, um Ihre
        Kindprozesse zu starten, und dass Sie vergessen haben, die richtige Vorgehensweise
        im Hauptmodul zu verwenden:

```python
if __name__ == '</span>__main__<span class="s1">':
    freeze_support()
    ...
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Die Zeile "freeze_support()" kann weggelassen werden, wenn das Programm
    nicht eingefroren wird, um eine ausführbare Datei zu erzeugen. ```
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">52</span><span class="p">):</span>        
        <span class="n">p</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">scrape</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,))</span>
        <span class="n">p</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">p</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>
</code></pre></div></div>

<p>(Der Code bleibt auf Englisch, da es sich um eine Programmiersprache handelt und die Übersetzung den Code unbrauchbar machen würde.)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">timeit</span><span class="p">.</span><span class="n">default_timer</span><span class="p">()</span>
    <span class="n">ps</span> <span class="o">=</span> <span class="p">[</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">scrape</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">52</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ps</span><span class="p">:</span>
        <span class="n">p</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ps</span><span class="p">:</span>
        <span class="n">p</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>
    <span class="n">stop</span> <span class="o">=</span> <span class="n">timeit</span><span class="p">.</span><span class="n">default_timer</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Zeit: '</span><span class="p">,</span> <span class="n">stop</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>    
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scraping https://www.feynmanlectures.caltech.edu/I_01.html
scraping https://www.feynmanlectures.caltech.edu/I_04.html
...
scraping https://www.feynmanlectures.caltech.edu/I_51.html
scraping https://www.feynmanlectures.caltech.edu/I_52.html
Zeit:  9.144841699
</code></pre></div></div>

<p><img src="assets/images/scrape/fig.png" alt="Abbildung" /></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"figure"</span> <span class="na">id=</span><span class="s">"Ch1-F1"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"img/FLP_I/f01-01/f01-01_tc_big.svgz"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"caption empty"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
          Abbildung 1–1
         <span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Process</span>
<span class="kn">import</span> <span class="nn">timeit</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">scrape</span><span class="p">(</span><span class="n">chapter</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">chapter</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">chapter</span> <span class="o">&gt;</span> <span class="mi">52</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s">'Kapitel </span><span class="si">{</span><span class="n">chapter</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
    <span class="n">chapter_str</span> <span class="o">=</span> <span class="s">'{:02d}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">chapter</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'https://www.feynmanlectures.caltech.edu/I_</span><span class="si">{</span><span class="n">chapter_str</span><span class="si">}</span><span class="s">.html'</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Scraping </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="p">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">'lxml'</span><span class="p">)</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s">'./chapters/I_</span><span class="si">{</span><span class="n">chapter_str</span><span class="si">}</span><span class="s">.html'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">prettify</span><span class="p">())</span>
    <span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">timeit</span><span class="p">.</span><span class="n">default_timer</span><span class="p">()</span>
    <span class="n">ps</span> <span class="o">=</span> <span class="p">[</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">scrape</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">52</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ps</span><span class="p">:</span>
        <span class="n">p</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ps</span><span class="p">:</span>
        <span class="n">p</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>
    <span class="n">stop</span> <span class="o">=</span> <span class="n">timeit</span><span class="p">.</span><span class="n">default_timer</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Zeit: '</span><span class="p">,</span> <span class="n">stop</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>    
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<p>Schauen Sie sich den Link an.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">imgs</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'img'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="n">imgs</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</code></pre></div></div>

<p>(Der Code bleibt auf Englisch, da es sich um eine Programmiersprache handelt und die Befehle nicht übersetzt werden sollten.)</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Scraping von https://www.feynmanlectures.caltech.edu/I_01.html
<span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"TwitLink"</span> <span class="na">src=</span><span class="s">""</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"FBLink"</span> <span class="na">src=</span><span class="s">""</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"MailLink"</span> <span class="na">src=</span><span class="s">""</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"MobileLink"</span> <span class="na">src=</span><span class="s">""</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"DarkModeLink"</span> <span class="na">src=</span><span class="s">""</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"DesktopLink"</span> <span class="na">src=</span><span class="s">""</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"img/camera.svg"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"img/FLP_I/f01-00/f01-00.jpg"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-01/f01-01_tc_big.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-02/f01-02_tc_big.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-03/f01-03_tc_big.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-04/f01-04_tc_big.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-05/f01-05_tc_big.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-06/f01-06_tc_big.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"first"</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-07/f01-07_tc_iPad_big_a.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"last"</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-07/f01-07_tc_iPad_big_b.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-08/f01-08_tc_big.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-09/f01-09_tc_big.svgz"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;img</span> <span class="na">data-src=</span><span class="s">"img/FLP_I/f01-10/f01-10_tc_big.svgz"</span><span class="nt">/&gt;</span>
</code></pre></div></div>

<p>https://www.feynmanlectures.caltech.edu/img/FLP_I/f01-01/f01-01_tc_big.svgz</p>

<p>(Der Link bleibt unverändert, da es sich um eine URL handelt.)</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Verboten
</code></pre></div></div>

<p>Sie haben keine Berechtigung, auf diese Ressource zuzugreifen.</p>

<p>Apache/2.4.38 (Debian) Server auf www.feynmanlectures.caltech.edu Port 443</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
```shell
% pip install selenium
Collecting selenium
  Using cached selenium-3.141.0-py2.py3-none-any.whl (904 kB)
Requirement already satisfied: urllib3 in /usr/local/lib/python3.9/site-packages (from selenium) (1.24.2)
Installing collected packages: selenium
Successfully installed selenium-3.141.0
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">CHROME_DRIVER_HOME</span><span class="o">=</span><span class="nv">$HOME</span>/dev-env/chromedriver
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">PATH</span><span class="k">}</span><span class="s2">:</span><span class="k">${</span><span class="nv">CHROME_DRIVER_HOME</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div></div>

<p><em>Hinweis: Der obige Code ist eine Shell-Konfiguration und wird normalerweise nicht übersetzt, da er spezifisch für die Umgebung und die verwendeten Tools ist.</em></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% chromedriver <span class="nt">-h</span>
Verwendung: chromedriver <span class="o">[</span>OPTIONEN]
</code></pre></div></div>

<p>Optionen
  –port=PORT                     Port, auf dem gelauscht werden soll
  –adb-port=PORT                 Port des ADB-Servers
  –log-path=FILE                 Server-Log in Datei statt stderr schreiben, erhöht das Log-Level auf INFO
  –log-level=LEVEL               Log-Level festlegen: ALL, DEBUG, INFO, WARNING, SEVERE, OFF
  –verbose                       Ausführlich loggen (entspricht –log-level=ALL)
  –silent                        Nichts loggen (entspricht –log-level=OFF)
  –append-log                    Log-Datei anhängen statt zu überschreiben
  –replayable                    (experimentell) Ausführlich loggen und lange Zeichenketten nicht kürzen, damit das Log wiedergegeben werden kann.
  –version                       Versionsnummer ausgeben und beenden
  –url-base                      Basis-URL-Präfix für Befehle, z.B. wd/url
  –readable-timestamp            Lesbare Zeitstempel zum Log hinzufügen
  –enable-chrome-logs            Logs vom Browser anzeigen (überschreibt andere Logging-Optionen)
  –allowed-ips                   Kommagetrennte Liste von Remote-IP-Adressen, die eine Verbindung zu ChromeDriver herstellen dürfen</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
```python
# Der Codeblock bleibt auf Englisch, da es sich um eine Programmiersprache handelt.
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">WebDriverWait</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.expected_conditions</span> <span class="kn">import</span> <span class="n">presence_of_element_located</span>
</code></pre></div></div>

<p>Dieser Code importiert verschiedene Module aus der Selenium-Bibliothek, die für die Automatisierung von Webbrowsern verwendet wird. Hier ist eine kurze Erklärung der importierten Module:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">webdriver</code>: Dies ist das Hauptmodul, das die Browsersteuerung ermöglicht.</li>
  <li><code class="language-plaintext highlighter-rouge">By</code>: Dieses Modul enthält verschiedene Methoden zum Auffinden von Elementen auf einer Webseite, z.B. durch ID, Name, Klasse usw.</li>
  <li><code class="language-plaintext highlighter-rouge">Keys</code>: Dieses Modul enthält spezielle Tasten wie <code class="language-plaintext highlighter-rouge">RETURN</code>, <code class="language-plaintext highlighter-rouge">ENTER</code>, <code class="language-plaintext highlighter-rouge">TAB</code> usw., die in der Interaktion mit Webseiten verwendet werden können.</li>
  <li><code class="language-plaintext highlighter-rouge">WebDriverWait</code>: Dieses Modul wird verwendet, um auf bestimmte Bedingungen zu warten, bevor weitere Aktionen ausgeführt werden.</li>
  <li><code class="language-plaintext highlighter-rouge">presence_of_element_located</code>: Dies ist eine Bedingung, die darauf wartet, dass ein bestimmtes Element auf der Webseite vorhanden ist.</li>
</ul>

<p>Diese Module sind grundlegend für die Erstellung von Skripten, die Webseiten automatisch durchsuchen und mit ihnen interagieren.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">()</span> <span class="k">as</span> <span class="n">driver</span><span class="p">:</span>
    <span class="n">wait</span> <span class="o">=</span> <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://google.com/ncr"</span><span class="p">)</span>
    <span class="n">driver</span><span class="p">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s">"q"</span><span class="p">).</span><span class="n">send_keys</span><span class="p">(</span><span class="s">"cheese"</span> <span class="o">+</span> <span class="n">Keys</span><span class="p">.</span><span class="n">RETURN</span><span class="p">)</span>
    <span class="n">first_result</span> <span class="o">=</span> <span class="n">wait</span><span class="p">.</span><span class="n">until</span><span class="p">(</span><span class="n">presence_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="p">.</span><span class="n">CSS_SELECTOR</span><span class="p">,</span> <span class="s">"h3&gt;div"</span><span class="p">)))</span>
    <span class="k">print</span><span class="p">(</span><span class="n">first_result</span><span class="p">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s">"textContent"</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Der Codeblock bleibt auf Englisch, da es sich um eine Programmiersprache handelt.
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">WebDriverWait</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.expected_conditions</span> <span class="kn">import</span> <span class="n">presence_of_element_located</span>
<span class="kn">import</span> <span class="nn">urllib</span>
</code></pre></div></div>

<p>Der obige Code importiert verschiedene Module aus der Selenium-Bibliothek, die für die Automatisierung von Webbrowsern verwendet wird. Hier ist eine kurze Erklärung der importierten Module:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">webdriver</code>: Dies ist das Hauptmodul von Selenium, das die Browsersteuerung ermöglicht.</li>
  <li><code class="language-plaintext highlighter-rouge">By</code>: Dieses Modul wird verwendet, um Elemente auf einer Webseite zu lokalisieren, z.B. durch ID, Name, Klasse usw.</li>
  <li><code class="language-plaintext highlighter-rouge">Keys</code>: Dieses Modul enthält spezielle Tasten wie <code class="language-plaintext highlighter-rouge">RETURN</code>, <code class="language-plaintext highlighter-rouge">ENTER</code>, <code class="language-plaintext highlighter-rouge">TAB</code> usw., die in der Interaktion mit Webseiten verwendet werden können.</li>
  <li><code class="language-plaintext highlighter-rouge">WebDriverWait</code> und <code class="language-plaintext highlighter-rouge">presence_of_element_located</code>: Diese Module werden verwendet, um auf das Erscheinen bestimmter Elemente auf der Webseite zu warten, bevor weitere Aktionen durchgeführt werden.</li>
  <li><code class="language-plaintext highlighter-rouge">urllib</code>: Dieses Modul wird für die Arbeit mit URLs verwendet, z.B. zum Herunterladen von Dateien oder zum Öffnen von URLs.</li>
</ul>

<p>Dieser Code ist typischerweise der Anfang eines Skripts, das eine Webseite automatisiert durchsucht oder mit ihr interagiert.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">()</span>
    <span class="n">wait</span> <span class="o">=</span> <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://www.feynmanlectures.caltech.edu/I_01.html"</span><span class="p">)</span>
    <span class="n">elements</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_elements</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">TAG_NAME</span><span class="p">,</span> <span class="s">"img"</span><span class="p">)</span>
    <span class="c1"># print(dir(elements[0]))
</span>    <span class="k">print</span><span class="p">(</span><span class="n">driver</span><span class="p">.</span><span class="n">page_source</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
        <span class="c1"># src = element.get_attribute('src')
</span>        <span class="n">element</span><span class="p">.</span><span class="n">screenshot</span><span class="p">(</span><span class="sa">f</span><span class="s">'images/</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s">.png'</span><span class="p">)</span>        
        <span class="n">i</span> <span class="o">+=</span><span class="mi">1</span>                
    <span class="n">driver</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Process</span>
<span class="kn">import</span> <span class="nn">timeit</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">img_path</span><span class="p">(</span><span class="n">chapter</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s">'./chapters/</span><span class="si">{</span><span class="n">chapter</span><span class="si">}</span><span class="s">/img'</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">img_name</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">splits</span> <span class="o">=</span> <span class="n">url</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
    <span class="n">last</span> <span class="o">=</span> <span class="n">splits</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">splits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">last</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">'.'</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">name</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">download_images</span><span class="p">(</span><span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">,</span> <span class="n">chapter</span><span class="p">):</span>        
    <span class="n">path</span> <span class="o">=</span> <span class="n">img_path</span><span class="p">(</span><span class="n">chapter</span><span class="p">)</span>
    <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>    
        
    <span class="n">elements</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_elements</span><span class="p">(</span><span class="n">By</span><span class="p">.</span><span class="n">TAG_NAME</span><span class="p">,</span> <span class="s">"img"</span><span class="p">)</span>    
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
        <span class="n">src</span> <span class="o">=</span> <span class="n">element</span><span class="p">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s">'src'</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">img_name</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
        <span class="n">element</span><span class="p">.</span><span class="n">screenshot</span><span class="p">(</span><span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">.png'</span><span class="p">)</span>
</code></pre></div></div>

<p>USER_AGENT = ‘Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, wie Gecko) Version/14.0.3 Safari/605.1.15’</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">scrape</span><span class="p">(</span><span class="n">chapter</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">chapter</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">chapter</span> <span class="o">&gt;</span> <span class="mi">52</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s">'Kapitel </span><span class="si">{</span><span class="n">chapter</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
    <span class="n">chapter_str</span> <span class="o">=</span> <span class="s">'{:02d}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">chapter</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'https://www.feynmanlectures.caltech.edu/I_</span><span class="si">{</span><span class="n">chapter_str</span><span class="si">}</span><span class="s">.html'</span>
    <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">()</span>
    <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">page_source</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">page_source</span>        
    <span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s">'./chapters/</span><span class="si">{</span><span class="n">chapter_str</span><span class="si">}</span><span class="s">'</span><span class="p">).</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>    
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Scraping </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
        
    <span class="n">download_images</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">chapter_str</span><span class="p">)</span>
        
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">page_source</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s">'lxml'</span><span class="p">)</span>        
    <span class="n">imgs</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'img'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="n">imgs</span><span class="p">:</span>
        <span class="k">if</span> <span class="s">'src'</span> <span class="ow">in</span> <span class="n">img</span><span class="p">.</span><span class="n">attrs</span> <span class="ow">or</span> <span class="s">'data-src'</span> <span class="ow">in</span> <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">:</span>
            <span class="n">src</span> <span class="o">=</span> <span class="s">''</span>
            <span class="k">if</span> <span class="s">'src'</span> <span class="ow">in</span> <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">:</span>
                <span class="n">src</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'src'</span><span class="p">]</span>
            <span class="k">elif</span> <span class="s">'data-src'</span> <span class="ow">in</span> <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">:</span>
                <span class="n">src</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'data-src'</span><span class="p">]</span>
                <span class="k">del</span> <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'data-src'</span><span class="p">]</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">img_name</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
            <span class="n">img</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'src'</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'img/</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">.png'</span>                
    
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s">'./chapters/</span><span class="si">{</span><span class="n">chapter_str</span><span class="si">}</span><span class="s">/I_</span><span class="si">{</span><span class="n">chapter_str</span><span class="si">}</span><span class="s">.html'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">prettify</span><span class="p">())</span>
    <span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    
    <span class="n">driver</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">timeit</span><span class="p">.</span><span class="n">default_timer</span><span class="p">()</span>
    <span class="n">ps</span> <span class="o">=</span> <span class="p">[</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">scrape</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ps</span><span class="p">:</span>
        <span class="n">p</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ps</span><span class="p">:</span>
        <span class="n">p</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>
    <span class="n">stop</span> <span class="o">=</span> <span class="n">timeit</span><span class="p">.</span><span class="n">default_timer</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Zeit: '</span><span class="p">,</span> <span class="n">stop</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>    
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scraping https://www.feynmanlectures.caltech.edu/I_01.html
scraping https://www.feynmanlectures.caltech.edu/I_02.html
Zeit:  21.478510914999998
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> errpipe_read, errpipe_write <span class="o">=</span> os.pipe<span class="o">()</span>
OSError: <span class="o">[</span>Errno 24] Zu viele geöffnete Dateien
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> % <span class="nb">ulimit </span>a
<span class="nb">ulimit</span>: ungültige Zahl: a
lzw@lzwjava feynman-lectures-mobi % <span class="nb">ulimit</span> <span class="nt">-a</span>
<span class="nt">-t</span>: CPU-Zeit <span class="o">(</span>Sekunden<span class="o">)</span>             unbegrenzt
<span class="nt">-f</span>: Dateigröße <span class="o">(</span>Blöcke<span class="o">)</span>             unbegrenzt
<span class="nt">-d</span>: Datensegmentgröße <span class="o">(</span>KByte<span class="o">)</span>       unbegrenzt
<span class="nt">-s</span>: Stack-Größe <span class="o">(</span>KByte<span class="o">)</span>             8192
<span class="nt">-c</span>: Core-Dateigröße <span class="o">(</span>Blöcke<span class="o">)</span>        0
<span class="nt">-v</span>: Adressraum <span class="o">(</span>KByte<span class="o">)</span>              unbegrenzt
<span class="nt">-l</span>: Speichergröße <span class="o">(</span>KByte<span class="o">)</span>           unbegrenzt
<span class="nt">-u</span>: Prozesse                        2784
<span class="nt">-n</span>: Dateideskriptoren               256
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>12
download_images
12
mathjax2svg
latexs 128
make_svg 0
insert_svg 0
make_svg 1
insert_svg 1
make_svg 2
insert_svg 2
make_svg 3
insert_svg 3
convert
</code></pre></div></div>

<p><em>Hinweis: Der obige Codeblock wurde nicht übersetzt, da es sich um Befehle oder Skripte handelt, die in der Regel in ihrer ursprünglichen Form belassen werden, um ihre Funktionalität nicht zu beeinträchtigen.</em></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>12
download_images
12
mathjax2svg
latexs 0
latexs 0
convert
Zeit:  11.369145162
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% <span class="nb">grep</span> <span class="nt">--include</span><span class="o">=</span><span class="se">\*</span>.html <span class="nt">-r</span> <span class="s1">'\$'</span> <span class="k">*</span>
43/I_43.html:einen langen Zeitraum <span class="nv">$T$,</span> eine bestimmte Anzahl, <span class="nv">$N$,</span> von Treffern haben. Wenn wir
43/I_43.html:die Anzahl der Kollisionen proportional zur Zeit <span class="nv">$T$ </span>ist. Wir möchten
43/I_43.html:Wir haben die Proportionalitätskonstante als <span class="nv">$1</span>/<span class="se">\t</span>au<span class="nv">$ </span>geschrieben, wobei
43/I_43.html:<span class="nv">$\</span>tau<span class="nv">$ </span>die Dimension einer Zeit haben wird. Die Konstante <span class="nv">$\</span>tau<span class="nv">$ </span>ist die
43/I_43.html:es gibt <span class="nv">$60$ </span>Kollisionen<span class="p">;</span> dann ist <span class="nv">$\</span>tau<span class="nv">$ </span>eine Minute. Wir würden sagen,
43/I_43.html:dass <span class="nv">$\</span>tau<span class="nv">$ </span><span class="o">(</span>eine Minute<span class="o">)</span> die
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fehler	E21018: Beim Analysieren des Inhalts der Datei ist das Erstellen einer verbesserten Mobi-Domain fehlgeschlagen. Inhalt: &lt;In earlier chapters <span class="o">&gt;</span> Datei: /private/var/folders/_3/n3b7dq8x6652drmx6_d3t3bh0000gr/T/069e0b8a-f12e-4102-aed3-977c0c3c1178/cTemp/mTemp/mobi-GxL1ye/OEBPS/c-49.xhtml Zeile: 969
Warnung	W28001: Der Kindle-Reader unterstützt den im Inhalt angegebenen CSS-Stil nicht. CSS-Eigenschaft wird entfernt: <span class="s1">'max-width'</span> Datei: /private/var/folders/_3/n3b7dq8x6652drmx6_d3t3bh0000gr/T/069e0b8a-f12e-4102-aed3-977c0c3c1178/cTemp/mTemp/mobi-GxL1ye/OEBPS/stylesheet.css
Warnung	W29004: Offenes Tag wurde zwangsweise geschlossen: &lt;span amzn-src-id<span class="o">=</span><span class="s2">"985"</span><span class="o">&gt;</span> Datei: /private/var/folders/_3/n3b7dq8x6652drmx6_d3t3bh0000gr/T/069e0b8a-f12e-4102-aed3-977c0c3c1178/cTemp/mTemp/mobi-GxL1ye/OEBPS/c-4.xhtml Zeile: 0000102
Warnung	W29004: Offenes Tag wurde zwangsweise geschlossen: &lt;p amzn-src-id<span class="o">=</span><span class="s2">"975"</span><span class="o">&gt;</span> Datei: /private/var/folders/_3/n3b7dq8x6652drmx6_d3t3bh0000gr/T/069e0b8a-f12e-4102-aed3-977c0c3c1178/cTemp/mTemp/mobi-GxL1ye/OEBPS/c-4.xhtml Zeile: 0000102
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Warnung	W14001: Problem mit Hyperlink, noch nicht behoben:  /private/var/folders/_3/n3b7dq8x6652drmx6_d3t3bh0000gr/T/97c9cb4d-35f7-4920-81eb-4705325c482f/cTemp/mTemp/mobi-pvawPN/OEBPS/c-1.xhtml#Ch1-F1			
Warnung	W14001: Problem mit Hyperlink, noch nicht behoben:  /private/var/folders/_3/n3b7dq8x6652drmx6_d3t3bh0000gr/T/97c9cb4d-35f7-4920-81eb-4705325c482f/cTemp/mTemp/mobi-pvawPN/OEBPS/c-1.xhtml#Ch1-F2			
Warnung	W14001: Problem mit Hyperlink, noch nicht behoben:  /private/var/folders/_3/n3b7dq8x6652drmx6_d3t3bh0000gr/T/97c9cb4d-35f7-4920-81eb-4705325c482f/cTemp/mTemp/mobi-pvawPN/OEBPS/c-1.xhtml#Ch1-F3			
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"disabled"</span> <span class="na">href=</span><span class="s">"#Ch1-F1"</span><span class="nt">&gt;</span>
          1–1
<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Rasterisiere <span class="s1">'OEBPS/84b8b4179175f097be1180a10089107be75d7d85.svg'</span> auf 1264x1011
Rasterisiere <span class="s1">'OEBPS/23a4df37f269c8ed43f54753eb838b29cff538a1.svg'</span> auf 1264x259
Traceback <span class="o">(</span>zuletzt aufgerufene Datei zuerst<span class="o">)</span>:
  Datei <span class="s2">"runpy.py"</span>, Zeile 194, <span class="k">in </span>_run_module_as_main
  Datei <span class="s2">"runpy.py"</span>, Zeile 87, <span class="k">in </span>_run_code
  Datei <span class="s2">"site.py"</span>, Zeile 39, <span class="k">in</span> &lt;module&gt;
  Datei <span class="s2">"site.py"</span>, Zeile 35, <span class="k">in </span>main
  Datei <span class="s2">"calibre/utils/ipc/worker.py"</span>, Zeile 216, <span class="k">in </span>main
  Datei <span class="s2">"calibre/gui2/convert/gui_conversion.py"</span>, Zeile 41, <span class="k">in </span>gui_convert_override
  Datei <span class="s2">"calibre/gui2/convert/gui_conversion.py"</span>, Zeile 28, <span class="k">in </span>gui_convert
  Datei <span class="s2">"calibre/ebooks/conversion/plumber.py"</span>, Zeile 1274, <span class="k">in </span>run
  Datei <span class="s2">"calibre/ebooks/conversion/plugins/mobi_output.py"</span>, Zeile 214, <span class="k">in </span>convert
  Datei <span class="s2">"calibre/ebooks/conversion/plugins/mobi_output.py"</span>, Zeile 237, <span class="k">in </span>write_mobi
  Datei <span class="s2">"calibre/ebooks/oeb/transforms/rasterize.py"</span>, Zeile 55, <span class="k">in </span>__call__
  Datei <span class="s2">"calibre/ebooks/oeb/transforms/rasterize.py"</span>, Zeile 142, <span class="k">in </span>rasterize_spine
  Datei <span class="s2">"calibre/ebooks/oeb/transforms/rasterize.py"</span>, Zeile 152, <span class="k">in </span>rasterize_item
  Datei <span class="s2">"calibre/ebooks/oeb/transforms/rasterize.py"</span>, Zeile 185, <span class="k">in </span>rasterize_external
  Datei <span class="s2">"calibre/ebooks/oeb/base.py"</span>, Zeile 1092, <span class="k">in </span>bytes_representation
  Datei <span class="s2">"calibre/ebooks/oeb/base.py"</span>, Zeile 432, <span class="k">in </span>serialize
TypeError: <span class="s1">'NoneType'</span><span class="nt">-Objekt</span> kann nicht <span class="k">in </span>Bytes umgewandelt werden
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% kindlepreviewer feynman-lectures-on-physics-volumn-1.epub <span class="nt">-convert</span>
Überprüfung der angegebenen Argumente.
Vorverarbeitung läuft.
Verarbeitung von 1/1 Buch/Büchern.
Buch mit Warnungen konvertiert! : /Users/lzw/projects/feynman-lectures-mobi/feynman-lectures-on-physics-volumn-1.epub
Nachbearbeitung läuft.
Schreiben der Ausgabe-/Protokolldateien nach /Users/lzw/projects/feynman-lectures-mobi/output
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bereinige Manifest...
Entferne ungenutzte Dateien aus dem Manifest...
Erstelle AZW3-Ausgabe...
Serialisiere Ressourcen...
Trenne Markup an Seitenumbrüchen und Flussbegrenzungen, falls vorhanden...
Erstelle KF8-Ausgabe
	Generiere KF8-Markup...
Tag-Tabelle hat keine AID und eine zu große Chunk-Größe. Füge trotzdem hinzu.
Tag-Tabelle hat keine AID und eine zu große Chunk-Größe. Füge trotzdem hinzu.
Tag-Tabelle hat keine AID und eine zu große Chunk-Größe. Füge trotzdem hinzu.
	Komprimiere Markup...
	Erstelle Indizes...
</code></pre></div></div>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-de" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
