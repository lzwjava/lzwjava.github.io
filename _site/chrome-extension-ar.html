<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>بناء امتداد Chrome</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>بناء امتداد Chrome | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="بناء امتداد Chrome" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="ar" />
<meta name="description" content="هل سبق لك أن فتحت الكثير من علامات التبويب في المتصفح وتأملت في وجود أداة لتسييرها تلقائيًا؟ في هذا المقال، سنمر عبر إنشاء امتداد Chrome يُدعى “Tabs Killer”، الذي يُغلق علامات التبويب الأقدم تلقائيًا عندما يتجاوز عدد علامات التبويب الحد الذي يحدده المستخدم. سأشرح لك الكود، وأشرح لك كيف يعمل، وأقدم لك بعض الأفكار التي تساعدك في بناء امتداد Chrome الخاص بك." />
<meta property="og:description" content="هل سبق لك أن فتحت الكثير من علامات التبويب في المتصفح وتأملت في وجود أداة لتسييرها تلقائيًا؟ في هذا المقال، سنمر عبر إنشاء امتداد Chrome يُدعى “Tabs Killer”، الذي يُغلق علامات التبويب الأقدم تلقائيًا عندما يتجاوز عدد علامات التبويب الحد الذي يحدده المستخدم. سأشرح لك الكود، وأشرح لك كيف يعمل، وأقدم لك بعض الأفكار التي تساعدك في بناء امتداد Chrome الخاص بك." />
<link rel="canonical" href="https://lzwjava.github.io/chrome-extension-ar" />
<meta property="og:url" content="https://lzwjava.github.io/chrome-extension-ar" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-08-01T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="بناء امتداد Chrome" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2015-08-01T00:00:00+08:00","datePublished":"2015-08-01T00:00:00+08:00","description":"هل سبق لك أن فتحت الكثير من علامات التبويب في المتصفح وتأملت في وجود أداة لتسييرها تلقائيًا؟ في هذا المقال، سنمر عبر إنشاء امتداد Chrome يُدعى “Tabs Killer”، الذي يُغلق علامات التبويب الأقدم تلقائيًا عندما يتجاوز عدد علامات التبويب الحد الذي يحدده المستخدم. سأشرح لك الكود، وأشرح لك كيف يعمل، وأقدم لك بعض الأفكار التي تساعدك في بناء امتداد Chrome الخاص بك.","headline":"بناء امتداد Chrome","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/chrome-extension-ar"},"url":"https://lzwjava.github.io/chrome-extension-ar"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=e93014b85f96d23084f2657518804dce8d8d726e">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=e93014b85f96d23084f2657518804dce8d8d726e" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       بناء امتداد Chrome | أصلي، ترجم بواسطة AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/ar/2015-08-01-chrome-extension-ar.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsar2015-08-01-chrome-extension-ar.md</span> -->
      

      <!-- <span>2015-08-01-chrome-extension-ar.md</span> -->

      
        

        
          
          <a href="#" class="button">2015.08</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/chrome-extension-en" >English</option>
        <option value="/chrome-extension-zh" >中文</option>
        <option value="/chrome-extension-ja" >日本語</option>
        <option value="/chrome-extension-es" >Español</option>
        <option value="/chrome-extension-hi" >हिंदी</option>
        <option value="/chrome-extension-fr" >Français</option>
        <option value="/chrome-extension-de" >Deutsch</option>
        <option value="/chrome-extension-ar" selected>العربية</option>
        <option value="/chrome-extension-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>هل سبق لك أن فتحت الكثير من علامات التبويب في المتصفح وتأملت في وجود أداة لتسييرها تلقائيًا؟ في هذا المقال، سنمر عبر إنشاء امتداد Chrome يُدعى <strong>“Tabs Killer”</strong>، الذي يُغلق علامات التبويب الأقدم تلقائيًا عندما يتجاوز عدد علامات التبويب الحد الذي يحدده المستخدم. سأشرح لك الكود، وأشرح لك كيف يعمل، وأقدم لك بعض الأفكار التي تساعدك في بناء امتداد Chrome الخاص بك.</p>

<p>في نهاية هذا المقال، ستفهم بنية امتداد Chrome، وكيفية التعامل مع API Chrome، وكيفية إنشاء واجهة Popup مع الإعدادات.</p>

<hr />

<h2 id="ما-يفعله-tabs-killer">ما يفعله “Tabs Killer”?</h2>

<p>“Tabs Killer” هو امتداد Chrome الذي:</p>
<ul>
  <li>يراقب عدد علامات التبويب المفتوحة.</li>
  <li>يسمح للمستخدمين بتحديد حد أقصى لعدد علامات التبويب.</li>
  <li>يُغلق علامات التبويب الأقدم تلقائيًا عندما يتجاوز الحد.</li>
  <li>يقدم ميزة قائمة بيضاء لحماية علامات التبويب المحددة (مثلًا، بناءً على نماذج URL) من الإغلاق.</li>
</ul>

<p>يضم الاضافة واجهة Popup لتكوين الإعدادات ونسخة خلفية لتسيير علامات التبويب.</p>

<hr />

<h2 id="بنية-المشروع">بنية المشروع</h2>

<p>هذه هي بنية ملفات امتداد “Tabs Killer”:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tabs-killer/
├── manifest.json         # تكوين الاضافة
├── popup.html            # واجهة المستخدم Popup
├── popup.js             # منطق Popup
├── background.html       # صفحة الخلفية
├── app.build.js          # منطق التطبيق الرئيسي (مفترض)
├── js/
│   ├── lib/              # مكتبات خارجية (jQuery, Underscore, Bootstrap, RequireJS)
│   ├── tabmanager.js     # منطق تسيير علامات التبويب (مفترض)
│   └── settings.js       # إدارة الإعدادات (مفترض)
├── css/
│   └── popup.css         # أنماط Popup
└── img/
    ├── icon16.png        # أيقونة 16x16
    ├── icon48.png        # أيقونة 48x48
    └── icon128.png       # أيقونة 128x128
</code></pre></div></div>

<hr />

<h2 id="الخطوة-1-ملف-البيان-manifestjson">الخطوة 1: ملف البيان (<code class="language-plaintext highlighter-rouge">manifest.json</code>)</h2>

<p>يعد ملف <code class="language-plaintext highlighter-rouge">manifest.json</code> قلب أي امتداد Chrome. يحدد البيانات الوصفية، الإذن، والمكونات الرئيسية.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"manifest_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tabs Killer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"يغلق علامات التبويب الأقدم تلقائيًا عندما يكون هناك الكثير من علامات التبويب."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"browser_action"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"default_icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"img/icon128.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"default_popup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"popup.html"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"icons"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"128"</span><span class="p">:</span><span class="w"> </span><span class="s2">"img/icon128.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"48"</span><span class="p">:</span><span class="w"> </span><span class="s2">"img/icon48.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"16"</span><span class="p">:</span><span class="w"> </span><span class="s2">"img/icon16.png"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"background"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"background.html"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"tabs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"storage"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"content_security_policy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"script-src 'self' 'unsafe-eval'; object-src 'self'"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="شرح">شرح:</h3>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">manifest_version</code></strong>: يجب أن يكون <code class="language-plaintext highlighter-rouge">2</code> (Chrome قد ألغى الإصدار 1).</li>
  <li><strong><code class="language-plaintext highlighter-rouge">name</code>, <code class="language-plaintext highlighter-rouge">description</code>, <code class="language-plaintext highlighter-rouge">version</code></strong>: بيانات وصفية أساسية.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">browser_action</code></strong>: يحدد أيقونة شريط الأدوات للاضافة وPopup (<code class="language-plaintext highlighter-rouge">popup.html</code>).</li>
  <li><strong><code class="language-plaintext highlighter-rouge">icons</code></strong>: أيقونات مختلفة الأحجام (تستخدم في متجر Chrome وشريط الأدوات).</li>
  <li><strong><code class="language-plaintext highlighter-rouge">background</code></strong>: يحدد صفحة الخلفية (<code class="language-plaintext highlighter-rouge">background.html</code>) التي تعمل بشكل مستمر.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">permissions</code></strong>: يطلب الوصول إلى API <code class="language-plaintext highlighter-rouge">tabs</code> (لتسيير علامات التبويب) وAPI <code class="language-plaintext highlighter-rouge">storage</code> (لحفظ الإعدادات).</li>
  <li><strong><code class="language-plaintext highlighter-rouge">content_security_policy</code></strong>: يسمح بـ <code class="language-plaintext highlighter-rouge">unsafe-eval</code> لمكتبات مثل RequireJS (استخدم بحذر في الإنتاج).</li>
</ul>

<hr />

<h2 id="الخطوة-2-واجهة-المستخدم-popup-popuphtml">الخطوة 2: واجهة المستخدم Popup (<code class="language-plaintext highlighter-rouge">popup.html</code>)</h2>

<p>تظهر واجهة Popup عندما ينقر المستخدم على أيقونة الاضافة. تستخدم Bootstrap لتزيينها وتضم واجهة تبويب مع قسم “Options”.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>Popup Extension Tabs Killer<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"js/lib/bootstrap/css/bootstrap.css"</span> <span class="na">type=</span><span class="s">"text/css"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"css/popup.css"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"js/lib/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"js/lib/underscore.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"js/lib/bootstrap/js/bootstrap.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"js/lib/bootstrap/js/bootstrap-tab.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"js/lib/require.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"app.build.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"popup.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"nav nav-tabs"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#tabOptions"</span> <span class="na">target=</span><span class="s">"#tabOptions"</span> <span class="na">data-toggle=</span><span class="s">"tab"</span><span class="nt">&gt;</span>Options<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"tab-content"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"tab-pane active"</span> <span class="na">id=</span><span class="s">"tabOptions"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;form</span> <span class="na">class=</span><span class="s">"well"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;fieldset&gt;</span>
          <span class="nt">&lt;legend&gt;</span>Settings<span class="nt">&lt;/legend&gt;</span>
          <span class="nt">&lt;p&gt;</span>
            <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"maxTabs"</span><span class="nt">&gt;</span>أقصى عدد من علامات التبويب للبقاء<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"maxTabs"</span> <span class="na">class=</span><span class="s">"span1"</span> <span class="na">name=</span><span class="s">"maxTabs"</span><span class="nt">&gt;</span> علامات تبويب
          <span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/fieldset&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"status"</span> <span class="na">class=</span><span class="s">"alert alert-success invisible"</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;fieldset&gt;</span>
          <span class="nt">&lt;legend&gt;</span>Auto-Lock<span class="nt">&lt;/legend&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"white-list-input"</span><span class="nt">&gt;</span>علامة تبويب تحتوي على نص URL:<span class="nt">&lt;/label&gt;</span>
          <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"white-list-input"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn-mini add-on"</span> <span class="na">disabled</span> <span class="na">id=</span><span class="s">"white-list-add"</span><span class="nt">&gt;</span>Add<span class="nt">&lt;/button&gt;</span>
          <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-bordered table-striped"</span> <span class="na">id=</span><span class="s">"white-list"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;thead&gt;</span>
              <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;th&gt;</span>نموذج URL<span class="nt">&lt;/th&gt;</span>
                <span class="nt">&lt;th&gt;&lt;/th&gt;</span>
              <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;/thead&gt;</span>
            <span class="nt">&lt;tbody&gt;&lt;/tbody&gt;</span>
          <span class="nt">&lt;/table&gt;</span>
        <span class="nt">&lt;/fieldset&gt;</span>
      <span class="nt">&lt;/form&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/html"</span> <span class="na">id=</span><span class="s">"url-item-template"</span><span class="nt">&gt;</span>
    <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;&lt;%=</span><span class="nx">url</span><span class="o">%&gt;&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;&lt;</span><span class="nx">a</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">deleteLink</span><span class="dl">"</span> <span class="nx">href</span><span class="o">=</span><span class="dl">"</span><span class="s2">#</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Remove</span><span class="o">&lt;</span><span class="sr">/a&gt;&lt;/</span><span class="nx">td</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="sr">/tr</span><span class="err">&gt;
</span>  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h3 id="شرح-1">شرح:</h3>
<ul>
  <li><strong>المكتبات</strong>: تستخدم jQuery، Underscore، Bootstrap، وRequireJS للوظائف والتزيين.</li>
  <li><strong>عناصر واجهة المستخدم</strong>:
    <ul>
      <li>مدخل نصي (<code class="language-plaintext highlighter-rouge">#maxTabs</code>) لتحديد أقصى عدد من علامات التبويب.</li>
      <li>مدخل قائمة بيضاء (<code class="language-plaintext highlighter-rouge">#white-list-input</code>) وزر “Add” (<code class="language-plaintext highlighter-rouge">#white-list-add</code>) لحماية URLs محددة.</li>
      <li>جدول (<code class="language-plaintext highlighter-rouge">#white-list</code>) لعرض نماذج القائمة البيضاء مع رابط “Remove”.</li>
      <li>رسالة حالة (<code class="language-plaintext highlighter-rouge">#status</code>) لعرض ردود الفعل.</li>
    </ul>
  </li>
  <li><strong>قالب</strong>: قالب Underscore.js (<code class="language-plaintext highlighter-rouge">#url-item-template</code>) يولد صفوف الجدول بشكل ديناميكي.</li>
</ul>

<hr />

<h2 id="الخطوة-3-منطق-popup-popupjs">الخطوة 3: منطق Popup (<code class="language-plaintext highlighter-rouge">popup.js</code>)</h2>

<p>يستقبل هذا الكود التفاعلية في Popup، مثل حفظ الإعدادات وتسيير القائمة البيضاء.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">require</span><span class="p">([],</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">GlobalObject</span> <span class="o">=</span> <span class="nx">chrome</span><span class="p">.</span><span class="nx">extension</span><span class="p">.</span><span class="nx">getBackgroundPage</span><span class="p">().</span><span class="nx">GlobalObject</span><span class="p">;</span>

  <span class="nx">Popup</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span> <span class="o">=</span> <span class="p">{};</span>

  <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">onBlurInput</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
      <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">saveOption</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#maxTabs</span><span class="dl">'</span><span class="p">).</span><span class="nx">keyup</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">debounce</span><span class="p">(</span><span class="nx">onBlurInput</span><span class="p">,</span> <span class="mi">200</span><span class="p">));</span>
    <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">loadOptions</span><span class="p">();</span>
  <span class="p">};</span>

  <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">loadOptions</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#maxTabs</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">GlobalObject</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">maxTabs</span><span class="dl">'</span><span class="p">));</span>
    <span class="kd">var</span> <span class="nx">whiteList</span> <span class="o">=</span> <span class="nx">GlobalObject</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">whiteList</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">buildWhiteListTable</span><span class="p">(</span><span class="nx">whiteList</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">$whiteListInput</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#white-list-input</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">$whiteListAdd</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#white-list-add</span><span class="dl">'</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">isValid</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">pattern</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="sr">/</span><span class="se">\S</span><span class="sr">/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">pattern</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="nx">$whiteListInput</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">isValid</span><span class="p">(</span><span class="nx">$whiteListInput</span><span class="p">.</span><span class="nx">val</span><span class="p">()))</span> <span class="p">{</span>
        <span class="nx">$whiteListAdd</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="dl">'</span><span class="s1">disabled</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">$whiteListAdd</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="dl">'</span><span class="s1">disabled</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">disabled</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">});</span>

    <span class="nx">$whiteListAdd</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isValid</span><span class="p">(</span><span class="nx">$whiteListInput</span><span class="p">.</span><span class="nx">val</span><span class="p">()))</span> <span class="k">return</span><span class="p">;</span>
      <span class="nx">whiteList</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">$whiteListInput</span><span class="p">.</span><span class="nx">val</span><span class="p">());</span>
      <span class="nx">$whiteListInput</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="dl">''</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">).</span><span class="nx">focus</span><span class="p">();</span>
      <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">saveOption</span><span class="p">(</span><span class="dl">'</span><span class="s1">whiteList</span><span class="dl">'</span><span class="p">,</span> <span class="nx">whiteList</span><span class="p">);</span>
      <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">buildWhiteListTable</span><span class="p">(</span><span class="nx">whiteList</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">saveOption</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">hideStatus</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hideStatus</span><span class="p">)</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#status</span><span class="dl">'</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
    <span class="nx">GlobalObject</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hideStatus</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#status</span><span class="dl">'</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="dl">'</span><span class="s1">invisible</span><span class="dl">'</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="dl">'</span><span class="s1">opacity</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">100</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="dl">'</span><span class="s1">Saving...</span><span class="dl">'</span><span class="p">).</span><span class="nx">delay</span><span class="p">(</span><span class="mi">50</span><span class="p">).</span><span class="nx">animate</span><span class="p">({</span><span class="na">opacity</span><span class="p">:</span> <span class="mi">0</span><span class="p">});</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">buildWhiteListTable</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">whiteList</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">urlItemTemplate</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#url-item-template</span><span class="dl">"</span><span class="p">).</span><span class="nx">html</span><span class="p">());</span>
    <span class="kd">var</span> <span class="nx">$wlTable</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">table#white-list tbody</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">$wlTable</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">whiteList</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">$tr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">urlItemTemplate</span><span class="p">({</span><span class="na">url</span><span class="p">:</span> <span class="nx">whiteList</span><span class="p">[</span><span class="nx">i</span><span class="p">]}));</span>
      <span class="kd">var</span> <span class="nx">$deleteLink</span> <span class="o">=</span> <span class="nx">$tr</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="dl">'</span><span class="s1">a.deleteLink</span><span class="dl">'</span><span class="p">).</span><span class="nx">parent</span><span class="p">();</span>
      <span class="nx">$deleteLink</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">whiteList</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">whiteList</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="dl">'</span><span class="s1">pattern</span><span class="dl">'</span><span class="p">)),</span> <span class="mi">1</span><span class="p">);</span>
        <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">saveOption</span><span class="p">(</span><span class="dl">'</span><span class="s1">whiteList</span><span class="dl">'</span><span class="p">,</span> <span class="nx">whiteList</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
        <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">buildWhiteListTable</span><span class="p">(</span><span class="nx">whiteList</span><span class="p">);</span>
      <span class="p">}).</span><span class="nx">data</span><span class="p">(</span><span class="dl">'</span><span class="s1">pattern</span><span class="dl">'</span><span class="p">,</span> <span class="nx">whiteList</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
      <span class="nx">$wlTable</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">$tr</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">a[data-toggle="tab"]</span><span class="dl">'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">show</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">tabId</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">hash</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">tabId</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">#tabOptions</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">Popup</span><span class="p">.</span><span class="nx">optionsTab</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div#tabOptions</span><span class="dl">'</span><span class="p">));</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">a[href="#tabOptions"]</span><span class="dl">'</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="شرح-2">شرح:</h3>
<ul>
  <li><strong>التنشيط</strong>: يربط إلى <code class="language-plaintext highlighter-rouge">GlobalObject</code> في الصفحة الخلفية لإعدادات وتسيير علامات التبويب.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">init</code></strong>: يحدد مستمعين للحدث، مثل إدخال معلق لـ <code class="language-plaintext highlighter-rouge">#maxTabs</code>.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">loadOptions</code></strong>: يحمّل الإعدادات المحفوظة (أقصى عدد من علامات التبويب و القائمة البيضاء) ويملأ واجهة المستخدم.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">saveOption</code></strong>: يحفظ الإعدادات في <code class="language-plaintext highlighter-rouge">GlobalObject.settings</code> ويظهر “Saving…”.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">buildWhiteListTable</code></strong>: يبنى جدول القائمة البيضاء بشكل ديناميكي مع وظيفة الحذف.</li>
  <li><strong>مستمعين للحدث</strong>: يدير التحقق من صحة الإدخال، إضافة عناصر القائمة البيضاء، وتغيير التبويب.</li>
</ul>

<hr />

<h2 id="الخطوة-4-منطق-الخلفية-backgroundhtml-وscripts-المفترضة">الخطوة 4: منطق الخلفية (<code class="language-plaintext highlighter-rouge">background.html</code> وScripts المفترضة)</h2>

<p>تعمل صفحة الخلفية (<code class="language-plaintext highlighter-rouge">background.html</code>) بشكل مستمر وتحمّل المنطقية الأساسية.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// background.js (مفترض، بناءً على مقطع المقدم)</span>
<span class="nx">GlobalObject</span> <span class="o">=</span> <span class="p">{};</span>

<span class="nx">require</span><span class="p">([</span><span class="dl">'</span><span class="s1">tabmanager</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">settings</span><span class="dl">'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">tabmanager</span><span class="p">,</span> <span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">startup</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">GlobalObject</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="nx">settings</span><span class="p">;</span>
    <span class="nx">GlobalObject</span><span class="p">.</span><span class="nx">tabmanager</span> <span class="o">=</span> <span class="nx">tabmanager</span><span class="p">;</span>
    <span class="nx">settings</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
    <span class="nx">tabmanager</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
  <span class="p">};</span>
  <span class="nx">startup</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="الافتراضات">الافتراضات:</h3>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">settings.js</code></strong>: يدير التخزين (مثلًا، <code class="language-plaintext highlighter-rouge">chrome.storage</code>) لإعدادات مثل <code class="language-plaintext highlighter-rouge">maxTabs</code> و <code class="language-plaintext highlighter-rouge">whiteList</code>.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">tabmanager.js</code></strong>: يستخدم API <code class="language-plaintext highlighter-rouge">tabs</code> لمراقبة وإغلاق علامات التبويب بناءً على الحد <code class="language-plaintext highlighter-rouge">maxTabs</code> و <code class="language-plaintext highlighter-rouge">whiteList</code>.</li>
</ul>

<p>مثال <code class="language-plaintext highlighter-rouge">tabmanager.js</code> (مفترض):</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">tabmanager</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">init</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">chrome</span><span class="p">.</span><span class="nx">tabs</span><span class="p">.</span><span class="nx">onCreated</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">checkTabCount</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="na">checkTabCount</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">chrome</span><span class="p">.</span><span class="nx">tabs</span><span class="p">.</span><span class="nx">query</span><span class="p">({},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">tabs</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">maxTabs</span> <span class="o">=</span> <span class="nx">GlobalObject</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">maxTabs</span><span class="dl">'</span><span class="p">)</span> <span class="o">||</span> <span class="mi">10</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">whiteList</span> <span class="o">=</span> <span class="nx">GlobalObject</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">whiteList</span><span class="dl">'</span><span class="p">)</span> <span class="o">||</span> <span class="p">[];</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">tabs</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">maxTabs</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">tabsToRemove</span> <span class="o">=</span> <span class="nx">tabs</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">tab</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="nx">whiteList</span><span class="p">.</span><span class="nx">some</span><span class="p">(</span><span class="nx">pattern</span> <span class="o">=&gt;</span> <span class="nx">tab</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">pattern</span><span class="p">)));</span>
        <span class="nx">chrome</span><span class="p">.</span><span class="nx">tabs</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">tabsToRemove</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// إغلاق علامة التبويب الأقدم</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<hr />

<h2 id="كيفية-اختبار-الاضافة">كيفية اختبار الاضافة</h2>

<ol>
  <li>افتح Chrome واذهب إلى <code class="language-plaintext highlighter-rouge">chrome://extensions/</code>.</li>
  <li>قم بتفعيل “Developer mode” (المزاحم في اليمين العلوي).</li>
  <li>انقر على “Load unpacked” واختر مجلد <code class="language-plaintext highlighter-rouge">tabs-killer</code>.</li>
  <li>انقر على أيقونة الاضافة لفتح Popup واختبار الإعدادات.</li>
</ol>

<hr />

<h2 id="نصائح-لكتابة-امتداد-chrome-الخاص-بك">نصائح لكتابة امتداد Chrome الخاص بك</h2>

<ol>
  <li><strong>ابدأ بشيء بسيط</strong>: ابدأ ببيان بسيط وPopup أو نصية خلفية.</li>
  <li><strong>استخدم APIs Chrome</strong>: استغل <code class="language-plaintext highlighter-rouge">chrome.tabs</code>، <code class="language-plaintext highlighter-rouge">chrome.storage</code> وغيرها حسب الحاجة.</li>
  <li><strong>التشخيص</strong>: استخدم <code class="language-plaintext highlighter-rouge">console.log</code> وChrome’s DevTools (انقر باليمين على Popup &gt; Inspect).</li>
  <li><strong>الأمان</strong>: تجنب <code class="language-plaintext highlighter-rouge">unsafe-eval</code> في الإنتاج؛ استخدم سياسات أمان محتوى أكثر صرامة.</li>
  <li><strong>مكتبات واجهة المستخدم</strong>: Bootstrap وjQuery تسهل تطوير واجهة المستخدم ولكن احرص على خفة الاضافة.</li>
</ol>

<hr />

<h2 id="الخاتمة">الخاتمة</h2>

<p>“Tabs Killer” يوضح كيفية دمج واجهة Popup، منطق الخلفية، وAPIs Chrome لإنشاء امتداد وظيفي. مع هذه الأساس، يمكنك تخصيصه أكثر—إضافة إشعارات، تحسين منطق إغلاق علامات التبويب، أو تحسين واجهة المستخدم.</p>

<p>لا تتردد في تجربة الكود وشارك أفكارك الخاصة باضافات Chrome! سعيد بالبرمجة!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-ar" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
