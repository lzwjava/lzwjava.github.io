<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>PingCAP and Cloudflare Praise Go</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>PingCAP and Cloudflare Praise Go | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="PingCAP and Cloudflare Praise Go" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-06-30-go-no-regret-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-06-30-go-no-regret-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="PingCAP and Cloudflare Praise Go" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"PingCAP and Cloudflare Praise Go","url":"https://lzwjava.github.io/notes/2025-06-30-go-no-regret-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=57b6640df23258b28086850a3420290fcb144992">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=57b6640df23258b28086850a3420290fcb144992" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       PingCAP and Cloudflare Praise Go | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-06-30-go-no-regret-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-06-30-go-no-regret-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/go-no-regret-en" selected>English</option>
        <option value="/go-no-regret-zh" >中文</option>
        <option value="/go-no-regret-ja" >日本語</option>
        <option value="/go-no-regret-es" >Español</option>
        <option value="/go-no-regret-hi" >हिंदी</option>
        <option value="/go-no-regret-fr" >Français</option>
        <option value="/go-no-regret-de" >Deutsch</option>
        <option value="/go-no-regret-ar" >العربية</option>
        <option value="/go-no-regret-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Neither PingCAP nor Cloudflare has expressed “regret” about using Go. In fact, both companies have publicly praised Go for its strengths and continue to use it extensively in their core products. However, they are also pragmatic about language choices and use other languages where they are a better fit for specific problems.</p>

<p>Here’s a breakdown:</p>

<h3 id="pingcap-tidb-and-go">PingCAP (TiDB) and Go</h3>

<ul>
  <li><strong>No Regret:</strong> PingCAP chose Go for the SQL layer (<code class="language-plaintext highlighter-rouge">tidb-server</code>) of TiDB due to its excellent concurrency model (goroutines and channels), ease of development, and strong standard library. These features enabled them to build a complex distributed database relatively quickly.</li>
  <li><strong>Acknowledged Challenges:</strong> While Go is central to TiDB, PingCAP is very transparent about the challenges, particularly regarding Go’s garbage collector. Their documentation and blog posts frequently discuss:
    <ul>
      <li><strong>GC pauses:</strong> They acknowledge that GC pauses, even if short, can introduce latency jitter in a high-performance database. They actively work on mitigating this through tuning <code class="language-plaintext highlighter-rouge">GOGC</code>, <code class="language-plaintext highlighter-rouge">GOMEMLIMIT</code>, and implementing adaptive GC triggering.</li>
      <li><strong>Memory management:</strong> They provide detailed guides on monitoring memory usage and troubleshooting OOM issues, recognizing that inefficient memory patterns in Go can lead to problems.</li>
    </ul>
  </li>
  <li><strong>Strategic Use of Rust:</strong> PingCAP chose <strong>Rust</strong> for TiKV, their distributed key-value storage engine. This wasn’t a “regret” of Go, but rather a <strong>strategic decision</strong> for the storage layer where extreme low-latency, predictable performance, and fine-grained memory control are paramount.
    <ul>
      <li>Rust’s ownership and borrowing model, along with its lack of a garbage collector, are ideal for systems-level programming where every microsecond and byte matters.</li>
      <li>They recognized that the trade-off of Rust’s steeper learning curve and slower compilation times was acceptable for the critical storage engine, but less desirable for the more rapidly evolving SQL layer.</li>
    </ul>
  </li>
  <li><strong>Conclusion for PingCAP:</strong> They clearly see Go and Rust as complementary tools. Go for the higher-level logic and rapid iteration, Rust for the low-level, performance-critical components.</li>
</ul>

<h3 id="cloudflare-and-go">Cloudflare and Go</h3>

<ul>
  <li><strong>Extensive Go Adoption:</strong> Cloudflare was an early and enthusiastic adopter of Go. They use Go for a vast array of their services, including DNS infrastructure, SSL handling, load testing tools, and many internal systems. They have consistently spoken positively about Go’s concurrency, ease of deployment, and developer productivity.</li>
  <li><strong>Evolution, Not Regret:</strong> Cloudflare has certainly diversified its language usage, with a notable shift towards <strong>Rust</strong> in certain critical areas. This is driven by performance, security, and resource efficiency needs, not a “regret” of Go.
    <ul>
      <li><strong>Pingora (Rust):</strong> A prime example is Cloudflare’s development of <strong>Pingora</strong>, a new HTTP proxy built in Rust to replace parts of their NGINX infrastructure (which was written in C). This move to Rust was largely about:
        <ul>
          <li><strong>Memory Safety:</strong> Rust’s guarantees against common memory bugs (buffer overflows, use-after-free) which are prevalent in C/C++ (like NGINX). This significantly improves security and stability.</li>
          <li><strong>Extreme Performance:</strong> For a core component handling trillions of requests, Rust’s “zero-cost abstractions” and fine-grained control allow for even higher performance and lower resource consumption than what’s easily achievable in Go (due to Go’s GC overhead).</li>
          <li><strong>Improved Developer Experience for Systems Programming:</strong> While Rust has a steeper learning curve initially, for systems engineers working on extremely low-level network components, its strictness and powerful type system can lead to more robust and easier-to-reason-about code in the long run.</li>
        </ul>
      </li>
      <li><strong>Go still strong:</strong> Even with Pingora, Cloudflare continues to develop and maintain many services in Go. They view Go as “fast enough” for most of their workloads and appreciate its development speed and operational simplicity.</li>
    </ul>
  </li>
  <li><strong>Conclusion for Cloudflare:</strong> Cloudflare embraces a multi-language strategy, choosing the best tool for the job. Go remains a foundational language for them, particularly for services that benefit from its rapid development and concurrency. Rust is increasingly used for systems-level components where maximum performance, memory safety, and fine-grained control are paramount.</li>
</ul>

<p>In essence, both companies are sophisticated engineering organizations that understand the trade-offs of different programming languages. They don’t express “regret” for choosing Go, but rather demonstrate a pragmatic approach to using other languages like Rust for specific problem domains where their strengths (e.g., lack of GC, memory safety) offer significant advantages for critical infrastructure.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
