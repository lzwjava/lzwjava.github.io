<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>RIG Settings Window Controller Overview</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>RIG Settings Window Controller Overview | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="RIG Settings Window Controller Overview" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-10-19-rig-settings-controller-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-10-19-rig-settings-controller-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="RIG Settings Window Controller Overview" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"RIG Settings Window Controller Overview","url":"https://lzwjava.github.io/notes/2025-10-19-rig-settings-controller-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=ab763abffcaed95ab208aa7bf0821356c4d9dd71">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=ab763abffcaed95ab208aa7bf0821356c4d9dd71" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       RIG Settings Window Controller Overview | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-10-19-rig-settings-controller-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-10-19-rig-settings-controller-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/rig-settings-controller-en" selected>English</option>
        <option value="/rig-settings-controller-zh" >中文</option>
        <option value="/rig-settings-controller-ja" >日本語</option>
        <option value="/rig-settings-controller-es" >Español</option>
        <option value="/rig-settings-controller-hi" >हिंदी</option>
        <option value="/rig-settings-controller-fr" >Français</option>
        <option value="/rig-settings-controller-de" >Deutsch</option>
        <option value="/rig-settings-controller-ar" >العربية</option>
        <option value="/rig-settings-controller-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="overview">Overview</h3>

<p>This Objective-C code implements the <code class="language-plaintext highlighter-rouge">RIGSettingWindowController</code> class, which manages a settings window for the “Reveal-In-GitHub” (RIG) macOS app (likely an Xcode plugin for quickly revealing selected code in GitHub repositories). The window allows users to configure custom menu items, keyboard shortcuts, and regex patterns for different GitHub repos. It uses a table-like view (<code class="language-plaintext highlighter-rouge">RIGConfigCellsView</code>) to display and edit up to 10 config slots (padded with empties for UI consistency).</p>

<p>The class conforms to <code class="language-plaintext highlighter-rouge">NSTableViewDataSource</code> and <code class="language-plaintext highlighter-rouge">NSTableViewDelegate</code> protocols, suggesting it handles data and events for a table view inside the custom cells view. It integrates with app-wide singletons like <code class="language-plaintext highlighter-rouge">RIGSetting</code> for persistence and <code class="language-plaintext highlighter-rouge">RIGUtils</code> for UI feedback.</p>

<p>Key responsibilities:</p>
<ul>
  <li>Load and display configurable items (e.g., menu titles, shortcut keys, regex patterns).</li>
  <li>Validate and save changes.</li>
  <li>Provide buttons for saving, clearing default repo settings, and resetting to defaults.</li>
</ul>

<h3 id="imports-and-defines">Imports and Defines</h3>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#import "RIGSettingWindowController.h"
#import "RIGConfigCellsView.h"
#import "RIGConfig.h"
#import "RIGPlugin.h"
#import "RIGUtils.h"
#import "RIGSetting.h"
</span>
<span class="cp">#define kOutterXMargin 0
#define kOutterYMargin 0
</span></code></pre></div></div>

<ul>
  <li>Imports pull in the header for this class, a custom view for rendering config rows (<code class="language-plaintext highlighter-rouge">RIGConfigCellsView</code>), model objects (<code class="language-plaintext highlighter-rouge">RIGConfig</code> for individual settings, <code class="language-plaintext highlighter-rouge">RIGSetting</code> for app-wide storage), and utilities (<code class="language-plaintext highlighter-rouge">RIGUtils</code> for alerts, <code class="language-plaintext highlighter-rouge">RIGPlugin</code> possibly for plugin lifecycle).</li>
  <li>Defines set zero margins for full-width layout of the config view inside the window.</li>
</ul>

<h3 id="private-interface">Private Interface</h3>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@interface</span> <span class="nc">RIGSettingWindowController</span> <span class="p">()</span><span class="o">&lt;</span><span class="n">NSTableViewDataSource</span><span class="p">,</span> <span class="n">NSTableViewDelegate</span><span class="o">&gt;</span>

<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">NSArray</span> <span class="o">*</span><span class="n">configs</span><span class="p">;</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">RIGConfigCellsView</span> <span class="o">*</span><span class="n">configCellsView</span><span class="p">;</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">weak</span><span class="p">)</span> <span class="n">IBOutlet</span> <span class="n">NSView</span> <span class="o">*</span><span class="n">mainView</span><span class="p">;</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">weak</span><span class="p">)</span> <span class="n">IBOutlet</span> <span class="n">NSView</span> <span class="o">*</span><span class="n">configsView</span><span class="p">;</span>

<span class="k">@end</span>
</code></pre></div></div>

<ul>
  <li>Declares a private extension for internal properties and protocol conformance.</li>
  <li><code class="language-plaintext highlighter-rouge">configs</code>: Array of <code class="language-plaintext highlighter-rouge">RIGConfig</code> objects holding the user’s settings (e.g., menu title, last key pressed, regex pattern).</li>
  <li><code class="language-plaintext highlighter-rouge">configCellsView</code>: Custom view that renders the configs as editable rows (likely a scrollable table or stack of cells).</li>
  <li><code class="language-plaintext highlighter-rouge">mainView</code> and <code class="language-plaintext highlighter-rouge">configsView</code>: IBOutlets to container views in the storyboard/nib file; <code class="language-plaintext highlighter-rouge">configsView</code> hosts the dynamic cells.</li>
</ul>

<h3 id="implementation">Implementation</h3>

<h4 id="initialization-methods">Initialization Methods</h4>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">awakeFromNib</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">super</span> <span class="nf">awakeFromNib</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">windowDidLoad</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">super</span> <span class="nf">windowDidLoad</span><span class="p">];</span>
    
    <span class="n">self</span><span class="p">.</span><span class="n">configs</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span> <span class="nf">displayConfigs</span><span class="p">];</span>
    
    <span class="n">self</span><span class="p">.</span><span class="n">configCellsView</span> <span class="o">=</span> <span class="p">[[</span><span class="n">RIGConfigCellsView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithFrame</span><span class="p">:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="n">kOutterXMargin</span><span class="p">,</span> <span class="n">kOutterYMargin</span><span class="p">,</span> <span class="n">CGRectGetWidth</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">configsView</span><span class="p">.</span><span class="n">frame</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">kOutterXMargin</span><span class="p">,</span> <span class="p">[</span><span class="n">RIGConfigCellsView</span> <span class="nf">heightForConfigs</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">configs</span><span class="p">])];</span>
    <span class="n">self</span><span class="p">.</span><span class="n">configCellsView</span><span class="p">.</span><span class="n">configs</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">configs</span><span class="p">;</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">configsView</span> <span class="nf">addSubview</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">configCellsView</span><span class="p">];</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">configCellsView</span> <span class="nf">reloadData</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">awakeFromNib</code>: Empty override; called when the window loads from the nib (storyboard). Just chains to superclass.</li>
  <li><code class="language-plaintext highlighter-rouge">windowDidLoad</code>: Core setup after the window is fully loaded.
    <ul>
      <li>Loads <code class="language-plaintext highlighter-rouge">configs</code> via <code class="language-plaintext highlighter-rouge">displayConfigs</code> (explained below).</li>
      <li>Creates <code class="language-plaintext highlighter-rouge">configCellsView</code> with a frame that fills <code class="language-plaintext highlighter-rouge">configsView</code> horizontally (using margins) and vertically based on the total height needed for all configs (computed by <code class="language-plaintext highlighter-rouge">RIGConfigCellsView</code> class method).</li>
      <li>Assigns configs to the view, adds it as a subview, and triggers a data reload (likely refreshes the table cells).</li>
    </ul>
  </li>
</ul>

<p>There’s a commented-out call to <code class="language-plaintext highlighter-rouge">updateConfigsViewHeight</code>, which suggests dynamic resizing was considered but disabled—possibly because the cells view auto-sizes or the window is fixed.</p>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">updateConfigsViewHeight</span> <span class="p">{</span>
    <span class="n">CGRect</span> <span class="n">frame</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">configsView</span><span class="p">.</span><span class="n">frame</span><span class="p">;</span>
    <span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">CGRectGetHeight</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">configCellsView</span><span class="p">.</span><span class="n">frame</span><span class="p">);</span>
    <span class="n">self</span><span class="p">.</span><span class="n">configsView</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>Utility to resize <code class="language-plaintext highlighter-rouge">configsView</code> to match the cells view’s height. Not currently used, but could be for auto-growing the window if more configs are added.</li>
</ul>

<h4 id="config-management">Config Management</h4>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">NSMutableArray</span> <span class="o">*</span><span class="p">)</span><span class="n">displayConfigs</span> <span class="p">{</span>
    <span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">configs</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableArray</span> <span class="nf">arrayWithArray</span><span class="p">:[</span><span class="n">RIGSetting</span> <span class="nf">setting</span><span class="p">].</span><span class="n">configs</span><span class="p">];</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">configs</span><span class="p">.</span><span class="n">count</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">RIGConfig</span> <span class="o">*</span><span class="n">config</span> <span class="o">=</span> <span class="p">[[</span><span class="n">RIGConfig</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
        <span class="n">config</span><span class="p">.</span><span class="n">menuTitle</span> <span class="o">=</span> <span class="s">@""</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">lastKey</span> <span class="o">=</span> <span class="s">@""</span><span class="p">;</span>
        <span class="n">config</span><span class="p">.</span><span class="n">pattern</span> <span class="o">=</span> <span class="s">@""</span><span class="p">;</span>
        <span class="p">[</span><span class="n">configs</span> <span class="nf">addObject</span><span class="p">:</span><span class="n">config</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">configs</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>Loads existing configs from the app’s singleton <code class="language-plaintext highlighter-rouge">RIGSetting</code>.</li>
  <li>Pads the array to exactly 10 items with blank <code class="language-plaintext highlighter-rouge">RIGConfig</code> instances. This ensures a consistent UI (e.g., 10 editable rows), even if the user has fewer saved configs. Empty ones are filtered out on save.</li>
</ul>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">reloadConfigs</span> <span class="p">{</span>
    <span class="n">self</span><span class="p">.</span><span class="n">configs</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span> <span class="nf">displayConfigs</span><span class="p">];</span>
    <span class="n">self</span><span class="p">.</span><span class="n">configCellsView</span><span class="p">.</span><span class="n">configs</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">configs</span><span class="p">;</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">configCellsView</span> <span class="nf">reloadData</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>Refreshes the displayed configs from storage and updates the view. Used after resets.</li>
</ul>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">isValidConfigs</span><span class="p">:(</span><span class="n">NSArray</span> <span class="o">*</span><span class="p">)</span><span class="nv">configs</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">RIGConfig</span> <span class="o">*</span><span class="n">config</span> <span class="k">in</span> <span class="n">configs</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">[</span><span class="n">config</span> <span class="nf">isValid</span><span class="p">])</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">NO</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>Iterates over configs and calls <code class="language-plaintext highlighter-rouge">isValid</code> on each (likely checks for non-empty <code class="language-plaintext highlighter-rouge">menuTitle</code> and <code class="language-plaintext highlighter-rouge">pattern</code>). Returns <code class="language-plaintext highlighter-rouge">YES</code> only if all are valid or empty (but see filtering below).</li>
</ul>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="p">)</span><span class="n">filteredConfigs</span> <span class="p">{</span>
    <span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">filtered</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableArray</span> <span class="nf">array</span><span class="p">];</span>
    <span class="n">NSArray</span> <span class="o">*</span><span class="n">configs</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">configCellsView</span><span class="p">.</span><span class="n">configs</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">RIGConfig</span> <span class="o">*</span><span class="n">config</span> <span class="k">in</span> <span class="n">configs</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">menuTitle</span><span class="p">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">config</span><span class="p">.</span><span class="n">lastKey</span><span class="p">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">config</span><span class="p">.</span><span class="n">pattern</span><span class="p">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">[</span><span class="n">filtered</span> <span class="nf">addObject</span><span class="p">:</span><span class="n">config</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">filtered</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>Filters the 10-slot array to include only non-empty configs (based on any field having content). This strips blanks before validation/saving, so <code class="language-plaintext highlighter-rouge">isValidConfigs</code> only checks real entries.</li>
</ul>

<h4 id="action-handlers-ibactions">Action Handlers (IBActions)</h4>

<p>These are connected to buttons in the UI via Interface Builder.</p>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">IBAction</span><span class="p">)</span><span class="nf">saveButtonClcked</span><span class="p">:(</span><span class="n">id</span><span class="p">)</span><span class="nv">sender</span> <span class="p">{</span>
    <span class="n">NSArray</span> <span class="o">*</span><span class="n">configs</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span> <span class="nf">filteredConfigs</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">[</span><span class="n">self</span> <span class="nf">isValidConfigs</span><span class="p">:</span><span class="n">configs</span><span class="p">])</span> <span class="p">{</span>
        <span class="p">[</span><span class="n">RIGUtils</span> <span class="nf">showMessage</span><span class="p">:</span><span class="s">@"Please complete the config, should at least have menuTitle and pattern."</span><span class="p">];</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="p">[</span><span class="n">RIGSetting</span> <span class="nf">setting</span><span class="p">].</span><span class="n">configs</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">configCellsView</span><span class="p">.</span><span class="n">configs</span><span class="p">;</span>
    <span class="p">[</span><span class="n">RIGUtils</span> <span class="nf">showMessage</span><span class="p">:</span><span class="s">@"Save succeed. Will Take effect when reopen Xcode."</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>Save Button</strong>: Filters configs, validates them (error alert if invalid), then saves the full (padded) array back to <code class="language-plaintext highlighter-rouge">RIGSetting</code>. Note: It saves the full 10 slots, but blanks are ignored on load/filter. Shows success message noting a Xcode restart is needed (plugin reload).</li>
</ul>

<p>Typo in method name: “Clcked” should be “Clicked”.</p>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">IBAction</span><span class="p">)</span><span class="nf">clearButtonClicked</span><span class="p">:(</span><span class="n">id</span><span class="p">)</span><span class="nv">sender</span> <span class="p">{</span>
    <span class="n">RIGSetting</span> <span class="o">*</span><span class="n">setting</span> <span class="o">=</span> <span class="p">[</span><span class="n">RIGSetting</span> <span class="nf">settingForGitPath</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">gitRepo</span><span class="p">.</span><span class="n">localPath</span><span class="p">];</span>
    <span class="n">NSString</span> <span class="o">*</span><span class="n">defaultRepo</span> <span class="o">=</span> <span class="n">setting</span><span class="p">.</span><span class="n">defaultRepo</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">defaultRepo</span> <span class="o">==</span> <span class="nb">nil</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">[</span><span class="n">RIGUtils</span> <span class="nf">showMessage</span><span class="p">:</span><span class="s">@"There's no default repo setting."</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">setting</span><span class="p">.</span><span class="n">defaultRepo</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
        <span class="p">[</span><span class="n">RIGUtils</span> <span class="nf">showMessage</span><span class="p">:[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"Succeed to clear current default repo(%@) setting. In the next time to open github, will ask you to select new default repo."</span><span class="p">,</span> <span class="n">defaultRepo</span><span class="p">]];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>Clear Button</strong>: Targets a project-specific setting via <code class="language-plaintext highlighter-rouge">settingForGitPath</code> (assumes <code class="language-plaintext highlighter-rouge">self.gitRepo</code> is available, possibly set elsewhere). Clears the <code class="language-plaintext highlighter-rouge">defaultRepo</code> (e.g., a fallback GitHub URL). Alerts if none set, or confirms clearance with details.</li>
</ul>

<p>Note: <code class="language-plaintext highlighter-rouge">self.gitRepo</code> isn’t declared here—likely a property from a superclass or category.</p>

<div class="language-objectivec highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">IBAction</span><span class="p">)</span><span class="nf">resetMenusButtonClicked</span><span class="p">:(</span><span class="n">id</span><span class="p">)</span><span class="nv">sender</span> <span class="p">{</span>
    <span class="p">[[</span><span class="n">RIGSetting</span> <span class="nf">setting</span><span class="p">]</span> <span class="nf">setConfigs</span><span class="p">:[</span><span class="n">RIGSetting</span> <span class="nf">defaultConfigs</span><span class="p">]];</span>
    <span class="p">[</span><span class="n">self</span> <span class="nf">reloadConfigs</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>Reset Button</strong>: Overwrites configs with app defaults (from <code class="language-plaintext highlighter-rouge">RIGSetting</code>), then reloads the UI. No confirmation dialog—direct action.</li>
</ul>

<h3 id="potential-improvementsnotes">Potential Improvements/Notes</h3>

<ul>
  <li><strong>UI Flow</strong>: The window is non-modal (no explicit show calls here), so it’s probably presented via <code class="language-plaintext highlighter-rouge">[controller showWindow:sender]</code>. Changes require Xcode restart due to plugin nature.</li>
  <li><strong>Validation</strong>: Relies on <code class="language-plaintext highlighter-rouge">RIGConfig.isValid</code>, which isn’t shown—likely ensures required fields like title and pattern are non-empty.</li>
  <li><strong>Edge Cases</strong>: Padding to 10 assumes a fixed UI; dynamic sizing could use the commented <code class="language-plaintext highlighter-rouge">updateConfigsViewHeight</code>. No undo/confirm for reset/clear.</li>
  <li><strong>Dependencies</strong>: Heavily tied to app models (<code class="language-plaintext highlighter-rouge">RIGConfig</code>, <code class="language-plaintext highlighter-rouge">RIGSetting</code>)—full understanding needs those headers.</li>
</ul>

<p>This code is from 2015, so it uses older Cocoa patterns (e.g., manual frame setup over Auto Layout). For modern SwiftUI, it’d be a <code class="language-plaintext highlighter-rouge">View</code> with <code class="language-plaintext highlighter-rouge">@State</code> for configs.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">x-ai/grok-4-fast</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
