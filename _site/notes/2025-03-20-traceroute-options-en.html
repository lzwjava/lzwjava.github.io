<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Traceroute Options</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Traceroute Options | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Traceroute Options" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-03-20-traceroute-options-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-03-20-traceroute-options-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Traceroute Options" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Traceroute Options","url":"https://lzwjava.github.io/notes/2025-03-20-traceroute-options-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=8d22dca821f2b0135cd0964fd149518dac4c5463">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=8d22dca821f2b0135cd0964fd149518dac4c5463" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Traceroute Options | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-03-20-traceroute-options-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-03-20-traceroute-options-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.09</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/traceroute-options-en" selected>English</option>
        <option value="/traceroute-options-zh" >中文</option>
        <option value="/traceroute-options-ja" >日本語</option>
        <option value="/traceroute-options-es" >Español</option>
        <option value="/traceroute-options-hi" >हिंदी</option>
        <option value="/traceroute-options-fr" >Français</option>
        <option value="/traceroute-options-de" >Deutsch</option>
        <option value="/traceroute-options-ar" >العربية</option>
        <option value="/traceroute-options-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Traceroute is a powerful tool for diagnosing network paths, and while its basic use is straightforward, it offers advanced options to customize its behavior. Below, I’ll outline common options and explain how to use traceroute in advanced ways, focusing on practical examples. The exact options depend on your operating system (e.g., Windows uses <code class="language-plaintext highlighter-rouge">tracert</code>, while Linux/macOS use <code class="language-plaintext highlighter-rouge">traceroute</code>), but I’ll cover the most widely applicable ones.</p>

<h3 id="basic-usage">Basic Usage</h3>
<ul>
  <li><strong>Linux/macOS</strong>: <code class="language-plaintext highlighter-rouge">traceroute [destination]</code>
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">traceroute google.com</code></li>
    </ul>
  </li>
  <li><strong>Windows</strong>: <code class="language-plaintext highlighter-rouge">tracert [destination]</code>
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">tracert google.com</code></li>
    </ul>
  </li>
</ul>

<p>This shows the hops (routers) between you and the target, along with round-trip times (RTT) for each.</p>

<hr />

<h3 id="common-traceroute-options">Common Traceroute Options</h3>
<p>Here’s a rundown of key options, primarily for the <code class="language-plaintext highlighter-rouge">traceroute</code> command on Unix-like systems (Linux/macOS). Windows <code class="language-plaintext highlighter-rouge">tracert</code> has fewer options but shares some concepts.</p>

<ol>
  <li><strong><code class="language-plaintext highlighter-rouge">-n</code> (No DNS Lookup)</strong>
    <ul>
      <li>Skips resolving IP addresses to hostnames, speeding up the process and showing raw IPs.</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -n google.com</code></li>
      <li>Why: Useful when DNS resolution is slow or you only care about IPs.</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">-m [max_hops]</code> (Set Maximum Hops)</strong>
    <ul>
      <li>Limits how many hops traceroute checks before giving up (default is often 30).</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -m 15 google.com</code></li>
      <li>Why: Prevents endless runs if the target is unreachable or far away.</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">-q [nqueries]</code> (Number of Queries per Hop)</strong>
    <ul>
      <li>Sets how many packets are sent per hop (default is 3). Each query shows a latency value.</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -q 1 google.com</code></li>
      <li>Why: Reduces output clutter or speeds up the trace; increase it for more reliable latency data.</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">-w [waittime]</code> (Wait Time per Hop)</strong>
    <ul>
      <li>Sets how long (in seconds) to wait for a response before marking a hop as timed out.</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -w 2 google.com</code></li>
      <li>Why: Adjusts for slow networks or reduces delays on fast ones.</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">-p [port]</code> (Specify Port, UDP Mode)</strong>
    <ul>
      <li>Sets the destination port for UDP-based traceroute (default is often 33434+).</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -p 53 google.com</code></li>
      <li>Why: Targets specific services (e.g., DNS on port 53) or bypasses filters blocking ICMP.</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">-I</code> (Use ICMP Instead of UDP)</strong>
    <ul>
      <li>Switches from UDP (default on many systems) to ICMP Echo Request packets.</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -I google.com</code></li>
      <li>Why: Some networks block UDP but allow ICMP, improving visibility.</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">-T</code> (TCP Mode)</strong>
    <ul>
      <li>Uses TCP packets instead of UDP or ICMP, often with SYN packets.</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -T -p 80 google.com</code></li>
      <li>Why: Bypasses firewalls that block ICMP/UDP; great for tracing to web servers (port 80 = HTTP).</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">-f [first_ttl]</code> (Start at Specific TTL)</strong>
    <ul>
      <li>Sets the initial TTL value, skipping earlier hops.</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -f 5 google.com</code></li>
      <li>Why: Focuses on a specific part of the path, e.g., beyond your local network.</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">-g [gateway]</code> (Loose Source Routing)</strong>
    <ul>
      <li>Forces packets through a specified gateway (if supported by the network).</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -g 192.168.1.1 google.com</code></li>
      <li>Why: Tests specific routes or bypasses default routing.</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">-4</code> or <code class="language-plaintext highlighter-rouge">-6</code> (Force IPv4 or IPv6)</strong>
    <ul>
      <li>Restricts traceroute to IPv4 or IPv6.</li>
      <li>Use: <code class="language-plaintext highlighter-rouge">traceroute -6 google.com</code></li>
      <li>Why: Ensures you’re testing a specific protocol, useful for dual-stack networks.</li>
    </ul>
  </li>
</ol>

<hr />

<h3 id="windows-tracert-options">Windows <code class="language-plaintext highlighter-rouge">tracert</code> Options</h3>
<p>Windows has fewer options, but here are the main ones:</p>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">-d</code></strong>: No DNS lookups (like <code class="language-plaintext highlighter-rouge">-n</code>).</li>
  <li><strong><code class="language-plaintext highlighter-rouge">-h [max_hops]</code></strong>: Max hops (like <code class="language-plaintext highlighter-rouge">-m</code>).</li>
  <li><strong><code class="language-plaintext highlighter-rouge">-w [timeout]</code></strong>: Wait time in milliseconds (like <code class="language-plaintext highlighter-rouge">-w</code>).</li>
  <li>Example: <code class="language-plaintext highlighter-rouge">tracert -d -h 20 google.com</code></li>
</ul>

<hr />

<h3 id="advanced-usage-examples">Advanced Usage Examples</h3>
<p>Here’s how to combine options for specific purposes:</p>

<ol>
  <li><strong>Diagnose a Slow Connection</strong>
    <ul>
      <li>Goal: Pinpoint where latency spikes.</li>
      <li>Command: <code class="language-plaintext highlighter-rouge">traceroute -I -q 5 -w 1 google.com</code></li>
      <li>Why: ICMP for reliability, 5 queries for better latency stats, 1-second timeout to move quickly.</li>
    </ul>
  </li>
  <li><strong>Bypass Firewall Restrictions</strong>
    <ul>
      <li>Goal: Trace to a web server blocked by ICMP filters.</li>
      <li>Command: <code class="language-plaintext highlighter-rouge">traceroute -T -p 443 google.com</code></li>
      <li>Why: TCP on port 443 (HTTPS) mimics legitimate traffic, often allowed through firewalls.</li>
    </ul>
  </li>
  <li><strong>Test Beyond Your ISP</strong>
    <ul>
      <li>Goal: Skip local hops to focus on external routing.</li>
      <li>Command: <code class="language-plaintext highlighter-rouge">traceroute -f 3 -m 10 google.com</code></li>
      <li>Why: Starts at hop 3 (past your router/ISP), limits to 10 hops total.</li>
    </ul>
  </li>
  <li><strong>Compare IPv4 vs. IPv6 Paths</strong>
    <ul>
      <li>Goal: See if protocol choice affects routing.</li>
      <li>Commands:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">traceroute -4 google.com</code></li>
          <li><code class="language-plaintext highlighter-rouge">traceroute -6 google.com</code></li>
        </ul>
      </li>
      <li>Why: Identifies differences in network paths or performance.</li>
    </ul>
  </li>
  <li><strong>Silent, Fast Trace for Scripting</strong>
    <ul>
      <li>Goal: Quick output for automation.</li>
      <li>Command: <code class="language-plaintext highlighter-rouge">traceroute -n -q 1 -w 1 google.com &gt; output.txt</code></li>
      <li>Why: No DNS, one query, short timeout, redirected to a file.</li>
    </ul>
  </li>
</ol>

<hr />

<h3 id="tips-for-advanced-use">Tips for Advanced Use</h3>
<ul>
  <li><strong>Combine with Other Tools</strong>: Pair traceroute with <code class="language-plaintext highlighter-rouge">ping</code> (for latency) or <code class="language-plaintext highlighter-rouge">mtr</code> (real-time traceroute) for deeper insights.</li>
  <li><strong>Understand Network Context</strong>: Firewalls, NAT, or VPNs can obscure hops (showing asterisks <code class="language-plaintext highlighter-rouge">*</code>)—adjust protocols (ICMP/TCP) to adapt.</li>
  <li><strong>Root Privileges</strong>: On Unix systems, some options (e.g., TCP mode) may require <code class="language-plaintext highlighter-rouge">sudo</code> for raw socket access: <code class="language-plaintext highlighter-rouge">sudo traceroute -T google.com</code>.</li>
</ul>

<p>Traceroute’s power lies in its flexibility. By tweaking options, you can tailor it to troubleshoot specific network issues, bypass restrictions, or analyze routing behavior in detail. Let me know if you want to dive deeper into a particular scenario!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
