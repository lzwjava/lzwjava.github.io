<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Analyze Spring Boot Projects</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Analyze Spring Boot Projects | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Analyze Spring Boot Projects" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-02-25-analyze-spring-boot-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-02-25-analyze-spring-boot-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Analyze Spring Boot Projects" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Analyze Spring Boot Projects","url":"https://lzwjava.github.io/notes/2025-02-25-analyze-spring-boot-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=bca2a61349187d70a26fdf0e08ced9252ac341f6">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=bca2a61349187d70a26fdf0e08ced9252ac341f6" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Analyze Spring Boot Projects | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-02-25-analyze-spring-boot-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-02-25-analyze-spring-boot-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/analyze-spring-boot-en" selected>English</option>
        <option value="/analyze-spring-boot-zh" >中文</option>
        <option value="/analyze-spring-boot-ja" >日本語</option>
        <option value="/analyze-spring-boot-es" >Español</option>
        <option value="/analyze-spring-boot-hi" >हिंदी</option>
        <option value="/analyze-spring-boot-fr" >Français</option>
        <option value="/analyze-spring-boot-de" >Deutsch</option>
        <option value="/analyze-spring-boot-ar" >العربية</option>
        <option value="/analyze-spring-boot-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>To analyze a Spring Boot project (which may consist of multiple modules) and extract all APIs defined with <code class="language-plaintext highlighter-rouge">@GetMapping</code> or <code class="language-plaintext highlighter-rouge">@PostMapping</code> annotations, we need to traverse the project directory, identify controller classes, extract the API paths, and print them in a specified format. Below is a complete Python script that accomplishes this task, inspired by the structure of the provided code but tailored to the new requirements. The output will list each controller with its associated GET and POST paths in the format “XXController: get path post path”.</p>

<h3 id="approach">Approach</h3>

<ol>
  <li><strong>Traverse the Directory</strong>: Recursively find all <code class="language-plaintext highlighter-rouge">.java</code> files in the project directory and its subdirectories.</li>
  <li><strong>Identify Controllers</strong>: Check each Java file for <code class="language-plaintext highlighter-rouge">@Controller</code> or <code class="language-plaintext highlighter-rouge">@RestController</code> annotations to confirm it’s a controller class.</li>
  <li><strong>Extract Class-Level Paths</strong>: Look for <code class="language-plaintext highlighter-rouge">@RequestMapping</code> annotations at the class level to determine base paths.</li>
  <li><strong>Extract Method-Level APIs</strong>: Find methods annotated with <code class="language-plaintext highlighter-rouge">@GetMapping</code> or <code class="language-plaintext highlighter-rouge">@PostMapping</code>, extract their paths, and combine them with base paths if present.</li>
  <li><strong>Organize and Print</strong>: Collect GET and POST paths per controller and print them in the specified format.</li>
</ol>

<h3 id="python-script">Python Script</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">find_java_files</span><span class="p">(</span><span class="n">root_dir</span><span class="p">):</span>
    <span class="s">"""
    Recursively find all .java files in the given directory and its subdirectories.
    
    Args:
        root_dir (str): The root directory to start the search from.
    
    Yields:
        str: The full path to each .java file.
    """</span>
    <span class="k">for</span> <span class="n">dirpath</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="p">.</span><span class="n">walk</span><span class="p">(</span><span class="n">root_dir</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">filename</span><span class="p">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">'.java'</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">extract_paths</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">annotation_type</span><span class="p">):</span>
    <span class="s">"""
    Extract path values from a Spring annotation (@GetMapping, @PostMapping, or @RequestMapping).
    
    Args:
        line (str): The line containing the annotation.
        annotation_type (str): The type of annotation ('GetMapping', 'PostMapping', or 'RequestMapping').
    
    Returns:
        list: A list of path strings extracted from the annotation.
    """</span>
    <span class="k">if</span> <span class="n">annotation_type</span> <span class="ow">in</span> <span class="p">[</span><span class="s">'GetMapping'</span><span class="p">,</span> <span class="s">'PostMapping'</span><span class="p">]:</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="sa">rf</span><span class="s">'@</span><span class="si">{</span><span class="n">annotation_type</span><span class="si">}</span><span class="s">\\((.*)\\)'</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">match</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># Extract all string literals within quotes
</span>            <span class="n">paths</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s">'"([^"]*)"'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">paths</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">elif</span> <span class="n">annotation_type</span> <span class="o">==</span> <span class="s">'RequestMapping'</span><span class="p">:</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s">'@RequestMapping\\((.*)\\)'</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">match</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># Look for 'value' or 'path' attribute
</span>            <span class="n">value_match</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s">'(value|path)\s*=\s*({[^}]*}|"[^"]*")'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value_match</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value_match</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">value</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'{'</span><span class="p">):</span>
                    <span class="n">paths</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s">'"([^"]*)"'</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">.</span><span class="n">strip</span><span class="p">(</span><span class="s">'"'</span><span class="p">)]</span>
                <span class="k">return</span> <span class="n">paths</span>
            <span class="c1"># If no 'value' or 'path', assume direct path specification
</span>            <span class="n">paths</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s">'"([^"]*)"'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">paths</span>
        <span class="k">return</span> <span class="p">[]</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="c1"># Parse command-line arguments
</span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Usage: python script.py &lt;root_directory&gt;"</span><span class="p">)</span>
        <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="n">root_dir</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">root_dir</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"[ERROR] The specified path is not a directory: </span><span class="si">{</span><span class="n">root_dir</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"[INFO] Starting analysis of directory: </span><span class="si">{</span><span class="n">root_dir</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    
    <span class="c1"># Initialize a dictionary to store controller mappings
</span>    <span class="n">controllers</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">{</span><span class="s">'GET'</span><span class="p">:</span> <span class="p">[],</span> <span class="s">'POST'</span><span class="p">:</span> <span class="p">[]})</span>
    <span class="n">total_files</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">error_files</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="c1"># Process all Java files
</span>    <span class="k">for</span> <span class="n">java_file</span> <span class="ow">in</span> <span class="n">find_java_files</span><span class="p">(</span><span class="n">root_dir</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">java_file</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
            
            <span class="c1"># Check if the file is a controller
</span>            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="s">'@Controller'</span> <span class="ow">in</span> <span class="n">line</span> <span class="ow">or</span> <span class="s">'@RestController'</span> <span class="ow">in</span> <span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">):</span>
                <span class="n">controller_name</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">java_file</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s">'.java'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
                
                <span class="c1"># Find the class declaration line to separate class-level and method-level annotations
</span>                <span class="n">class_line_index</span> <span class="o">=</span> <span class="bp">None</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s">'public\s+(class|abstract\s+class|interface)\s+\w+'</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
                        <span class="n">class_line_index</span> <span class="o">=</span> <span class="n">i</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">class_line_index</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">continue</span>
                
                <span class="c1"># Extract class-level @RequestMapping as base paths
</span>                <span class="n">base_paths</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[:</span><span class="n">class_line_index</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s">'\s*@RequestMapping'</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
                        <span class="n">base_paths</span> <span class="o">=</span> <span class="n">extract_paths</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="s">'RequestMapping'</span><span class="p">)</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">base_paths</span><span class="p">:</span>
                    <span class="n">base_paths</span> <span class="o">=</span> <span class="p">[</span><span class="s">''</span><span class="p">]</span>
                
                <span class="c1"># Extract method-level @GetMapping and @PostMapping
</span>                <span class="n">get_paths</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">post_paths</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="n">class_line_index</span><span class="p">:]:</span>
                    <span class="k">if</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s">'\s*@GetMapping'</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
                        <span class="n">paths</span> <span class="o">=</span> <span class="n">extract_paths</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="s">'GetMapping'</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="n">base_paths</span><span class="p">:</span>
                            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
                                <span class="n">full_path</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="n">path</span>
                                <span class="n">get_paths</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_path</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s">'\s*@PostMapping'</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
                        <span class="n">paths</span> <span class="o">=</span> <span class="n">extract_paths</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="s">'PostMapping'</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="n">base_paths</span><span class="p">:</span>
                            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
                                <span class="n">full_path</span> <span class="o">=</span> <span class="n">base</span> <span class="o">+</span> <span class="n">path</span>
                                <span class="n">post_paths</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_path</span><span class="p">)</span>
                
                <span class="c1"># Store unique paths
</span>                <span class="n">get_paths</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">get_paths</span><span class="p">)))</span>
                <span class="n">post_paths</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">post_paths</span><span class="p">)))</span>
                
                <span class="k">if</span> <span class="n">get_paths</span> <span class="ow">or</span> <span class="n">post_paths</span><span class="p">:</span>
                    <span class="n">controllers</span><span class="p">[</span><span class="n">controller_name</span><span class="p">][</span><span class="s">'GET'</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_paths</span>
                    <span class="n">controllers</span><span class="p">[</span><span class="n">controller_name</span><span class="p">][</span><span class="s">'POST'</span><span class="p">]</span> <span class="o">=</span> <span class="n">post_paths</span>
            
            <span class="n">total_files</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"[ERROR] Could not read file </span><span class="si">{</span><span class="n">java_file</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
            <span class="n">error_files</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="c1"># Print summary
</span>    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"[INFO] Total Java files attempted: </span><span class="si">{</span><span class="n">total_files</span> <span class="o">+</span> <span class="n">error_files</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"[INFO] Successfully processed: </span><span class="si">{</span><span class="n">total_files</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"[INFO] Files with errors: </span><span class="si">{</span><span class="n">error_files</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"[INFO] Total controllers found: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">controllers</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    
    <span class="c1"># Print results in the specified format
</span>    <span class="k">for</span> <span class="n">controller</span><span class="p">,</span> <span class="n">mappings</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">controllers</span><span class="p">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">controller</span><span class="si">}</span><span class="s">:"</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">mappings</span><span class="p">[</span><span class="s">'GET'</span><span class="p">]:</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"get </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">mappings</span><span class="p">[</span><span class="s">'POST'</span><span class="p">]:</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"post </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="explanation">Explanation</h3>

<ul>
  <li><strong>Imports</strong>: We use <code class="language-plaintext highlighter-rouge">os</code> for directory traversal, <code class="language-plaintext highlighter-rouge">sys</code> for command-line arguments, <code class="language-plaintext highlighter-rouge">re</code> for regular expressions, and <code class="language-plaintext highlighter-rouge">defaultdict</code> to organize controller data.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">find_java_files</code></strong>: This function recursively yields all <code class="language-plaintext highlighter-rouge">.java</code> files in the project directory, handling multiple modules naturally via <code class="language-plaintext highlighter-rouge">os.walk</code>.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">extract_paths</code></strong>: This function parses <code class="language-plaintext highlighter-rouge">@GetMapping</code>, <code class="language-plaintext highlighter-rouge">@PostMapping</code>, or <code class="language-plaintext highlighter-rouge">@RequestMapping</code> annotations to extract path values. It handles:
    <ul>
      <li>Single paths (e.g., <code class="language-plaintext highlighter-rouge">@GetMapping("/path")</code>).</li>
      <li>Multiple paths (e.g., <code class="language-plaintext highlighter-rouge">@GetMapping({"/path1", "/path2"})</code>).</li>
      <li>Named attributes (e.g., <code class="language-plaintext highlighter-rouge">@RequestMapping(value = "/path")</code>).</li>
    </ul>
  </li>
  <li><strong>Main Logic</strong>:
    <ul>
      <li><strong>Command-Line Handling</strong>: Takes a root directory as input, similar to the provided script.</li>
      <li><strong>Controller Detection</strong>: Checks for <code class="language-plaintext highlighter-rouge">@Controller</code> or <code class="language-plaintext highlighter-rouge">@RestController</code> in the file content.</li>
      <li><strong>Base Paths</strong>: Extracts class-level <code class="language-plaintext highlighter-rouge">@RequestMapping</code> paths before the class declaration.</li>
      <li><strong>API Extraction</strong>: Processes lines after the class declaration for <code class="language-plaintext highlighter-rouge">@GetMapping</code> and <code class="language-plaintext highlighter-rouge">@PostMapping</code>, combining paths with base paths.</li>
      <li><strong>Output</strong>: Prints each controller with its GET and POST paths, one per line, prefixed with “get” or “post”.</li>
    </ul>
  </li>
  <li><strong>Error Handling</strong>: Catches exceptions during file reading and reports them, mirroring the robustness of the provided code.</li>
</ul>

<h3 id="sample-output">Sample Output</h3>

<p>For a Spring Boot project with a file <code class="language-plaintext highlighter-rouge">UserController.java</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/users"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserController</span> <span class="o">{</span>
    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/all"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;?&gt;</span> <span class="n">getAllUsers</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>

    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/create"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;?&gt;</span> <span class="n">createUser</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Running <code class="language-plaintext highlighter-rouge">python script.py /path/to/project</code> might produce:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[INFO] Starting analysis of directory: /path/to/project
[INFO] Total Java files attempted: 10
[INFO] Successfully processed: 10
[INFO] Files with errors: 0
[INFO] Total controllers found: 1
UserController:
get /users/all
post /users/create
</code></pre></div></div>

<h3 id="notes">Notes</h3>

<ul>
  <li><strong>Simplifications</strong>: The script assumes annotations are on single lines and paths are string literals without complex expressions. For production use, a Java parser might be more robust.</li>
  <li><strong>GET and POST Only</strong>: As requested, it focuses on <code class="language-plaintext highlighter-rouge">@GetMapping</code> and <code class="language-plaintext highlighter-rouge">@PostMapping</code>, ignoring other methods like PUT or DELETE (though the thinking trace considered <code class="language-plaintext highlighter-rouge">@RequestMapping</code> with methods).</li>
  <li><strong>Path Concatenation</strong>: Combines class-level and method-level paths directly (e.g., <code class="language-plaintext highlighter-rouge">/users</code> + <code class="language-plaintext highlighter-rouge">/all</code> = <code class="language-plaintext highlighter-rouge">/users/all</code>). Spring normalizes multiple slashes, so this is sufficient for display purposes.</li>
</ul>

<p>This script meets the query’s requirements while maintaining a structure similar to the provided code, ensuring familiarity and reliability.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
