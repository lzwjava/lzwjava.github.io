<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Fixing 'Unsupported OpenJDK' Error in VisualVM</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Fixing ‘Unsupported OpenJDK’ Error in VisualVM | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Fixing ‘Unsupported OpenJDK’ Error in VisualVM" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-06-27-jdk-version-error-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-06-27-jdk-version-error-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Fixing ‘Unsupported OpenJDK’ Error in VisualVM" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Fixing ‘Unsupported OpenJDK’ Error in VisualVM","url":"https://lzwjava.github.io/notes/2025-06-27-jdk-version-error-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=3add8d1f96d9e87bdabda9a6b8c809ce7c948d74">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=3add8d1f96d9e87bdabda9a6b8c809ce7c948d74" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Fixing 'Unsupported OpenJDK' Error in VisualVM | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-06-27-jdk-version-error-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-06-27-jdk-version-error-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/jdk-version-error-en" selected>English</option>
        <option value="/jdk-version-error-zh" >中文</option>
        <option value="/jdk-version-error-ja" >日本語</option>
        <option value="/jdk-version-error-es" >Español</option>
        <option value="/jdk-version-error-hi" >हिंदी</option>
        <option value="/jdk-version-error-fr" >Français</option>
        <option value="/jdk-version-error-de" >Deutsch</option>
        <option value="/jdk-version-error-ar" >العربية</option>
        <option value="/jdk-version-error-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>The error “Version of OpenJDK is not supported. Please use the default-jdk” when running VisualVM indicates that the Java Development Kit (JDK) version being used is not compatible with VisualVM. This issue is common when VisualVM cannot find a supported JDK or when the installed JDK is not properly configured. Below are steps to resolve this issue, based on the context of your setup (YourKit Java Profiler 2025.3 and VisualVM on what appears to be a Linux system).</p>

<h3 id="steps-to-fix-the-issue">Steps to Fix the Issue</h3>

<ol>
  <li><strong>Check Your Current Java Version</strong>
Run the following command to verify the Java version installed:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java <span class="nt">-version</span>
</code></pre></div>    </div>
    <p>This will display the OpenJDK version, such as:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openjdk version "17.0.9" 2023-10-17
OpenJDK Runtime Environment (build 17.0.9+9-Ubuntu-122.04)
OpenJDK 64-Bit Server VM (build 17.0.9+9-Ubuntu-122.04, mixed mode, sharing)
</code></pre></div>    </div>
    <p>VisualVM typically requires a JDK (not just a JRE) and supports Oracle JDK 8+ or compatible OpenJDK versions. Ensure you have a supported JDK installed.<a href="https://stackoverflow.com/questions/78019430/visualvm-version-of-openjdk-is-not-supported"></a><a href="https://visualvm.github.io/troubleshooting.html"></a></p>
  </li>
  <li><strong>Install the Default JDK</strong>
The error suggests using the <code class="language-plaintext highlighter-rouge">default-jdk</code>. On Ubuntu/Debian, you can install it with:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>default-jdk
</code></pre></div>    </div>
    <p>This typically installs a stable, supported OpenJDK version (e.g., OpenJDK 11 or 17). After installation, verify the version again with <code class="language-plaintext highlighter-rouge">java -version</code>.<a href="https://stackoverflow.com/questions/78019430/visualvm-version-of-openjdk-is-not-supported"></a><a href="https://askubuntu.com/questions/1504020/visualvm-version-of-openjdk-is-not-supported"></a></p>
  </li>
  <li><strong>Set JAVA_HOME Environment Variable</strong>
VisualVM relies on the <code class="language-plaintext highlighter-rouge">JAVA_HOME</code> environment variable to locate the JDK. Check if it’s set:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="nv">$JAVA_HOME</span>
</code></pre></div>    </div>
    <p>If it’s not set or points to an unsupported JDK, set it to the correct JDK path. For example, if <code class="language-plaintext highlighter-rouge">default-jdk</code> installed OpenJDK 17, the path might be <code class="language-plaintext highlighter-rouge">/usr/lib/jvm/java-17-openjdk-amd64</code>. Set it with:</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">JAVA_HOME</span><span class="o">=</span>/usr/lib/jvm/java-17-openjdk-amd64
</code></pre></div>    </div>
    <p>To make this permanent, add the line to your <code class="language-plaintext highlighter-rouge">~/.bashrc</code> or <code class="language-plaintext highlighter-rouge">~/.zshrc</code>:</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
<span class="nb">source</span> ~/.bashrc
</code></pre></div>    </div>
    <p>Replace the path with the actual JDK path on your system (use <code class="language-plaintext highlighter-rouge">update-alternatives --list java</code> to find it).<a href="https://stackoverflow.com/questions/78019430/visualvm-version-of-openjdk-is-not-supported"></a><a href="https://github.com/oracle/visualvm/issues/558"></a></p>
  </li>
  <li><strong>Specify JDK Path for VisualVM</strong>
If setting <code class="language-plaintext highlighter-rouge">JAVA_HOME</code> doesn’t resolve the issue, you can explicitly specify the JDK path when launching VisualVM:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/bin/YourKit-JavaProfiler-2025.3/bin/visualvm <span class="nt">--jdkhome</span> /usr/lib/jvm/java-17-openjdk-amd64
</code></pre></div>    </div>
    <p>Replace <code class="language-plaintext highlighter-rouge">/usr/lib/jvm/java-17-openjdk-amd64</code> with the path to your JDK. This ensures VisualVM uses the specified JDK.<a href="https://visualvm.github.io/download.html"></a><a href="https://notepad.onghu.com/2021/solve-visualvm-does-not-start-on-windows-openjdk/"></a></p>
  </li>
  <li><strong>Install a Compatible JDK</strong>
If the <code class="language-plaintext highlighter-rouge">default-jdk</code> is still incompatible, consider installing a specific JDK version known to work with VisualVM, such as OpenJDK 11 or Oracle JDK 8+:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>openjdk-11-jdk
</code></pre></div>    </div>
    <p>Then, update <code class="language-plaintext highlighter-rouge">JAVA_HOME</code> or use the <code class="language-plaintext highlighter-rouge">--jdkhome</code> option as described above.<a href="https://stackoverflow.com/questions/78019430/visualvm-version-of-openjdk-is-not-supported"></a></p>
  </li>
  <li><strong>Check VisualVM Installation</strong>
Ensure VisualVM is correctly installed. The error suggests you’re running VisualVM from the YourKit Java Profiler directory (<code class="language-plaintext highlighter-rouge">~/bin/YourKit-JavaProfiler-2025.3/bin</code>). This is unusual, as VisualVM is typically a standalone tool or bundled with a JDK. Verify that VisualVM is not corrupted:
    <ul>
      <li>Download the latest VisualVM release from <code class="language-plaintext highlighter-rouge">visualvm.github.io/download.html</code> (e.g., VisualVM 2.2, released April 22, 2025, supports JDK 24).<a href="https://visualvm.github.io/relnotes.html"></a><a href="https://visualvm.github.io/"></a></li>
      <li>Unzip it to a new directory and run it:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unzip visualvm_22.zip
<span class="nb">cd </span>visualvm_22/bin
./visualvm <span class="nt">--jdkhome</span> /usr/lib/jvm/java-17-openjdk-amd64
</code></pre></div>        </div>
        <p>Avoid unzipping over an existing VisualVM installation, as this can cause issues.<a href="https://visualvm.github.io/troubleshooting.html"></a></p>
      </li>
    </ul>
  </li>
  <li><strong>Check for Multiple Java Installations</strong>
Multiple Java versions can cause conflicts. List all installed Java versions:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>update-alternatives <span class="nt">--list</span> java
</code></pre></div>    </div>
    <p>If multiple versions are listed, set the desired one as default:</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>update-alternatives <span class="nt">--config</span> java
</code></pre></div>    </div>
    <p>Select the number corresponding to the compatible JDK (e.g., OpenJDK 11 or 17).<a href="https://askubuntu.com/questions/1504020/visualvm-version-of-openjdk-is-not-supported"></a></p>
  </li>
  <li><strong>Verify VisualVM Dependencies</strong>
VisualVM requires <code class="language-plaintext highlighter-rouge">libnb-platform18-java</code> and <code class="language-plaintext highlighter-rouge">libvisualvm-jni</code>. Ensure these are installed:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>libnb-platform18-java libvisualvm-jni
</code></pre></div>    </div>
    <p>This is particularly relevant if you installed VisualVM via <code class="language-plaintext highlighter-rouge">apt</code>.<a href="https://askubuntu.com/questions/1504020/visualvm-version-of-openjdk-is-not-supported"></a></p>
  </li>
  <li><strong>Bypass OpenJDK Restrictions (Optional)</strong>
If you’re using an unsupported OpenJDK build (e.g., IcedTea or AdoptOpenJDK), profiling features may be limited. You can bypass some restrictions by adding a command-line argument:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./visualvm <span class="nt">--jdkhome</span> /usr/lib/jvm/java-17-openjdk-amd64 <span class="nt">-J-Dorg</span>.graalvm.visualvm.profiler.SupportAllVMs<span class="o">=</span><span class="nb">true</span>
</code></pre></div>    </div>
    <p>This enables profiling for unsupported JVMs, though it’s not guaranteed to work perfectly.<a href="https://github.com/oracle/visualvm/issues/143"></a></p>
  </li>
  <li><strong>Check YourKit and VisualVM Compatibility</strong>
Since you’re running VisualVM from the YourKit Java Profiler directory, ensure YourKit’s environment isn’t interfering. YourKit Java Profiler 2025.3 may bundle a specific VisualVM version or configuration. Check YourKit’s documentation or contact <code class="language-plaintext highlighter-rouge">support@yourkit.com</code> to confirm compatibility with your JDK. Alternatively, try running VisualVM independently (downloaded separately) to isolate the issue.<a href="https://www.yourkit.com/changes/"></a></li>
</ol>

<h3 id="additional-notes">Additional Notes</h3>
<ul>
  <li><strong>YourKit Context</strong>: The error doesn’t directly relate to YourKit Java Profiler, but running VisualVM from YourKit’s directory suggests integration. YourKit supports Java 7–15 and later versions with EAP builds, so ensure your JDK is compatible with both tools if they’re used together.<a href="https://www.yourkit.com/forum/viewtopic.php?t=41723"></a><a href="https://www.yourkit.com/forum/viewtopic.php?t=40299"></a></li>
  <li><strong>Log Files</strong>: Check VisualVM logs for more details. Logs are typically in <code class="language-plaintext highlighter-rouge">~/.visualvm/&lt;version&gt;/var/log</code>. For YourKit, check <code class="language-plaintext highlighter-rouge">~/.yjp/log/</code> for profiler agent logs. If issues persist, send logs to <code class="language-plaintext highlighter-rouge">support@yourkit.com</code>.<a href="https://stackoverflow.com/questions/70211315/java-17-and-yourkit-2021-11"></a><a href="https://www.yourkit.com/forum/viewtopic.php?t=40299"></a></li>
  <li><strong>Alternative</strong>: If VisualVM continues to fail, consider using YourKit’s built-in profiling tools or another profiler like JProfiler or Async Profiler, which may have better compatibility with your setup.<a href="https://digma.ai/9-best-java-profilers-to-use-in-2024/"></a><a href="https://bell-sw.com/blog/a-guide-to-java-profiling-tools-techniques-best-practices/"></a></li>
</ul>

<h3 id="if-the-issue-persists">If the Issue Persists</h3>
<p>If none of the above resolves the issue, please provide:</p>
<ul>
  <li>Output of <code class="language-plaintext highlighter-rouge">java -version</code> and <code class="language-plaintext highlighter-rouge">echo $JAVA_HOME</code>.</li>
  <li>Output of <code class="language-plaintext highlighter-rouge">update-alternatives --list java</code>.</li>
  <li>The exact VisualVM version (check via <code class="language-plaintext highlighter-rouge">visualvm --help</code> or the download page).</li>
  <li>Whether you’re using VisualVM bundled with YourKit or a standalone installation.</li>
</ul>

<p>This will help pinpoint the issue further. You can also report the issue to the VisualVM GitHub page (<code class="language-plaintext highlighter-rouge">https://github.com/oracle/visualvm</code>) or YourKit support for specific guidance.<a href="https://github.com/oracle/visualvm/issues/558"></a></p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
