<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Pili Streaming Cloud Library for PHP</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Pili Streaming Cloud Library for PHP | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Pili Streaming Cloud Library for PHP" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-03-04-php-pili-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-03-04-php-pili-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Pili Streaming Cloud Library for PHP" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Pili Streaming Cloud Library for PHP","url":"https://lzwjava.github.io/notes/2025-03-04-php-pili-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=091eb0f28e05039d5bccc16f85a6f837841dfc28">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=091eb0f28e05039d5bccc16f85a6f837841dfc28" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Pili Streaming Cloud Library for PHP | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-03-04-php-pili-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-03-04-php-pili-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/php-pili-en" selected>English</option>
        <option value="/php-pili-zh" >中文</option>
        <option value="/php-pili-ja" >日本語</option>
        <option value="/php-pili-es" >Español</option>
        <option value="/php-pili-hi" >हिंदी</option>
        <option value="/php-pili-fr" >Français</option>
        <option value="/php-pili-de" >Deutsch</option>
        <option value="/php-pili-ar" >العربية</option>
        <option value="/php-pili-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="key-points">Key Points</h3>
<ul>
  <li>It seems likely that to use “pili-engineering/pili-sdk-php”: “dev-master”, you need to install it via Composer and set up Qiniu credentials.</li>
  <li>Research suggests the package requires PHP 5.3.0 or higher and is for Pili Streaming Cloud, related to Qiniu.</li>
  <li>The evidence leans toward creating a Hub object and using stream operations like generating RTMP URLs, but exact methods may vary.</li>
</ul>

<h3 id="installation">Installation</h3>
<p>First, ensure you have Composer installed. Add the package to your <code class="language-plaintext highlighter-rouge">composer.json</code> file with:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"require"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pili-engineering/pili-sdk-php"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev-master"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Then, run <code class="language-plaintext highlighter-rouge">composer install</code> or <code class="language-plaintext highlighter-rouge">composer update</code>. In your PHP script, include:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="setup-and-usage">Setup and Usage</h3>
<p>You’ll need a Qiniu account and a Pili Hub. Set your access key, secret key, and hub name, then create a Hub object:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">use</span> <span class="nc">Qiniu\Credentials</span><span class="p">;</span>
<span class="kn">use</span> <span class="nc">Pili\Hub</span><span class="p">;</span>

<span class="nv">$credentials</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Credentials</span><span class="p">(</span><span class="s1">'your_access_key'</span><span class="p">,</span> <span class="s1">'your_secret_key'</span><span class="p">);</span>
<span class="nv">$hub</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Hub</span><span class="p">(</span><span class="nv">$credentials</span><span class="p">,</span> <span class="s1">'your_hub_name'</span><span class="p">);</span>
</code></pre></div></div>
<p>Create or get a stream, e.g., <code class="language-plaintext highlighter-rouge">$stream = $hub-&gt;createStream('your_stream_key');</code>, and use methods like <code class="language-plaintext highlighter-rouge">$stream-&gt;rtmpPublishUrl(60)</code> for operations.</p>

<h3 id="unexpected-detail">Unexpected Detail</h3>
<p>Note that “dev-master” is a development version, potentially unstable, with tagged versions like 1.5.5 available for production.</p>

<hr />

<h3 id="comprehensive-guide-on-using-pili-engineeringpili-sdk-php-dev-master">Comprehensive Guide on Using “pili-engineering/pili-sdk-php”: “dev-master”</h3>

<p>This guide provides a detailed exploration of how to use the “pili-engineering/pili-sdk-php” package with the “dev-master” version, based on available documentation and examples. It covers installation, setup, usage, and additional considerations, ensuring a thorough understanding for developers working with Pili Streaming Cloud services.</p>

<h4 id="background-and-context">Background and Context</h4>
<p>The “pili-engineering/pili-sdk-php” package is a server-side library for PHP, designed to interact with Pili Streaming Cloud, a service associated with Qiniu, a cloud storage and CDN provider. The “dev-master” version refers to the latest development branch, which may include recent features but could be less stable than tagged releases. The package requires PHP 5.3.0 or higher, making it accessible for many PHP environments as of March 3, 2025.</p>

<h4 id="installation-process">Installation Process</h4>
<p>To begin, you must have Composer installed, a dependency manager for PHP. The installation involves adding the package to your project’s <code class="language-plaintext highlighter-rouge">composer.json</code> file and running a Composer command to download it. Specifically:</p>

<ul>
  <li>Add the following to your <code class="language-plaintext highlighter-rouge">composer.json</code> under the “require” section:
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"require"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pili-engineering/pili-sdk-php"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev-master"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>Execute <code class="language-plaintext highlighter-rouge">composer install</code> or <code class="language-plaintext highlighter-rouge">composer update</code> in your terminal to fetch the package and its dependencies. This will create a <code class="language-plaintext highlighter-rouge">vendor</code> directory with the necessary files.</li>
  <li>In your PHP script, include the autoloader to access the package classes:
    <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">require</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>This process ensures the package is integrated into your project, leveraging Composer’s autoloading for easy class access.</p>

<h4 id="prerequisites-and-setup">Prerequisites and Setup</h4>
<p>Before using the SDK, you need a Qiniu account and must set up a Pili Hub, as the SDK interacts with Pili Streaming Cloud services. This involves obtaining an Access Key and Secret Key from Qiniu and creating a hub within their platform. The documentation suggests these credentials are essential for authentication.</p>

<p>To set up, define your credentials in your PHP script:</p>
<ul>
  <li>Access Key: Your Qiniu Access Key.</li>
  <li>Secret Key: Your Qiniu Secret Key.</li>
  <li>Hub Name: The name of your Pili Hub, which must exist prior to use.</li>
</ul>

<p>An example setup looks like:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$accessKey</span> <span class="o">=</span> <span class="s1">'your_access_key'</span><span class="p">;</span>
<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s1">'your_secret_key'</span><span class="p">;</span>
<span class="nv">$hubName</span> <span class="o">=</span> <span class="s1">'your_hub_name'</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="creating-and-using-the-hub-object">Creating and Using the Hub Object</h4>
<p>The core of the SDK is the Hub object, which facilitates stream management. First, create a Credentials object using your Qiniu keys:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">use</span> <span class="nc">Qiniu\Credentials</span><span class="p">;</span>

<span class="nv">$credentials</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Credentials</span><span class="p">(</span><span class="nv">$accessKey</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
</code></pre></div></div>
<p>Then, instantiate a Hub object with these credentials and your hub name:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">use</span> <span class="nc">Pili\Hub</span><span class="p">;</span>

<span class="nv">$hub</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Hub</span><span class="p">(</span><span class="nv">$credentials</span><span class="p">,</span> <span class="nv">$hubName</span><span class="p">);</span>
</code></pre></div></div>
<p>This Hub object allows you to perform various stream-related operations, such as creating, retrieving, or listing streams.</p>

<h4 id="working-with-streams">Working with Streams</h4>
<p>Streams are central to Pili Streaming Cloud, and the SDK provides methods to manage them through the Hub object. To create a new stream:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$streamKey</span> <span class="o">=</span> <span class="s1">'your_stream_key'</span><span class="p">;</span> <span class="c1">// Must be unique within the hub</span>
<span class="nv">$stream</span> <span class="o">=</span> <span class="nv">$hub</span><span class="o">-&gt;</span><span class="nf">createStream</span><span class="p">(</span><span class="nv">$streamKey</span><span class="p">);</span>
</code></pre></div></div>
<p>To retrieve an existing stream:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$stream</span> <span class="o">=</span> <span class="nv">$hub</span><span class="o">-&gt;</span><span class="nf">getStream</span><span class="p">(</span><span class="nv">$streamKey</span><span class="p">);</span>
</code></pre></div></div>
<p>The stream object then offers various methods for operations, detailed in the following table based on available documentation:</p>

<table>
  <thead>
    <tr>
      <th><strong>Operation</strong></th>
      <th><strong>Method</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Create Stream</td>
      <td><code class="language-plaintext highlighter-rouge">$hub-&gt;createStream($key)</code></td>
      <td>Creates a new stream with the given key.</td>
    </tr>
    <tr>
      <td>Get Stream</td>
      <td><code class="language-plaintext highlighter-rouge">$hub-&gt;getStream($key)</code></td>
      <td>Retrieves an existing stream by key.</td>
    </tr>
    <tr>
      <td>List Streams</td>
      <td><code class="language-plaintext highlighter-rouge">$hub-&gt;listStreams($marker, $limit, $prefix)</code></td>
      <td>Lists streams with pagination options.</td>
    </tr>
    <tr>
      <td>RTMP Publish URL</td>
      <td><code class="language-plaintext highlighter-rouge">$stream-&gt;rtmpPublishUrl($expire)</code></td>
      <td>Generates an RTMP publish URL with expiration time.</td>
    </tr>
    <tr>
      <td>RTMP Play URL</td>
      <td><code class="language-plaintext highlighter-rouge">$stream-&gt;rtmpPlayUrl()</code></td>
      <td>Generates an RTMP play URL for the stream.</td>
    </tr>
    <tr>
      <td>HLS Play URL</td>
      <td><code class="language-plaintext highlighter-rouge">$stream-&gt;hlsPlayUrl()</code></td>
      <td>Generates an HLS play URL for streaming.</td>
    </tr>
    <tr>
      <td>Disable Stream</td>
      <td><code class="language-plaintext highlighter-rouge">$stream-&gt;disable()</code></td>
      <td>Disables the stream.</td>
    </tr>
    <tr>
      <td>Enable Stream</td>
      <td><code class="language-plaintext highlighter-rouge">$stream-&gt;enable()</code></td>
      <td>Enables the stream.</td>
    </tr>
    <tr>
      <td>Get Stream Status</td>
      <td><code class="language-plaintext highlighter-rouge">$stream-&gt;status()</code></td>
      <td>Retrieves the current status of the stream.</td>
    </tr>
  </tbody>
</table>

<p>For example, to generate an RTMP publish URL with a 60-second expiration:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$expire</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="nv">$stream</span><span class="o">-&gt;</span><span class="nf">rtmpPublishUrl</span><span class="p">(</span><span class="nv">$expire</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$url</span><span class="p">;</span>
</code></pre></div></div>
<p>This URL can be used for publishing streams to Pili Streaming Cloud, with the expiration ensuring temporary access.</p>

<h4 id="additional-considerations">Additional Considerations</h4>
<ul>
  <li><strong>Version Stability</strong>: The “dev-master” version is the development branch, potentially unstable. For production, consider using a tagged version, such as 1.5.5, available on Packagist <a href="https://packagist.org/p/pili-engineering/pili-sdk-php">pili-engineering/pili-sdk-php versions</a>. The history shows updates like API additions and method refinements, with versions dating back to 2016.</li>
  <li><strong>Error Handling</strong>: The documentation suggests using try-catch blocks for operations, as seen in examples for stream creation and retrieval, to handle potential exceptions.</li>
  <li><strong>Documentation and Examples</strong>: While specific examples were not extensively detailed, the GitHub repository <a href="https://github.com/pili-engineering/pili-sdk-php">Pili Streaming Cloud server-side library for PHP</a> provides installation instructions and feature lists, and comparisons with other language SDKs (e.g., Python) indicate similar functionality, such as URL generation.</li>
</ul>

<h4 id="comparative-insights">Comparative Insights</h4>
<p>Comparing with other Pili SDKs, such as the Python version, reveals similar patterns: both require credentials, hub setup, and stream operations. The PHP version, however, uses an object-oriented approach with Hub and Stream classes, contrasting with Python’s more functional style. This aligns with PHP’s typical development practices, offering type safety and IDE support.</p>

<h4 id="conclusion">Conclusion</h4>
<p>Using “pili-engineering/pili-sdk-php”: “dev-master” involves installing via Composer, setting up Qiniu credentials, creating a Hub object, and managing streams with methods like <code class="language-plaintext highlighter-rouge">rtmpPublishUrl</code>. Ensure your environment meets PHP 5.3.0+ requirements and consider stability for production use. This guide provides a comprehensive starting point, with further details available in the official documentation and repository.</p>

<h3 id="key-citations">Key Citations</h3>
<ul>
  <li><a href="https://github.com/pili-engineering/pili-sdk-php">Pili Streaming Cloud server-side library for PHP GitHub</a></li>
  <li><a href="https://packagist.org/p/pili-engineering/pili-sdk-php">pili-engineering/pili-sdk-php versions Packagist</a></li>
</ul>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
