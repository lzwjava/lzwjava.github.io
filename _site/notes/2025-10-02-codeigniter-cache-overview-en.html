<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>CodeIgniter Cache System Overview</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>CodeIgniter Cache System Overview | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="CodeIgniter Cache System Overview" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-10-02-codeigniter-cache-overview-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-10-02-codeigniter-cache-overview-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="CodeIgniter Cache System Overview" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"CodeIgniter Cache System Overview","url":"https://lzwjava.github.io/notes/2025-10-02-codeigniter-cache-overview-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=9a180898a5ab588f59681e106e72f8e76295c079">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=9a180898a5ab588f59681e106e72f8e76295c079" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       CodeIgniter Cache System Overview | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-10-02-codeigniter-cache-overview-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-10-02-codeigniter-cache-overview-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/codeigniter-cache-overview-en" selected>English</option>
        <option value="/codeigniter-cache-overview-zh" >中文</option>
        <option value="/codeigniter-cache-overview-ja" >日本語</option>
        <option value="/codeigniter-cache-overview-es" >Español</option>
        <option value="/codeigniter-cache-overview-hi" >हिंदी</option>
        <option value="/codeigniter-cache-overview-fr" >Français</option>
        <option value="/codeigniter-cache-overview-de" >Deutsch</option>
        <option value="/codeigniter-cache-overview-ar" >العربية</option>
        <option value="/codeigniter-cache-overview-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="overview-of-codeigniters-cache-library">Overview of CodeIgniter’s Cache Library</h3>

<p>CodeIgniter’s <code class="language-plaintext highlighter-rouge">CI_Cache</code> class is a flexible caching system that provides a unified interface for storing and retrieving data across various backends (like in-memory, file-based, or external services). It extends <code class="language-plaintext highlighter-rouge">CI_Driver_Library</code>, which loads drivers dynamically. The class abstracts cache operations, allowing developers to switch backends easily via configuration without changing application code. All methods delegate to the active “adapter” (a driver class), with fallback support for reliability.</p>

<p>The system emphasizes performance, portability, and fault tolerance—e.g., it defaults to a “dummy” (no-op) driver if others fail, ensuring the app doesn’t break due to cache issues.</p>

<h3 id="supported-cache-drivers-and-adapters">Supported Cache Drivers and Adapters</h3>

<p>The class supports several drivers, defined in <code class="language-plaintext highlighter-rouge">$valid_drivers</code>:</p>
<ul>
  <li><strong>apc</strong>: Uses PHP’s APC (Alternative PHP Cache) for in-memory storage (fast, built-in).</li>
  <li><strong>dummy</strong>: A placeholder that does nothing (always returns TRUE or FALSE); used as a fallback for development/testing.</li>
  <li><strong>file</strong>: Stores data as serialized files in a directory (specified by <code class="language-plaintext highlighter-rouge">$_cache_path</code>), suitable for low-traffic sites.</li>
  <li><strong>memcached</strong>: Interface to the Memcached service for distributed, in-memory caching (high-performance, scalable).</li>
  <li><strong>redis</strong>: Interface to Redis, another in-memory key-value store with features like pub/sub and atomic operations.</li>
  <li><strong>wincache</strong>: Windows-specific for IIS (uses Microsoft WinCache).</li>
</ul>

<p>Each driver is a separate class (e.g., <code class="language-plaintext highlighter-rouge">CI_Cache_memcached</code>) implementing methods like <code class="language-plaintext highlighter-rouge">get()</code>, <code class="language-plaintext highlighter-rouge">save()</code>, etc. The library loads the driver dynamically based on the <code class="language-plaintext highlighter-rouge">$config['adapter']</code> array passed to the constructor.</p>

<h3 id="initialization-and-configuration">Initialization and Configuration</h3>

<ul>
  <li><strong>Constructor</strong>: Takes a <code class="language-plaintext highlighter-rouge">$config</code> array with keys for <code class="language-plaintext highlighter-rouge">adapter</code> (primary driver), <code class="language-plaintext highlighter-rouge">backup</code> (fallback driver), and <code class="language-plaintext highlighter-rouge">key_prefix</code> (string prepended to all cache keys for namespacing/isolation).
    <ul>
      <li>Example config: <code class="language-plaintext highlighter-rouge">array('adapter' =&gt; 'redis', 'backup' =&gt; 'file', 'key_prefix' =&gt; 'myapp_')</code>.</li>
    </ul>
  </li>
  <li><strong>Fallback Logic</strong>: After initializing, it checks if the primary adapter is supported using <code class="language-plaintext highlighter-rouge">is_supported($driver)</code> (which calls the driver’s <code class="language-plaintext highlighter-rouge">is_supported()</code> method, testing for required PHP extensions or services).
    <ul>
      <li>If primary fails, it switches to the backup driver. If both fail, it logs an error and defaults to “dummy” (via <code class="language-plaintext highlighter-rouge">log_message()</code>).</li>
      <li>This ensures the cache always has a working adapter, preventing crashes.</li>
    </ul>
  </li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">$_cache_path</code> is set for file-based drivers, but it’s not initialized here—likely handled in the file driver class.</p>

<h3 id="key-methods-and-how-they-operate">Key Methods and How They Operate</h3>

<p>Methods prepend the <code class="language-plaintext highlighter-rouge">key_prefix</code> to IDs for unique scoping (e.g., <code class="language-plaintext highlighter-rouge">'myapp_user123'</code>) and delegate to the active adapter. All operations return booleans, arrays, or mixed data on success/failure.</p>

<ul>
  <li><strong>get($id)</strong>: Retrieves cached data by ID.
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">$data = $cache-&gt;get('user_profile');</code> —calls the adapter’s <code class="language-plaintext highlighter-rouge">get()</code> method.</li>
      <li>If the key exists and hasn’t expired, returns the data; otherwise, returns FALSE.</li>
      <li>No direct TTL enforcement here; handled by the driver (e.g., Redis or Memcached enforce TTL internally).</li>
    </ul>
  </li>
  <li><strong>save($id, $data, $ttl = 60, $raw = FALSE)</strong>: Stores data with a time-to-live (TTL) in seconds.
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">$cache-&gt;save('user_profile', $profile_data, 3600);</code> —stores with 1-hour expiration.</li>
      <li><code class="language-plaintext highlighter-rouge">$raw</code> flag (false by default) indicates if data is serialized—drivers handle serialization if needed (e.g., arrays/objects become strings).</li>
      <li>Returns TRUE on success, facilitating conditional logic (e.g., generate and cache data if saving fails).</li>
    </ul>
  </li>
  <li><strong>delete($id)</strong>: Removes a specific cache item.
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">$cache-&gt;delete('user_profile');</code> —permanent removal.</li>
    </ul>
  </li>
  <li><strong>increment($id, $offset = 1)</strong> and <strong>decrement($id, $offset = 1)</strong>: Atomic operations for numeric values (useful for counters).
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">$new_counter = $cache-&gt;increment('hits', 5);</code> —increments by 5 if supported by driver (e.g., Redis/Memcached are atomic; file-based may simulate).</li>
      <li>Not all drivers support raw/inc/dec (dummy always fails); returns new value or FALSE.</li>
    </ul>
  </li>
  <li><strong>clean()</strong>: Clears all cache data for the current driver.
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">$cache-&gt;clean();</code> —useful for flushing after updates.</li>
      <li>The “user” type targets user-specific data, not system caches.</li>
    </ul>
  </li>
  <li><strong>cache_info($type = ‘user’)</strong>: Returns metadata about the cache (e.g., server stats, key counts, or file paths).
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">$info = $cache-&gt;cache_info();</code> —an array of details from the driver.</li>
    </ul>
  </li>
  <li><strong>get_metadata($id)</strong>: Gets details about a specific cached item (e.g., expiration time, size).
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">$meta = $cache-&gt;get_metadata('key');</code> —helps debug or optimize.</li>
    </ul>
  </li>
  <li><strong>is_supported($driver)</strong>: Checks driver availability (caches results using a static <code class="language-plaintext highlighter-rouge">$support</code> array to avoid repeated checks).</li>
</ul>

<h3 id="additional-mechanics">Additional Mechanics</h3>

<ul>
  <li><strong>Key Prefixing</strong>: Applied automatically to all IDs (e.g., for app isolation or multi-tenancy). Enabled via config to prevent key collisions across environments.</li>
  <li><strong>Logging</strong>: Uses <code class="language-plaintext highlighter-rouge">log_message()</code> for debug/ error messages (e.g., fallbacks), integrating with CodeIgniter’s logging system.</li>
  <li><strong>Flexibility and Fault Tolerance</strong>: By abstracting backends, you can switch from file caching (cheap, local) to Redis (fast, distributed) with minimal changes. The dummy fallback means cache failures don’t halt the app—methods just return FALSE, letting code proceed (e.g., fetch from DB instead).</li>
  <li><strong>Performance Notes</strong>: Drivers like APC/Redis are in-memory (fast access, sub-millisecond). File-based is slower due to disk I/O. TTLs are generally obeyed by drivers except in rare driver-specific edge cases.</li>
</ul>

<p>This design makes CodeIgniter’s caching modular and reliable. For details on specific drivers, check the driver files (e.g., <code class="language-plaintext highlighter-rouge">Cache_memcached.php</code>). Always refer to the official CodeIgniter docs for version-specific nuances, as this code is from an older version (around 2.0-3.x). If you have a specific method or driver in mind, I can dive deeper!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">x-ai/grok-code-fast-1</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
