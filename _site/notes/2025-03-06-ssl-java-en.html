<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Secure Connections in Java</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Secure Connections in Java | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Secure Connections in Java" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-03-06-ssl-java-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-03-06-ssl-java-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Secure Connections in Java" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Secure Connections in Java","url":"https://lzwjava.github.io/notes/2025-03-06-ssl-java-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=e90fe5ac33a6629e720ee55ca80ccb724ff0a9fb">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=e90fe5ac33a6629e720ee55ca80ccb724ff0a9fb" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Secure Connections in Java | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-03-06-ssl-java-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-03-06-ssl-java-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.09</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/ssl-java-en" selected>English</option>
        <option value="/ssl-java-zh" >中文</option>
        <option value="/ssl-java-ja" >日本語</option>
        <option value="/ssl-java-es" >Español</option>
        <option value="/ssl-java-hi" >हिंदी</option>
        <option value="/ssl-java-fr" >Français</option>
        <option value="/ssl-java-de" >Deutsch</option>
        <option value="/ssl-java-ar" >العربية</option>
        <option value="/ssl-java-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>To use the <code class="language-plaintext highlighter-rouge">javax.net.ssl</code> package in Java, you need to leverage its classes to establish secure communication over the network using SSL (Secure Sockets Layer) or TLS (Transport Layer Security) protocols. This package is essential for creating secure connections, such as those used in HTTPS communication. Below, I’ll explain how to use it for both client-side and server-side applications, including basic examples and key considerations.</p>

<hr />

<h3 id="overview-of-javaxnetssl"><strong>Overview of <code class="language-plaintext highlighter-rouge">javax.net.ssl</code></strong></h3>
<p>The <code class="language-plaintext highlighter-rouge">javax.net.ssl</code> package provides tools for secure socket communication. It includes:</p>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">SSLSocket</code></strong>: A client-side socket for secure communication.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">SSLServerSocket</code></strong>: A server-side socket to accept secure connections.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">SSLSocketFactory</code></strong>: A factory to create <code class="language-plaintext highlighter-rouge">SSLSocket</code> instances.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">SSLServerSocketFactory</code></strong>: A factory to create <code class="language-plaintext highlighter-rouge">SSLServerSocket</code> instances.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">SSLContext</code></strong>: A class to configure the SSL/TLS protocol, allowing customization of security settings.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">KeyManager</code> and <code class="language-plaintext highlighter-rouge">TrustManager</code></strong>: Classes to manage certificates and trust decisions.</li>
</ul>

<p>These components enable encrypted data exchange, ensuring confidentiality and integrity between a client and a server.</p>

<hr />

<h3 id="using-javaxnetssl-as-a-client"><strong>Using <code class="language-plaintext highlighter-rouge">javax.net.ssl</code> as a Client</strong></h3>
<p>For a client application connecting to a secure server (e.g., an HTTPS server), you typically use <code class="language-plaintext highlighter-rouge">SSLSocketFactory</code> to create an <code class="language-plaintext highlighter-rouge">SSLSocket</code>. Here’s how:</p>

<h4 id="steps"><strong>Steps</strong></h4>
<ol>
  <li>
    <p><strong>Obtain an <code class="language-plaintext highlighter-rouge">SSLSocketFactory</code></strong>:
Use the default factory provided by Java, which relies on the system’s default SSL/TLS settings and truststore (a repository of trusted certificates).</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">javax.net.ssl.SSLSocketFactory</span><span class="o">;</span>
<span class="nc">SSLSocketFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="o">(</span><span class="nc">SSLSocketFactory</span><span class="o">)</span> <span class="nc">SSLSocketFactory</span><span class="o">.</span><span class="na">getDefault</span><span class="o">();</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Create an <code class="language-plaintext highlighter-rouge">SSLSocket</code></strong>:
Use the factory to connect to a server by specifying the hostname and port (e.g., 443 for HTTPS).</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">javax.net.ssl.SSLSocket</span><span class="o">;</span>
<span class="nc">SSLSocket</span> <span class="n">socket</span> <span class="o">=</span> <span class="o">(</span><span class="nc">SSLSocket</span><span class="o">)</span> <span class="n">factory</span><span class="o">.</span><span class="na">createSocket</span><span class="o">(</span><span class="s">"example.com"</span><span class="o">,</span> <span class="mi">443</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Communicate Over the Socket</strong>:
Use the socket’s input and output streams to send and receive data. The SSL/TLS handshake (which establishes the secure connection) occurs automatically when you first read from or write to the socket.</p>
  </li>
</ol>

<h4 id="example-sending-an-http-get-request"><strong>Example: Sending an HTTP GET Request</strong></h4>
<p>Here’s a complete example that connects to a server and retrieves a webpage:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">javax.net.ssl.SSLSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.net.ssl.SSLSocketFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SSLClientExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Get the default SSLSocketFactory</span>
            <span class="nc">SSLSocketFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="o">(</span><span class="nc">SSLSocketFactory</span><span class="o">)</span> <span class="nc">SSLSocketFactory</span><span class="o">.</span><span class="na">getDefault</span><span class="o">();</span>
            <span class="c1">// Create an SSLSocket to example.com on port 443</span>
            <span class="nc">SSLSocket</span> <span class="n">socket</span> <span class="o">=</span> <span class="o">(</span><span class="nc">SSLSocket</span><span class="o">)</span> <span class="n">factory</span><span class="o">.</span><span class="na">createSocket</span><span class="o">(</span><span class="s">"example.com"</span><span class="o">,</span> <span class="mi">443</span><span class="o">);</span>

            <span class="c1">// Get input and output streams</span>
            <span class="nc">OutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">();</span>
            <span class="nc">InputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>

            <span class="c1">// Send a simple HTTP GET request</span>
            <span class="nc">String</span> <span class="n">request</span> <span class="o">=</span> <span class="s">"GET / HTTP/1.1\r\nHost: example.com\r\n\r\n"</span><span class="o">;</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
            <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>

            <span class="c1">// Read and print the response</span>
            <span class="nc">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">in</span><span class="o">));</span>
            <span class="nc">String</span> <span class="n">line</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>
            <span class="o">}</span>

            <span class="c1">// Close the socket</span>
            <span class="n">socket</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="key-notes"><strong>Key Notes</strong></h4>
<ul>
  <li><strong>Handshake</strong>: The SSL/TLS handshake is handled automatically when you use the socket.</li>
  <li><strong>Trust</strong>: By default, Java trusts certificates signed by well-known Certificate Authorities (CAs) stored in its truststore. If the server’s certificate is not trusted, you’ll need to configure a custom truststore (more on this later).</li>
  <li>
    <p><strong>Hostname Verification</strong>: <code class="language-plaintext highlighter-rouge">SSLSocket</code> does not perform hostname verification by default (unlike <code class="language-plaintext highlighter-rouge">HttpsURLConnection</code>). To enable it, use <code class="language-plaintext highlighter-rouge">SSLParameters</code>:</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">javax.net.ssl.SSLParameters</span><span class="o">;</span>
 <span class="nc">SSLParameters</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SSLParameters</span><span class="o">();</span>
 <span class="n">params</span><span class="o">.</span><span class="na">setEndpointIdentificationAlgorithm</span><span class="o">(</span><span class="s">"HTTPS"</span><span class="o">);</span>
 <span class="n">socket</span><span class="o">.</span><span class="na">setSSLParameters</span><span class="o">(</span><span class="n">params</span><span class="o">);</span>
</code></pre></div>    </div>

    <p>This ensures the server’s certificate matches the hostname, preventing man-in-the-middle attacks.</p>
  </li>
</ul>

<hr />

<h3 id="using-javaxnetssl-as-a-server"><strong>Using <code class="language-plaintext highlighter-rouge">javax.net.ssl</code> as a Server</strong></h3>
<p>For a server accepting secure connections, you use <code class="language-plaintext highlighter-rouge">SSLServerSocketFactory</code> to create an <code class="language-plaintext highlighter-rouge">SSLServerSocket</code>. The server must provide a certificate, typically stored in a keystore.</p>

<h4 id="steps-1"><strong>Steps</strong></h4>
<ol>
  <li>
    <p><strong>Set Up a Keystore</strong>:
Create a keystore containing the server’s private key and certificate (e.g., using Java’s <code class="language-plaintext highlighter-rouge">keytool</code> to generate a <code class="language-plaintext highlighter-rouge">.jks</code> file).</p>
  </li>
  <li>
    <p><strong>Initialize an <code class="language-plaintext highlighter-rouge">SSLContext</code></strong>:
Use the keystore to configure an <code class="language-plaintext highlighter-rouge">SSLContext</code> with a <code class="language-plaintext highlighter-rouge">KeyManager</code>.</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">javax.net.ssl.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.security.KeyStore</span><span class="o">;</span>

<span class="nc">KeyStore</span> <span class="n">ks</span> <span class="o">=</span> <span class="nc">KeyStore</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"JKS"</span><span class="o">);</span>
<span class="n">ks</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="k">new</span> <span class="nc">FileInputStream</span><span class="o">(</span><span class="s">"keystore.jks"</span><span class="o">),</span> <span class="s">"password"</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">());</span>

<span class="nc">KeyManagerFactory</span> <span class="n">kmf</span> <span class="o">=</span> <span class="nc">KeyManagerFactory</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"SunX509"</span><span class="o">);</span>
<span class="n">kmf</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">ks</span><span class="o">,</span> <span class="s">"password"</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">());</span>

<span class="nc">SSLContext</span> <span class="n">context</span> <span class="o">=</span> <span class="nc">SSLContext</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"TLS"</span><span class="o">);</span>
<span class="n">context</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">kmf</span><span class="o">.</span><span class="na">getKeyManagers</span><span class="o">(),</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Create an <code class="language-plaintext highlighter-rouge">SSLServerSocket</code></strong>:
Use the <code class="language-plaintext highlighter-rouge">SSLServerSocketFactory</code> from the <code class="language-plaintext highlighter-rouge">SSLContext</code> to create a server socket.</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">SSLServerSocketFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getServerSocketFactory</span><span class="o">();</span>
<span class="nc">SSLServerSocket</span> <span class="n">serverSocket</span> <span class="o">=</span> <span class="o">(</span><span class="nc">SSLServerSocket</span><span class="o">)</span> <span class="n">factory</span><span class="o">.</span><span class="na">createServerSocket</span><span class="o">(</span><span class="mi">8443</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Accept Connections</strong>:
Accept client connections and communicate over the resulting <code class="language-plaintext highlighter-rouge">SSLSocket</code>.</p>
  </li>
</ol>

<h4 id="example-simple-ssl-server"><strong>Example: Simple SSL Server</strong></h4>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">javax.net.ssl.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.security.KeyStore</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SSLServerExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Load the keystore</span>
            <span class="nc">KeyStore</span> <span class="n">ks</span> <span class="o">=</span> <span class="nc">KeyStore</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"JKS"</span><span class="o">);</span>
            <span class="n">ks</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="k">new</span> <span class="nc">FileInputStream</span><span class="o">(</span><span class="s">"keystore.jks"</span><span class="o">),</span> <span class="s">"password"</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">());</span>

            <span class="c1">// Initialize KeyManagerFactory</span>
            <span class="nc">KeyManagerFactory</span> <span class="n">kmf</span> <span class="o">=</span> <span class="nc">KeyManagerFactory</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"SunX509"</span><span class="o">);</span>
            <span class="n">kmf</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">ks</span><span class="o">,</span> <span class="s">"password"</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">());</span>

            <span class="c1">// Initialize SSLContext</span>
            <span class="nc">SSLContext</span> <span class="n">context</span> <span class="o">=</span> <span class="nc">SSLContext</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"TLS"</span><span class="o">);</span>
            <span class="n">context</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">kmf</span><span class="o">.</span><span class="na">getKeyManagers</span><span class="o">(),</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>

            <span class="c1">// Create SSLServerSocket</span>
            <span class="nc">SSLServerSocketFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getServerSocketFactory</span><span class="o">();</span>
            <span class="nc">SSLServerSocket</span> <span class="n">serverSocket</span> <span class="o">=</span> <span class="o">(</span><span class="nc">SSLServerSocket</span><span class="o">)</span> <span class="n">factory</span><span class="o">.</span><span class="na">createServerSocket</span><span class="o">(</span><span class="mi">8443</span><span class="o">);</span>

            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Server started on port 8443..."</span><span class="o">);</span>
            <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">SSLSocket</span> <span class="n">socket</span> <span class="o">=</span> <span class="o">(</span><span class="nc">SSLSocket</span><span class="o">)</span> <span class="n">serverSocket</span><span class="o">.</span><span class="na">accept</span><span class="o">();</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Client connected."</span><span class="o">);</span>

                <span class="c1">// Handle client communication</span>
                <span class="nc">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
                <span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintWriter</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">(),</span> <span class="kc">true</span><span class="o">);</span>
                <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello from the secure server!"</span><span class="o">);</span>
                <span class="n">socket</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="key-notes-1"><strong>Key Notes</strong></h4>
<ul>
  <li><strong>Keystore</strong>: The server requires a certificate, typically in a <code class="language-plaintext highlighter-rouge">.jks</code> file, which you must generate and configure.</li>
  <li><strong>Client Authentication</strong>: If the server requires clients to provide certificates, initialize the <code class="language-plaintext highlighter-rouge">SSLContext</code> with a <code class="language-plaintext highlighter-rouge">TrustManager</code> and call <code class="language-plaintext highlighter-rouge">serverSocket.setNeedClientAuth(true)</code>.</li>
</ul>

<hr />

<h3 id="advanced-configuration"><strong>Advanced Configuration</strong></h3>
<p>For more control over SSL/TLS behavior, you can customize the following:</p>

<h4 id="1-custom-truststore"><strong>1. Custom Truststore</strong></h4>
<p>If the server’s certificate isn’t signed by a trusted CA, load a custom truststore:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">KeyStore</span> <span class="n">trustStore</span> <span class="o">=</span> <span class="nc">KeyStore</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"JKS"</span><span class="o">);</span>
<span class="n">trustStore</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="k">new</span> <span class="nc">FileInputStream</span><span class="o">(</span><span class="s">"truststore.jks"</span><span class="o">),</span> <span class="s">"password"</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">());</span>

<span class="nc">TrustManagerFactory</span> <span class="n">tmf</span> <span class="o">=</span> <span class="nc">TrustManagerFactory</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"SunX509"</span><span class="o">);</span>
<span class="n">tmf</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">trustStore</span><span class="o">);</span>

<span class="nc">SSLContext</span> <span class="n">context</span> <span class="o">=</span> <span class="nc">SSLContext</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"TLS"</span><span class="o">);</span>
<span class="n">context</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="n">tmf</span><span class="o">.</span><span class="na">getTrustManagers</span><span class="o">(),</span> <span class="kc">null</span><span class="o">);</span>

<span class="nc">SSLSocketFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getSocketFactory</span><span class="o">();</span>
</code></pre></div></div>

<h4 id="2-protocol-versions"><strong>2. Protocol Versions</strong></h4>
<p>Specify secure protocols (e.g., TLS 1.2 or 1.3) to avoid outdated, insecure versions:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">socket</span><span class="o">.</span><span class="na">setEnabledProtocols</span><span class="o">(</span><span class="k">new</span> <span class="nc">String</span><span class="o">[]</span> <span class="o">{</span><span class="s">"TLSv1.2"</span><span class="o">,</span> <span class="s">"TLSv1.3"</span><span class="o">});</span>
</code></pre></div></div>

<h4 id="3-cipher-suites"><strong>3. Cipher Suites</strong></h4>
<p>Restrict the cipher suites used for encryption:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">socket</span><span class="o">.</span><span class="na">setEnabledCipherSuites</span><span class="o">(</span><span class="k">new</span> <span class="nc">String</span><span class="o">[]</span> <span class="o">{</span><span class="s">"TLS_AES_128_GCM_SHA256"</span><span class="o">});</span>
</code></pre></div></div>

<hr />

<h3 id="summary"><strong>Summary</strong></h3>
<p>To use <code class="language-plaintext highlighter-rouge">javax.net.ssl</code>:</p>
<ul>
  <li><strong>For Clients</strong>: Use <code class="language-plaintext highlighter-rouge">SSLSocketFactory</code> to create an <code class="language-plaintext highlighter-rouge">SSLSocket</code>, connect to a server, and optionally configure hostname verification with <code class="language-plaintext highlighter-rouge">SSLParameters</code>.</li>
  <li><strong>For Servers</strong>: Configure an <code class="language-plaintext highlighter-rouge">SSLContext</code> with a keystore and <code class="language-plaintext highlighter-rouge">KeyManager</code>, then use <code class="language-plaintext highlighter-rouge">SSLServerSocketFactory</code> to create an <code class="language-plaintext highlighter-rouge">SSLServerSocket</code>.</li>
  <li><strong>Customization</strong>: Use <code class="language-plaintext highlighter-rouge">SSLContext</code>, <code class="language-plaintext highlighter-rouge">KeyManager</code>, and <code class="language-plaintext highlighter-rouge">TrustManager</code> for advanced certificate handling, and set protocols or cipher suites as needed.</li>
</ul>

<p>This package provides the foundation for secure communication in Java, suitable for both simple and complex applications. For HTTPS specifically, consider higher-level APIs like <code class="language-plaintext highlighter-rouge">HttpsURLConnection</code>, but <code class="language-plaintext highlighter-rouge">javax.net.ssl</code> gives you direct control over SSL/TLS sockets when needed.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
