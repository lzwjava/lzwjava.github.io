<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Network Layer</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Network Layer | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Network Layer" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-03-22-network-layer-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-03-22-network-layer-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Network Layer" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Network Layer","url":"https://lzwjava.github.io/notes/2025-03-22-network-layer-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=6747528cb50fa7ece8ccf9426b115cd03c952ca5">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=6747528cb50fa7ece8ccf9426b115cd03c952ca5" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Network Layer | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-03-22-network-layer-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-03-22-network-layer-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/network-layer-en" selected>English</option>
        <option value="/network-layer-zh" >中文</option>
        <option value="/network-layer-ja" >日本語</option>
        <option value="/network-layer-es" >Español</option>
        <option value="/network-layer-hi" >हिंदी</option>
        <option value="/network-layer-fr" >Français</option>
        <option value="/network-layer-de" >Deutsch</option>
        <option value="/network-layer-ar" >العربية</option>
        <option value="/network-layer-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Okay, let’s dive into a detailed tutorial on the Network Layer, specifically tailored for the Computer Networks Technology course within the Chinese Self-Study Exam (自考) system. This chapter is crucial for understanding how data travels across networks.</p>

<h2 id="network-layer-tutorial">Network Layer Tutorial</h2>

<p>The Network Layer is the third layer in the OSI model and the TCP/IP model. Its primary responsibility is to facilitate the movement of data packets from a source host to a destination host across one or more networks. Think of it as the postal service for the internet – it figures out the best route and ensures your “package” (data packet) gets to the correct address.</p>

<p>Here’s a breakdown of the key topics within this chapter:</p>

<h3 id="1-functions-of-the-network-layer">1. Functions of the Network Layer</h3>

<p>The Network Layer performs three main functions:</p>

<h4 id="a-logical-addressing">a) Logical Addressing</h4>

<ul>
  <li><strong>Purpose:</strong> To uniquely identify each host on a network. This is different from the physical address (MAC address) which identifies a device within a local network. Logical addresses are hierarchical and allow for efficient routing.</li>
  <li><strong>Key Concept:</strong> IP addresses (Internet Protocol addresses) are the primary form of logical addressing used in the Network Layer.</li>
  <li><strong>Analogy:</strong> Think of your home address. It’s a logical address that helps the postal service find your specific house within a city and country, regardless of the physical location of the post office.</li>
</ul>

<h4 id="b-routing">b) Routing</h4>

<ul>
  <li><strong>Purpose:</strong> To determine the best path for a data packet to travel from the source to the destination. This involves selecting a sequence of network devices (routers) that the packet will traverse.</li>
  <li><strong>Key Concept:</strong> Routing algorithms are used by routers to build and maintain routing tables, which contain information about the best paths to different networks.</li>
  <li><strong>Analogy:</strong> Imagine planning a road trip. You look at a map or use a GPS to figure out the best route to your destination, considering factors like distance and traffic. Routers do something similar for data packets.</li>
</ul>

<h4 id="c-forwarding">c) Forwarding</h4>

<ul>
  <li><strong>Purpose:</strong> The actual process of moving a data packet from an input port of a router to the appropriate output port based on the routing decision.</li>
  <li><strong>Key Concept:</strong> When a router receives a packet, it examines the destination IP address and consults its routing table to determine the next hop (another router or the destination host).</li>
  <li><strong>Analogy:</strong> Once you’ve planned your route, forwarding is like actually driving your car along that route, moving from one point to the next.</li>
</ul>

<h3 id="2-ip-addressing">2. IP Addressing</h3>

<p>IP addresses are fundamental to the Network Layer. There are two main versions: IPv4 and IPv6.</p>

<h4 id="a-ipv4-structure">a) IPv4 Structure</h4>

<ul>
  <li><strong>Format:</strong> A 32-bit numerical address written in dotted decimal notation (e.g., 192.168.1.10). It’s divided into four 8-bit octets.</li>
  <li><strong>Address Classes (Historically):</strong> While largely obsolete now due to Classless Inter-Domain Routing (CIDR), understanding the historical classes (A, B, C, D, E) can be helpful for foundational knowledge.
    <ul>
      <li><strong>Class A:</strong> Large networks (first octet 1-126).</li>
      <li><strong>Class B:</strong> Medium-sized networks (first octet 128-191).</li>
      <li><strong>Class C:</strong> Small networks (first octet 192-223).</li>
      <li><strong>Class D:</strong> Multicast addresses (first octet 224-239).</li>
      <li><strong>Class E:</strong> Reserved for experimental use (first octet 240-255).</li>
    </ul>
  </li>
  <li><strong>Network ID and Host ID:</strong> An IPv4 address consists of a network ID (identifies the network) and a host ID (identifies a specific device within that network). The division between these IDs depends on the address class (or subnet mask in CIDR).</li>
  <li><strong>Special IPv4 Addresses:</strong>
    <ul>
      <li><strong>0.0.0.0:</strong> Represents the current network.</li>
      <li><strong>127.0.0.1 (Loopback Address):</strong> Used for testing the local machine’s network stack.</li>
      <li><strong>Private IP Addresses:</strong> Ranges reserved for use within private networks (e.g., 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16). These addresses are not routable on the public internet.</li>
      <li><strong>Public IP Addresses:</strong> Addresses that are routable on the public internet.</li>
    </ul>
  </li>
</ul>

<h4 id="b-ipv6-structure">b) IPv6 Structure</h4>

<ul>
  <li><strong>Format:</strong> A 128-bit numerical address written in hexadecimal format, grouped into eight 16-bit segments separated by colons (e.g., 2001:0db8:85a3:0000:0000:8a2e:0370:7334).</li>
  <li><strong>Advantages over IPv4:</strong> Larger address space (solves IPv4 address exhaustion), improved security (IPsec is often integrated), simplified header format, better support for mobile devices.</li>
  <li><strong>Address Representation:</strong>
    <ul>
      <li><strong>Leading Zeros:</strong> Leading zeros within a segment can be omitted (e.g., 0000 can be written as 0).</li>
      <li><strong>Double Colon:</strong> A single double colon (::) can be used to represent one or more consecutive segments of all zeros. This can only be used once in an address.</li>
    </ul>
  </li>
  <li><strong>Types of IPv6 Addresses:</strong>
    <ul>
      <li><strong>Unicast:</strong> Identifies a single interface.</li>
      <li><strong>Multicast:</strong> Identifies a group of interfaces.</li>
      <li><strong>Anycast:</strong> Identifies a set of interfaces, with packets being delivered to the nearest interface in the set.</li>
    </ul>
  </li>
  <li><strong>Link-Local Addresses (fe80::/10):</strong> Used for communication within a single network link.</li>
  <li><strong>Global Unicast Addresses:</strong> Globally routable addresses on the internet.</li>
</ul>

<h4 id="c-subnetting">c) Subnetting</h4>

<ul>
  <li><strong>Purpose:</strong> To divide a larger network into smaller, more manageable subnetworks (subnets). This helps in organizing networks, improving security, and optimizing network performance.</li>
  <li><strong>Mechanism:</strong> Subnetting is achieved by borrowing bits from the host portion of an IP address and using them to create subnet IDs. This is done using a <strong>subnet mask</strong>.</li>
  <li><strong>Subnet Mask:</strong> A 32-bit number (for IPv4) that identifies the network and subnet portions of an IP address. It has a contiguous sequence of 1s for the network and subnet bits, followed by a contiguous sequence of 0s for the host bits.</li>
  <li><strong>CIDR Notation (Classless Inter-Domain Routing):</strong> A more flexible way of representing network prefixes using a slash followed by the number of network bits (e.g., 192.168.1.0/24 indicates that the first 24 bits represent the network). This is the standard method used today.</li>
  <li><strong>Subnetting Calculation (IPv4):</strong>
    <ol>
      <li>Determine the number of subnets needed.</li>
      <li>Determine the number of hosts needed per subnet.</li>
      <li>Calculate the number of bits required for the subnets and hosts.</li>
      <li>Determine the subnet mask.</li>
      <li>Identify the valid subnet addresses, broadcast addresses, and usable host ranges for each subnet.</li>
    </ol>
  </li>
  <li><strong>Subnetting in IPv6:</strong> While the concept of subnetting exists in IPv6, the vast address space makes it less about conserving addresses and more about network organization. IPv6 subnets are typically a fixed size (/64).</li>
</ul>

<h3 id="3-routing-algorithms">3. Routing Algorithms</h3>

<p>Routing algorithms are used by routers to determine the best path for data packets. They can be broadly classified into:</p>

<h4 id="a-static-vs-dynamic-routing">a) Static vs. Dynamic Routing</h4>

<ul>
  <li><strong>Static Routing:</strong>
    <ul>
      <li>Routing tables are manually configured by the network administrator.</li>
      <li>Simple to implement for small, stable networks.</li>
      <li>Not adaptable to network changes or failures.</li>
      <li>Suitable for specific scenarios like connecting to a single remote network.</li>
    </ul>
  </li>
  <li><strong>Dynamic Routing:</strong>
    <ul>
      <li>Routers automatically learn about network topology and update their routing tables by exchanging information with other routers.</li>
      <li>More complex to configure initially but highly adaptable to network changes and failures.</li>
      <li>Scalable for larger and more complex networks.</li>
    </ul>
  </li>
</ul>

<h4 id="b-distance-vector-routing">b) Distance Vector Routing</h4>

<ul>
  <li><strong>Principle:</strong> Each router maintains a routing table that lists the best known distance (e.g., number of hops) and the direction (next hop router) to each destination network.</li>
  <li><strong>Information Exchange:</strong> Routers periodically exchange their entire routing tables with their directly connected neighbors.</li>
  <li><strong>Algorithm Example:</strong> The <strong>Bellman-Ford algorithm</strong> is a common algorithm used in distance vector routing protocols.</li>
  <li><strong>Protocols:</strong> RIP (Routing Information Protocol) is a well-known example of a distance vector routing protocol.</li>
  <li><strong>Limitations:</strong> Can suffer from slow convergence (takes time for the network to adapt to changes) and the “count-to-infinity” problem (routing loops can occur).</li>
</ul>

<h4 id="c-link-state-routing">c) Link State Routing</h4>

<ul>
  <li><strong>Principle:</strong> Each router maintains a complete map of the network topology. It knows about all the routers and the links between them, along with the cost of each link.</li>
  <li><strong>Information Exchange:</strong> Routers exchange information about the state of their directly connected links with all other routers in the network. This information is called a Link State Advertisement (LSA).</li>
  <li><strong>Algorithm Example:</strong> The <strong>Dijkstra’s algorithm</strong> (Shortest Path First - SPF) is used by each router to calculate the shortest path to all other destinations based on the collected link state information.</li>
  <li><strong>Protocols:</strong> OSPF (Open Shortest Path First) and IS-IS (Intermediate System to Intermediate System) are popular link state routing protocols.</li>
  <li><strong>Advantages:</strong> Faster convergence, less prone to routing loops compared to distance vector routing.</li>
</ul>

<h3 id="4-protocols">4. Protocols</h3>

<p>Several key protocols operate at the Network Layer:</p>

<h4 id="a-ip-internet-protocol">a) IP (Internet Protocol)</h4>

<ul>
  <li><strong>Core Protocol:</strong> The fundamental protocol responsible for addressing and routing packets across networks.</li>
  <li><strong>Connectionless and Unreliable:</strong> IP provides a connectionless service (no prior connection establishment) and is unreliable (no guarantee of delivery). Error detection is performed, but error recovery is the responsibility of higher-layer protocols (like TCP).</li>
  <li><strong>Packet Format:</strong> IP defines the structure of IP packets (datagrams), including source and destination IP addresses, header information (e.g., time-to-live - TTL), and the payload (data from higher layers).</li>
</ul>

<h4 id="b-icmp-internet-control-message-protocol">b) ICMP (Internet Control Message Protocol)</h4>

<ul>
  <li><strong>Purpose:</strong> Used for sending error messages and control/informational messages between network devices.</li>
  <li><strong>Functionality:</strong> ICMP messages are used to report errors (e.g., destination unreachable, time exceeded), request information (e.g., echo request/reply used by the <code class="language-plaintext highlighter-rouge">ping</code> command), and perform other network diagnostics.</li>
  <li><strong>Examples:</strong> <code class="language-plaintext highlighter-rouge">ping</code> utility uses ICMP echo requests and replies to test network connectivity. <code class="language-plaintext highlighter-rouge">traceroute</code> (or <code class="language-plaintext highlighter-rouge">tracert</code> on Windows) uses ICMP time exceeded messages to trace the path of a packet.</li>
</ul>

<h4 id="c-arp-address-resolution-protocol">c) ARP (Address Resolution Protocol)</h4>

<ul>
  <li><strong>Purpose:</strong> Used to resolve a logical address (IP address) to a physical address (MAC address) within the same local network segment.</li>
  <li><strong>Process:</strong> When a host needs to send a packet to another host on the same network, it knows the destination IP address but needs the destination MAC address to frame the packet at the Data Link Layer. The sending host broadcasts an ARP request containing the destination IP address. The host with that IP address responds with an ARP reply containing its MAC address.</li>
  <li><strong>ARP Cache:</strong> Hosts maintain an ARP cache to store recently resolved IP-to-MAC address mappings to avoid sending ARP requests for every communication.</li>
</ul>

<h3 id="5-network-devices">5. Network Devices</h3>

<p>The Network Layer primarily involves two key types of network devices:</p>

<h4 id="a-routers">a) Routers</h4>

<ul>
  <li><strong>Primary Function:</strong> To forward data packets between different networks based on their destination IP addresses.</li>
  <li><strong>Key Features:</strong>
    <ul>
      <li>Maintain routing tables to determine the best path for packets.</li>
      <li>Connect different network segments (can be different network technologies).</li>
      <li>Perform packet forwarding based on routing decisions.</li>
      <li>Can implement security features like firewalls and access control lists (ACLs).</li>
    </ul>
  </li>
</ul>

<h4 id="b-gateways">b) Gateways</h4>

<ul>
  <li><strong>Broader Term:</strong> A gateway is a device that acts as an entry point to another network. It can be a router, firewall, or another type of device.</li>
  <li><strong>Default Gateway:</strong> In the context of IP networking, the default gateway is a router on the local network that a host uses to send traffic to destinations outside its own network.</li>
  <li><strong>Protocol Conversion:</strong> Gateways can also perform protocol conversion between different network architectures or protocols, although this is less common for simple IP routing.</li>
</ul>

<h2 id="key-takeaways-for-the-self-study-exam">Key Takeaways for the Self-Study Exam</h2>

<ul>
  <li><strong>Understand the core functions:</strong> Logical addressing (IP addresses), routing (path selection), and forwarding (packet movement).</li>
  <li><strong>Master IP addressing:</strong> Be able to explain the structure of IPv4 and IPv6 addresses, understand subnetting concepts and calculations (especially for IPv4), and know the different types of IP addresses.</li>
  <li><strong>Differentiate routing algorithms:</strong> Understand the differences between static and dynamic routing, and be able to explain the basic principles of distance vector and link state routing algorithms. Know the common protocols associated with each.</li>
  <li><strong>Know the key Network Layer protocols:</strong> Understand the purpose and basic operation of IP, ICMP, and ARP.</li>
  <li><strong>Identify the role of network devices:</strong> Clearly understand the function of routers and gateways in the Network Layer.</li>
</ul>

<h2 id="practice-and-review">Practice and Review</h2>

<ul>
  <li><strong>Work through examples:</strong> Practice subnetting calculations for IPv4.</li>
  <li><strong>Compare and contrast:</strong> Create tables to compare different routing algorithms and IP address versions.</li>
  <li><strong>Relate to real-world scenarios:</strong> Think about how these concepts apply to your own internet usage and network setups.</li>
  <li><strong>Review past exam papers:</strong> Understand the types of questions that are typically asked on this topic in the Chinese Self-Study Exam.</li>
</ul>

<p>By thoroughly understanding these concepts, you will build a strong foundation in the Network Layer, which is essential for further studies in computer networking. Good luck with your studies!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
