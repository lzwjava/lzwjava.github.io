<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Using ShellJS to Execute Shell Commands</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Using ShellJS to Execute Shell Commands | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Using ShellJS to Execute Shell Commands" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-03-06-shelljs-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-03-06-shelljs-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Using ShellJS to Execute Shell Commands" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Using ShellJS to Execute Shell Commands","url":"https://lzwjava.github.io/notes/2025-03-06-shelljs-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=5dc6bde1e9a37ea9c508461e5a5cdae981a42eb8">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=5dc6bde1e9a37ea9c508461e5a5cdae981a42eb8" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Using ShellJS to Execute Shell Commands | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-03-06-shelljs-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-03-06-shelljs-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.09</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/shelljs-en" selected>English</option>
        <option value="/shelljs-zh" >中文</option>
        <option value="/shelljs-ja" >日本語</option>
        <option value="/shelljs-es" >Español</option>
        <option value="/shelljs-hi" >हिंदी</option>
        <option value="/shelljs-fr" >Français</option>
        <option value="/shelljs-de" >Deutsch</option>
        <option value="/shelljs-ar" >العربية</option>
        <option value="/shelljs-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>ShellJS is a JavaScript library that provides Unix shell commands (like <code class="language-plaintext highlighter-rouge">cp</code>, <code class="language-plaintext highlighter-rouge">mkdir</code>, <code class="language-plaintext highlighter-rouge">exec</code>, etc.) for use in Node.js projects. It simplifies writing cross-platform scripts by allowing you to execute familiar shell commands directly in JavaScript. However, when it comes to frontend development—typically referring to code that runs in the browser—ShellJS is not directly applicable because it relies on Node.js APIs unavailable in the browser environment. Below, I’ll explain why this is the case and how you can still use ShellJS effectively in the context of frontend development workflows.</p>

<h3 id="why-shelljs-cant-run-directly-in-the-browser">Why ShellJS Can’t Run Directly in the Browser</h3>
<ul>
  <li><strong>Node.js Dependency</strong>: ShellJS is built on top of the Node.js runtime, which provides APIs for file system access, process execution, and other system-level operations. These APIs are not available in the browser due to its sandboxed security model.</li>
  <li><strong>Browser Security Restrictions</strong>: Browsers prevent JavaScript from accessing the local file system or executing arbitrary commands to protect users from malicious scripts. Since ShellJS commands like <code class="language-plaintext highlighter-rouge">exec</code> (to run external processes) or <code class="language-plaintext highlighter-rouge">cp</code> (to copy files) depend on these capabilities, they cannot function in a browser environment.</li>
</ul>

<p>As a result, you cannot use ShellJS directly in client-side JavaScript that runs in the browser. However, ShellJS can still play a valuable role in frontend development by integrating it into your build processes or development tools, which typically run on Node.js.</p>

<h3 id="how-to-use-shelljs-in-frontend-development-workflows">How to Use ShellJS in Frontend Development Workflows</h3>
<p>While ShellJS doesn’t execute in the browser, you can leverage it in Node.js-based scripts to automate tasks that support your frontend development. Frontend projects often rely on build tools like Webpack, Gulp, or Grunt, which run on Node.js and can incorporate ShellJS to streamline workflows. Here’s how to do it:</p>

<h4 id="1-install-shelljs">1. Install ShellJS</h4>
<p>First, ensure you have Node.js installed on your system. Then, add ShellJS to your project using npm or yarn:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>shelljs
</code></pre></div></div>

<p>or</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add shelljs
</code></pre></div></div>

<h4 id="2-create-a-nodejs-script-with-shelljs">2. Create a Node.js Script with ShellJS</h4>
<p>Write a script that uses ShellJS to perform tasks relevant to your frontend project, such as copying files, creating directories, or running command-line tools. Save this script as a <code class="language-plaintext highlighter-rouge">.js</code> file (e.g., <code class="language-plaintext highlighter-rouge">build.js</code>).</p>

<p>Here’s an example script that prepares frontend assets:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">shell</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">shelljs</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Create a build directory if it doesn’t exist</span>
<span class="nx">shell</span><span class="p">.</span><span class="nx">mkdir</span><span class="p">(</span><span class="dl">'</span><span class="s1">-p</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">build</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Copy HTML files to the build directory</span>
<span class="nx">shell</span><span class="p">.</span><span class="nx">cp</span><span class="p">(</span><span class="dl">'</span><span class="s1">-R</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">src/*.html</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">build/</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Compile Sass to CSS</span>
<span class="nx">shell</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="dl">'</span><span class="s1">sass src/styles.scss build/styles.css</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Copy JavaScript files</span>
<span class="nx">shell</span><span class="p">.</span><span class="nx">cp</span><span class="p">(</span><span class="dl">'</span><span class="s1">-R</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">src/*.js</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">build/</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">shell.mkdir('-p', 'build')</code></strong>: Creates a <code class="language-plaintext highlighter-rouge">build</code> directory, with <code class="language-plaintext highlighter-rouge">-p</code> ensuring no error if it already exists.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">shell.cp('-R', 'src/*.html', 'build/')</code></strong>: Copies all HTML files from <code class="language-plaintext highlighter-rouge">src</code> to <code class="language-plaintext highlighter-rouge">build</code>, with <code class="language-plaintext highlighter-rouge">-R</code> for recursive copying.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">shell.exec('sass src/styles.scss build/styles.css')</code></strong>: Runs the Sass compiler to generate CSS.</li>
</ul>

<h4 id="3-integrate-the-script-into-your-workflow">3. Integrate the Script into Your Workflow</h4>
<p>You can run this script in several ways:</p>
<ul>
  <li><strong>Directly via Node.js</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node build.js
</code></pre></div>    </div>
  </li>
  <li><strong>As an npm Script</strong>: Add it to your <code class="language-plaintext highlighter-rouge">package.json</code>:
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node build.js"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
    <p>Then run:</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run build
</code></pre></div>    </div>
  </li>
  <li><strong>With Build Tools</strong>: Incorporate ShellJS into tools like Gulp. For example:
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">gulp</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">shell</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">shelljs</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="dl">'</span><span class="s1">build</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">shell</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="dl">'</span><span class="s1">sass src/styles.scss build/styles.css</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">shell</span><span class="p">.</span><span class="nx">cp</span><span class="p">(</span><span class="dl">'</span><span class="s1">-R</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">src/*.js</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">build/</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">done</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="4-use-cases-in-frontend-development">4. Use Cases in Frontend Development</h4>
<p>ShellJS can automate various tasks in your frontend workflow:</p>
<ul>
  <li><strong>Asset Management</strong>: Copy images, fonts, or other static files to a build directory.</li>
  <li><strong>CSS/JavaScript Processing</strong>: Run tools like Sass, PostCSS, or UglifyJS via <code class="language-plaintext highlighter-rouge">shell.exec</code>.</li>
  <li><strong>Testing and Linting</strong>: Execute test runners or linters (e.g., <code class="language-plaintext highlighter-rouge">shell.exec('eslint src/*.js')</code>).</li>
  <li><strong>Deployment Prep</strong>: Bundle files or clean directories (e.g., <code class="language-plaintext highlighter-rouge">shell.rm('-rf', 'build/*')</code>).</li>
</ul>

<h3 id="example-automating-a-frontend-build-process">Example: Automating a Frontend Build Process</h3>
<p>Imagine you’re building a simple web app with HTML, Sass, and JavaScript. Here’s how you might use ShellJS to automate the build:</p>

<p><strong>Directory Structure</strong>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>project/
├── src/
│   ├── index.html
│   ├── styles.scss
│   └── app.js
├── build.js
└── package.json
</code></pre></div></div>

<p><strong>build.js</strong>:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">shell</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">shelljs</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Clean the build directory</span>
<span class="nx">shell</span><span class="p">.</span><span class="nx">rm</span><span class="p">(</span><span class="dl">'</span><span class="s1">-rf</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">build/*</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Create the build directory</span>
<span class="nx">shell</span><span class="p">.</span><span class="nx">mkdir</span><span class="p">(</span><span class="dl">'</span><span class="s1">-p</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">build</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Copy HTML</span>
<span class="nx">shell</span><span class="p">.</span><span class="nx">cp</span><span class="p">(</span><span class="dl">'</span><span class="s1">src/index.html</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">build/</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Compile Sass</span>
<span class="nx">shell</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="dl">'</span><span class="s1">sass src/styles.scss build/styles.css</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Copy JavaScript</span>
<span class="nx">shell</span><span class="p">.</span><span class="nx">cp</span><span class="p">(</span><span class="dl">'</span><span class="s1">src/app.js</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">build/</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>package.json</strong>:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node build.js"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"shelljs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.8.5"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Run <code class="language-plaintext highlighter-rouge">npm run build</code>, and ShellJS will prepare your <code class="language-plaintext highlighter-rouge">build</code> directory with the compiled and copied files, ready for deployment.</p>

<h3 id="key-takeaways">Key Takeaways</h3>
<ul>
  <li><strong>Not for Browser Use</strong>: ShellJS cannot run in the browser due to its reliance on Node.js and system-level operations.</li>
  <li><strong>Perfect for Build Scripts</strong>: Use it in Node.js-based scripts to automate frontend tasks like file manipulation and command execution.</li>
  <li><strong>Cross-Platform</strong>: ShellJS ensures your scripts work consistently across Windows, Linux, and macOS, making it ideal for diverse development environments.</li>
</ul>

<p>By incorporating ShellJS into your Node.js-powered build processes, you can enhance your frontend development workflow with powerful automation, even though it doesn’t run directly in the browser.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
