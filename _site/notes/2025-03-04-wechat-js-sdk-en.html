<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>WeChat JS SDK</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>WeChat JS SDK | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="WeChat JS SDK" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-03-04-wechat-js-sdk-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-03-04-wechat-js-sdk-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="WeChat JS SDK" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"WeChat JS SDK","url":"https://lzwjava.github.io/notes/2025-03-04-wechat-js-sdk-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=4f69a2129358b185484a05b147a57d9023fbfae9">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=4f69a2129358b185484a05b147a57d9023fbfae9" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       WeChat JS SDK | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-03-04-wechat-js-sdk-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-03-04-wechat-js-sdk-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/wechat-js-sdk-en" selected>English</option>
        <option value="/wechat-js-sdk-zh" >中文</option>
        <option value="/wechat-js-sdk-ja" >日本語</option>
        <option value="/wechat-js-sdk-es" >Español</option>
        <option value="/wechat-js-sdk-hi" >हिंदी</option>
        <option value="/wechat-js-sdk-fr" >Français</option>
        <option value="/wechat-js-sdk-de" >Deutsch</option>
        <option value="/wechat-js-sdk-ar" >العربية</option>
        <option value="/wechat-js-sdk-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="key-points">Key Points</h3>
<ul>
  <li>It seems likely that to use “weixin-js-sdk” version “^1.2.0”, you first install it via npm and then import it into your JavaScript code.</li>
  <li>Research suggests you configure it with your WeChat public account details, like appId and signature, generated server-side.</li>
  <li>The evidence leans toward following the official WeChat JS SDK documentation for usage, as the package is a wrapper for it.</li>
</ul>

<h3 id="installation">Installation</h3>
<p>Start by installing the package using npm in your project directory:</p>
<ul>
  <li>Run <code class="language-plaintext highlighter-rouge">npm install weixin-js-sdk</code> to add it to your dependencies.</li>
</ul>

<h3 id="importing-and-using">Importing and Using</h3>
<p>Import the SDK in your JavaScript file, then configure and use it with WeChat APIs:</p>
<ul>
  <li>Use <code class="language-plaintext highlighter-rouge">import wx from 'weixin-js-sdk';</code> for ES6 or <code class="language-plaintext highlighter-rouge">const wx = require('weixin-js-sdk');</code> for CommonJS.</li>
  <li>Configure with <code class="language-plaintext highlighter-rouge">wx.config({ appId: 'your_app_id', timestamp: your_timestamp, nonceStr: 'your_nonce_str', signature: 'your_signature', jsApiList: ['onMenuShareAppMessage'] });</code>.</li>
  <li>Handle success with <code class="language-plaintext highlighter-rouge">wx.ready()</code> and errors with <code class="language-plaintext highlighter-rouge">wx.error()</code>.</li>
</ul>

<h3 id="server-side-setup">Server-Side Setup</h3>
<p>Note that you’ll need a WeChat public account, bind your domain, and generate a signature on the server using WeChat’s API, as this involves sensitive credentials.</p>

<hr />

<h3 id="survey-note-detailed-guide-on-using-weixin-js-sdk-version-120">Survey Note: Detailed Guide on Using “weixin-js-sdk” Version “^1.2.0”</h3>

<p>This note provides a comprehensive guide on utilizing the “weixin-js-sdk” package, specifically version “^1.2.0”, which is a wrapper for the WeChat JS SDK, enabling web developers to leverage WeChat’s mobile capabilities within their applications. The package facilitates integration with CommonJS and TypeScript, making it suitable for modern web development environments like browserify and webpack. Below, we detail the process, drawing from available documentation and examples, ensuring a thorough understanding for implementation.</p>

<h4 id="background-and-context">Background and Context</h4>
<p>The “weixin-js-sdk” package, as observed from its npm listing, is designed to encapsulate the official WeChat JS SDK, version 1.6.0, and is currently at version 1.6.5 on npm, published a year ago as of March 3, 2025. The package description highlights its support for CommonJS and TypeScript, suggesting it’s tailored for Node.js environments and modern bundlers. Given the user’s specification of “^1.2.0”, which allows any version from 1.2.0 up to but not including 2.0.0, and considering the latest version is 1.6.5, it’s reasonable to assume compatibility with the provided guidance, though version-specific changes should be checked in the official documentation.</p>

<p>The WeChat JS SDK, as per the official documentation, is a web development toolkit delivered by the WeChat Official Accounts Platform, enabling features like sharing, scanning QR codes, and location services. The package’s GitHub repository, maintained by yanxi123-com, reinforces that it’s a direct port of the official SDK, with usage instructions pointing to <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html">WeChat JS SDK Documentation</a>.</p>

<h4 id="installation-process">Installation Process</h4>
<p>To begin, install the package via npm, which is the standard package manager for Node.js projects. The command is straightforward:</p>
<ul>
  <li>Execute <code class="language-plaintext highlighter-rouge">npm install weixin-js-sdk</code> in your project directory. This will download the latest version compatible with “^1.2.0”, likely 1.6.5, given the npm registry’s current state.</li>
</ul>

<p>For those using yarn, an alternative would be <code class="language-plaintext highlighter-rouge">yarn add weixin-js-sdk</code>, ensuring the package is added to your project’s dependencies. This step is crucial as it integrates the SDK into your project, making it available for import in your JavaScript files.</p>

<h4 id="importing-and-initial-setup">Importing and Initial Setup</h4>
<p>Once installed, the next step is to import the SDK into your code. The package supports both ES6 and CommonJS modules, catering to different development preferences:</p>
<ul>
  <li>For ES6, use <code class="language-plaintext highlighter-rouge">import wx from 'weixin-js-sdk';</code> at the top of your JavaScript file.</li>
  <li>For CommonJS, use <code class="language-plaintext highlighter-rouge">const wx = require('weixin-js-sdk');</code>, which is typical in Node.js environments without transpilation.</li>
</ul>

<p>This import exposes the <code class="language-plaintext highlighter-rouge">wx</code> object, which is the core interface for interacting with WeChat’s JS APIs. It’s important to note that, unlike including the SDK via a script tag, which makes <code class="language-plaintext highlighter-rouge">wx</code> globally available, importing via npm in a bundled environment (e.g., webpack) may require ensuring <code class="language-plaintext highlighter-rouge">wx</code> is attached to the global window object for certain use cases, though the package’s design suggests it handles this internally, given its CommonJS compatibility.</p>

<h4 id="configuration-and-usage">Configuration and Usage</h4>
<p>The configuration process involves setting up <code class="language-plaintext highlighter-rouge">wx.config</code>, which is essential for initializing the SDK with your WeChat public account details. This step requires parameters that are typically generated server-side due to security considerations:</p>
<ul>
  <li><strong>Parameters Needed:</strong> <code class="language-plaintext highlighter-rouge">debug</code> (boolean, for debugging), <code class="language-plaintext highlighter-rouge">appId</code> (your WeChat app ID), <code class="language-plaintext highlighter-rouge">timestamp</code> (current timestamp in seconds), <code class="language-plaintext highlighter-rouge">nonceStr</code> (random string), <code class="language-plaintext highlighter-rouge">signature</code> (generated using jsapi_ticket and other parameters), and <code class="language-plaintext highlighter-rouge">jsApiList</code> (array of APIs you intend to use, e.g., <code class="language-plaintext highlighter-rouge">['onMenuShareAppMessage', 'onMenuShareTimeline']</code>).</li>
</ul>

<p>A basic configuration example is:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">wx</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="na">debug</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">appId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">your_app_id</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="nx">your_timestamp</span><span class="p">,</span>
    <span class="na">nonceStr</span><span class="p">:</span> <span class="dl">'</span><span class="s1">your_nonce_str</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">signature</span><span class="p">:</span> <span class="dl">'</span><span class="s1">your_signature</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">jsApiList</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">onMenuShareAppMessage</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">onMenuShareTimeline</span><span class="dl">'</span><span class="p">]</span>
<span class="p">});</span>
</code></pre></div></div>

<p>After configuration, handle the outcome:</p>
<ul>
  <li>Use <code class="language-plaintext highlighter-rouge">wx.ready(function() { ... });</code> to execute code once the configuration is verified successfully. This is where you can call WeChat APIs, such as sharing:
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">wx</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">wx</span><span class="p">.</span><span class="nx">onMenuShareAppMessage</span><span class="p">({</span>
        <span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Your title</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">desc</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Your description</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">link</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Your link</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">imgUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Your image URL</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="c1">// Callback for successful share</span>
        <span class="p">},</span>
        <span class="na">cancel</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="c1">// Callback for canceled share</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>    </div>
  </li>
  <li>Use <code class="language-plaintext highlighter-rouge">wx.error(function(res) { ... });</code> to handle configuration errors, which might indicate issues with the signature or domain settings.</li>
</ul>

<h4 id="server-side-requirements-and-signature-generation">Server-Side Requirements and Signature Generation</h4>
<p>A critical aspect is the server-side setup, as the signature generation involves sensitive credentials and API calls to WeChat’s servers. To generate the signature:</p>
<ul>
  <li>First, obtain an access token using your appId and appSecret via WeChat’s API.</li>
  <li>Then, use the access token to get a jsapi_ticket.</li>
  <li>Finally, generate the signature using the jsapi_ticket, the current URL, a nonce string, and timestamp, following the algorithm detailed in <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#62">Appendix 1 of WeChat JS SDK Documentation</a>.</li>
</ul>

<p>This process is typically implemented in languages like PHP, Java, Node.js, or Python, with sample code provided in the documentation. Cache the access token and jsapi_ticket for 7200 seconds each to avoid hitting rate limits, as noted in the documentation.</p>

<p>Additionally, ensure your domain is bound to your WeChat public account:</p>
<ul>
  <li>Log in to the WeChat Official Accounts Platform, navigate to Official Account Settings &gt; Feature Settings, and enter the JS API Secure Domain Name. This step is crucial for security and API access.</li>
</ul>

<h4 id="version-considerations">Version Considerations</h4>
<p>Given the user’s specification of “^1.2.0”, and the package’s latest version being 1.6.5, it’s worth noting that the package version may correspond to updates in packaging rather than the underlying SDK version, which is 1.6.0 based on the official source. The usage should remain consistent, but for version 1.2.0 specifically, check the npm changelog or GitHub releases for any noted changes, though general guidance suggests minimal impact on basic usage.</p>

<h4 id="examples-and-additional-resources">Examples and Additional Resources</h4>
<p>For practical implementation, examples can be found in various GitHub repositories, such as <a href="https://github.com/yanxi123-com/weixin-js-sdk">yanxi123-com/weixin-js-sdk</a>, which provides the source and usage notes. Additionally, the official documentation includes DEMO links, such as <a href="https://www.weixinsxy.com/jssdk/">WeChat JS-SDK Examples</a>, though specific content wasn’t detailed in searches, suggesting checking the site for sample code and zip files.</p>

<h4 id="table-summary-of-steps-and-requirements">Table: Summary of Steps and Requirements</h4>

<table>
  <thead>
    <tr>
      <th>Step</th>
      <th>Description</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Install Package</td>
      <td>Run <code class="language-plaintext highlighter-rouge">npm install weixin-js-sdk</code> or <code class="language-plaintext highlighter-rouge">yarn add weixin-js-sdk</code></td>
      <td>Ensures package is in project dependencies.</td>
    </tr>
    <tr>
      <td>Import SDK</td>
      <td>Use <code class="language-plaintext highlighter-rouge">import wx from 'weixin-js-sdk';</code> or <code class="language-plaintext highlighter-rouge">const wx = require('weixin-js-sdk');</code></td>
      <td>Choose based on module system (ES6 or CommonJS).</td>
    </tr>
    <tr>
      <td>Configure SDK</td>
      <td>Use <code class="language-plaintext highlighter-rouge">wx.config</code> with appId, timestamp, nonceStr, signature, and jsApiList</td>
      <td>Signature generated server-side, requires WeChat public account.</td>
    </tr>
    <tr>
      <td>Handle Configuration</td>
      <td>Use <code class="language-plaintext highlighter-rouge">wx.ready()</code> for success, <code class="language-plaintext highlighter-rouge">wx.error()</code> for failures</td>
      <td>Place API calls in <code class="language-plaintext highlighter-rouge">ready</code> for page load, handle errors appropriately.</td>
    </tr>
    <tr>
      <td>Server-Side Setup</td>
      <td>Generate signature using access token and jsapi_ticket, cache for 7200s</td>
      <td>Involves WeChat API calls, ensure domain is bound.</td>
    </tr>
  </tbody>
</table>

<p>This table encapsulates the process, providing a quick reference for implementation.</p>

<h4 id="unexpected-detail-integration-with-bundlers">Unexpected Detail: Integration with Bundlers</h4>
<p>An interesting aspect is the package’s compatibility with bundlers like webpack, which is not immediately obvious from basic usage. This allows for modular development, potentially simplifying dependency management in larger projects, and supports TypeScript, enhancing type safety, which might be unexpected for users familiar only with script tag inclusion.</p>

<h4 id="conclusion">Conclusion</h4>
<p>In summary, using “weixin-js-sdk” version “^1.2.0” involves installing via npm, importing into your code, configuring with server-generated parameters, and following the official WeChat JS SDK documentation for API usage. Ensure server-side setup for signature generation and domain binding, and consider the package’s bundler compatibility for modern web development. For detailed examples, explore the provided GitHub repositories and official documentation links.</p>

<h3 id="key-citations">Key Citations</h3>
<ul>
  <li><a href="https://www.npmjs.com/package/weixin-js-sdk">weixin-js-sdk npm package description</a></li>
  <li><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html">WeChat JS SDK Official Documentation</a></li>
  <li><a href="https://github.com/yanxi123-com/weixin-js-sdk">weixin-js-sdk GitHub repository</a></li>
</ul>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
