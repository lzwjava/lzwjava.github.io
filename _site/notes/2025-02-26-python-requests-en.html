<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Python Requests Library</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Python Requests Library | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Python Requests Library" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-02-26-python-requests-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-02-26-python-requests-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Python Requests Library" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Python Requests Library","url":"https://lzwjava.github.io/notes/2025-02-26-python-requests-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=1f84d5e681784ac288d87139b67cfd129108442b">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=1f84d5e681784ac288d87139b67cfd129108442b" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Python Requests Library | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-02-26-python-requests-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-02-26-python-requests-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/python-requests-en" selected>English</option>
        <option value="/python-requests-zh" >中文</option>
        <option value="/python-requests-ja" >日本語</option>
        <option value="/python-requests-es" >Español</option>
        <option value="/python-requests-hi" >हिंदी</option>
        <option value="/python-requests-fr" >Français</option>
        <option value="/python-requests-de" >Deutsch</option>
        <option value="/python-requests-ar" >العربية</option>
        <option value="/python-requests-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>To fully replace Postman with the Python <code class="language-plaintext highlighter-rouge">requests</code> library, you can perform all common HTTP operations such as sending different types of requests, handling headers, working with JSON data, uploading files, using proxies, and asserting responses. Below, I’ll walk you through examples for each of these functionalities step-by-step, ensuring you have a complete and practical guide.</p>

<h3 id="step-1-install-the-requests-library">Step 1: Install the Requests Library</h3>
<p>Before you begin, ensure the <code class="language-plaintext highlighter-rouge">requests</code> library is installed. Run this command in your terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>requests
</code></pre></div></div>

<p>Now, let’s dive into the examples.</p>

<hr />

<h3 id="sending-http-requests">Sending HTTP Requests</h3>
<p>The <code class="language-plaintext highlighter-rouge">requests</code> library supports all HTTP methods like GET, POST, PUT, DELETE, etc. Here’s how to send a simple GET and POST request:</p>

<h4 id="get-request">GET Request</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="c1"># Send a GET request
</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.example.com/data'</span><span class="p">)</span>

<span class="c1"># Print the status code and response body
</span><span class="k">print</span><span class="p">(</span><span class="s">"Status Code:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Response Body:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="post-request">POST Request</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Send a POST request with no data
</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.example.com/submit'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Status Code:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Response Body:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="adding-headers">Adding Headers</h3>
<p>Headers are often used for authentication, content types, or custom metadata. Pass them as a dictionary to the <code class="language-plaintext highlighter-rouge">headers</code> parameter.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Define custom headers
</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer my_token'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'User-Agent'</span><span class="p">:</span> <span class="s">'MyApp/1.0'</span>
<span class="p">}</span>

<span class="c1"># Send a GET request with headers
</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.example.com/data'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Status Code:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Response Headers:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Response Body:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="sending-json-data">Sending JSON Data</h3>
<p>To send JSON data in a POST request (like selecting JSON in Postman’s body tab), use the <code class="language-plaintext highlighter-rouge">json</code> parameter. This automatically sets the <code class="language-plaintext highlighter-rouge">Content-Type</code> to <code class="language-plaintext highlighter-rouge">application/json</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Define JSON data
</span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'key1'</span><span class="p">:</span> <span class="s">'value1'</span><span class="p">,</span>
    <span class="s">'key2'</span><span class="p">:</span> <span class="s">'value2'</span>
<span class="p">}</span>

<span class="c1"># Send a POST request with JSON data
</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.example.com/submit'</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Status Code:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Response JSON:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div></div>

<hr />

<h3 id="uploading-files">Uploading Files</h3>
<p>To upload files (similar to Postman’s form-data option), use the <code class="language-plaintext highlighter-rouge">files</code> parameter. Open files in binary mode (<code class="language-plaintext highlighter-rouge">'rb'</code>) and optionally include additional form data.</p>

<h4 id="simple-file-upload">Simple File Upload</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Prepare file for upload
</span><span class="n">files</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'file'</span><span class="p">:</span> <span class="nb">open</span><span class="p">(</span><span class="s">'myfile.txt'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Send POST request with file
</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.example.com/upload'</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Status Code:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Response Body:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="c1"># Close the file manually
</span><span class="n">files</span><span class="p">[</span><span class="s">'file'</span><span class="p">].</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="file-upload-with-form-data-recommended-approach">File Upload with Form Data (Recommended Approach)</h4>
<p>Using a <code class="language-plaintext highlighter-rouge">with</code> statement ensures the file is closed automatically:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Additional form data
</span><span class="n">form_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'description'</span><span class="p">:</span> <span class="s">'My file upload'</span>
<span class="p">}</span>

<span class="c1"># Open and upload file
</span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'myfile.txt'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">files</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">'file'</span><span class="p">:</span> <span class="n">f</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'https://api.example.com/upload'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">form_data</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Status Code:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Response Body:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="using-proxies">Using Proxies</h3>
<p>To route requests through a proxy (similar to Postman’s proxy settings), use the <code class="language-plaintext highlighter-rouge">proxies</code> parameter with a dictionary.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Define proxy settings
</span><span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'http'</span><span class="p">:</span> <span class="s">'http://myproxy:8080'</span><span class="p">,</span>
    <span class="s">'https'</span><span class="p">:</span> <span class="s">'https://myproxy:8080'</span>
<span class="p">}</span>

<span class="c1"># Send a request through a proxy
</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.example.com/data'</span><span class="p">,</span> <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Status Code:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Response Body:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="handling-and-asserting-responses">Handling and Asserting Responses</h3>
<p>The <code class="language-plaintext highlighter-rouge">requests</code> library provides easy access to response details like status codes, JSON data, headers, and cookies. You can use Python’s <code class="language-plaintext highlighter-rouge">assert</code> statements to validate responses, similar to Postman’s test scripts.</p>

<h4 id="parsing-json-responses">Parsing JSON Responses</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.example.com/data'</span><span class="p">)</span>

<span class="c1"># Check status code and parse JSON
</span><span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>  <span class="c1"># Converts response to Python dict/list
</span>    <span class="k">print</span><span class="p">(</span><span class="s">"JSON Data:"</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Error:"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="asserting-response-details">Asserting Response Details</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.example.com/data'</span><span class="p">)</span>

<span class="c1"># Assert status code
</span><span class="k">assert</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">,</span> <span class="sa">f</span><span class="s">"Expected 200, got </span><span class="si">{</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="s">"</span>

<span class="c1"># Parse JSON and assert content
</span><span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
<span class="k">assert</span> <span class="s">'key'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">,</span> <span class="s">"Key not found in response"</span>
<span class="k">assert</span> <span class="n">data</span><span class="p">[</span><span class="s">'key'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'expected_value'</span><span class="p">,</span> <span class="s">"Value does not match"</span>

<span class="c1"># Check response headers
</span><span class="k">assert</span> <span class="s">'Content-Type'</span> <span class="ow">in</span> <span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">,</span> <span class="s">"Content-Type header missing"</span>
<span class="k">assert</span> <span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'Content-Type'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">"Unexpected Content-Type"</span>

<span class="c1"># Check cookies
</span><span class="n">cookies</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">cookies</span>
<span class="k">assert</span> <span class="s">'session_id'</span> <span class="ow">in</span> <span class="n">cookies</span><span class="p">,</span> <span class="s">"Session ID cookie missing"</span>

<span class="k">print</span><span class="p">(</span><span class="s">"All assertions passed!"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="handling-errors">Handling Errors</h4>
<p>Wrap requests in a <code class="language-plaintext highlighter-rouge">try-except</code> block to catch network or HTTP errors:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.example.com/data'</span><span class="p">)</span>
    <span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># Raises an exception for 4xx/5xx errors
</span>    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Data:"</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Request failed:"</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="comprehensive-example">Comprehensive Example</h3>
<p>Here’s a full example combining headers, file upload, proxies, and response assertions:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="c1"># Define headers
</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer my_token'</span>
<span class="p">}</span>

<span class="c1"># Form data and file
</span><span class="n">form_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'description'</span><span class="p">:</span> <span class="s">'My file upload'</span>
<span class="p">}</span>

<span class="c1"># Proxy settings
</span><span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'http'</span><span class="p">:</span> <span class="s">'http://myproxy:8080'</span><span class="p">,</span>
    <span class="s">'https'</span><span class="p">:</span> <span class="s">'https://myproxy:8080'</span>
<span class="p">}</span>

<span class="c1"># Send request with file upload
</span><span class="k">try</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'myfile.txt'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s">'file'</span><span class="p">:</span> <span class="n">f</span><span class="p">}</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
            <span class="s">'https://api.example.com/upload'</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">form_data</span><span class="p">,</span>
            <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
            <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span>
        <span class="p">)</span>
        <span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># Check for HTTP errors
</span>
        <span class="c1"># Parse and assert response
</span>        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">assert</span> <span class="s">'upload_id'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">,</span> <span class="s">"Upload ID not found in response"</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Upload successful, ID:"</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s">'upload_id'</span><span class="p">])</span>

<span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Request failed:"</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="reusable-functions-replacing-postman-collections">Reusable Functions (Replacing Postman Collections)</h3>
<p>To mimic Postman’s saved requests or collections, encapsulate logic in functions:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">upload_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">proxy</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Authorization'</span><span class="p">:</span> <span class="sa">f</span><span class="s">'Bearer </span><span class="si">{</span><span class="n">token</span><span class="si">}</span><span class="s">'</span><span class="p">}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'description'</span><span class="p">:</span> <span class="n">description</span><span class="p">}</span>
    <span class="n">proxies</span> <span class="o">=</span> <span class="p">{</span><span class="s">'http'</span><span class="p">:</span> <span class="n">proxy</span><span class="p">,</span> <span class="s">'https'</span><span class="p">:</span> <span class="n">proxy</span><span class="p">}</span> <span class="k">if</span> <span class="n">proxy</span> <span class="k">else</span> <span class="bp">None</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s">'file'</span><span class="p">:</span> <span class="n">f</span><span class="p">}</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
                <span class="s">'https://api.example.com/upload'</span><span class="p">,</span>
                <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
                <span class="n">proxies</span><span class="o">=</span><span class="n">proxies</span>
            <span class="p">)</span>
            <span class="n">response</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
            <span class="k">assert</span> <span class="s">'upload_id'</span> <span class="ow">in</span> <span class="n">data</span><span class="p">,</span> <span class="s">"Upload ID not found"</span>
            <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="s">'upload_id'</span><span class="p">]</span>
    <span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Request failed:"</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># Usage
</span><span class="n">upload_id</span> <span class="o">=</span> <span class="n">upload_file</span><span class="p">(</span><span class="s">'myfile.txt'</span><span class="p">,</span> <span class="s">'My file upload'</span><span class="p">,</span> <span class="s">'my_token'</span><span class="p">,</span> <span class="s">'http://myproxy:8080'</span><span class="p">)</span>
<span class="k">if</span> <span class="n">upload_id</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Upload successful, ID:"</span><span class="p">,</span> <span class="n">upload_id</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h3 id="additional-features">Additional Features</h3>
<ul>
  <li><strong>Sessions</strong>: Use <code class="language-plaintext highlighter-rouge">requests.Session()</code> to persist cookies or headers across requests.</li>
  <li><strong>Timeouts</strong>: Add <code class="language-plaintext highlighter-rouge">timeout=5</code> (seconds) to requests to avoid hanging.</li>
  <li><strong>Redirects</strong>: Control with <code class="language-plaintext highlighter-rouge">allow_redirects=True/False</code>.</li>
</ul>

<hr />

<h3 id="summary">Summary</h3>
<p>With the <code class="language-plaintext highlighter-rouge">requests</code> library, you can:</p>
<ul>
  <li>Send HTTP requests (<code class="language-plaintext highlighter-rouge">get</code>, <code class="language-plaintext highlighter-rouge">post</code>, etc.)</li>
  <li>Include headers, JSON data, and file uploads</li>
  <li>Use proxies</li>
  <li>Parse and assert responses (status, JSON, headers, cookies)</li>
  <li>Organize code into reusable functions</li>
</ul>

<p>This gives you a programmatic, flexible alternative to Postman, suitable for scripting and automation!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
