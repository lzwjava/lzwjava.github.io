<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Latex Rendering in Hugo</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Latex Rendering in Hugo | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Latex Rendering in Hugo" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-05-29-hugo-latex-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-05-29-hugo-latex-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Latex Rendering in Hugo" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Latex Rendering in Hugo","url":"https://lzwjava.github.io/notes/2025-05-29-hugo-latex-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=4175c37c623d5a4cde52045ad478400a301d1db1">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=4175c37c623d5a4cde52045ad478400a301d1db1" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Latex Rendering in Hugo | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-05-29-hugo-latex-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-05-29-hugo-latex-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/hugo-latex-en" selected>English</option>
        <option value="/hugo-latex-zh" >中文</option>
        <option value="/hugo-latex-ja" >日本語</option>
        <option value="/hugo-latex-es" >Español</option>
        <option value="/hugo-latex-hi" >हिंदी</option>
        <option value="/hugo-latex-fr" >Français</option>
        <option value="/hugo-latex-de" >Deutsch</option>
        <option value="/hugo-latex-ar" >العربية</option>
        <option value="/hugo-latex-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>The issue you’re describing arises in <strong>Jekyll</strong> when using <strong>Kramdown</strong> with <strong>MathJax</strong> as the math engine. Kramdown, when configured with <code class="language-plaintext highlighter-rouge">math_engine: mathjax</code>, interprets parentheses <code class="language-plaintext highlighter-rouge">( )</code> in Markdown content as LaTeX delimiters for inline math (e.g., <code class="language-plaintext highlighter-rouge">\( \)</code>), which can break normal text containing parentheses. This is because MathJax is set up to parse <code class="language-plaintext highlighter-rouge">\( \)</code> or <code class="language-plaintext highlighter-rouge">$ $</code> for inline math, as shown in your configuration.</p>

<p>In <strong>Hugo</strong>, this issue is less likely to occur by default, but it depends on how you configure Hugo’s Markdown processor and MathJax integration. Below, I’ll explain why Hugo avoids this problem in most cases, how to prevent or fix it in Jekyll, and how to ensure it doesn’t happen in Hugo.</p>

<hr />

<h3 id="does-hugo-have-this-problem"><strong>Does Hugo Have This Problem?</strong></h3>
<p>Hugo typically avoids this issue because:</p>
<ol>
  <li><strong>Markdown Processor</strong>: Hugo uses <strong>Goldmark</strong> (or optionally Blackfriday) as its default Markdown renderer, which does not enable MathJax or LaTeX parsing out of the box. Unless you explicitly configure Hugo to use MathJax and set up inline math delimiters like <code class="language-plaintext highlighter-rouge">\( \)</code>, regular parentheses <code class="language-plaintext highlighter-rouge">( )</code> in your content won’t be misinterpreted as LaTeX.</li>
  <li><strong>MathJax Integration</strong>: Hugo doesn’t natively parse LaTeX. If you want MathJax support, you must manually add MathJax scripts (like the one you provided) to your theme’s templates (e.g., in <code class="language-plaintext highlighter-rouge">layouts/partials/head.html</code>) and configure delimiters. Hugo’s flexibility allows you to control how MathJax processes content, avoiding automatic parsing of <code class="language-plaintext highlighter-rouge">( )</code> unless explicitly enabled.</li>
  <li><strong>Shortcodes for Math</strong>: Hugo users often implement LaTeX rendering using shortcodes (e.g., <code class="language-plaintext highlighter-rouge">...</code>), which explicitly designate math content, preventing regular parentheses from being mistaken for LaTeX.</li>
</ol>

<p>In summary, Hugo won’t have this problem unless you configure MathJax with the same inline delimiters (<code class="language-plaintext highlighter-rouge">\( \)</code>) and enable automatic parsing without proper safeguards. By using shortcodes or avoiding <code class="language-plaintext highlighter-rouge">\( \)</code> as delimiters, Hugo can sidestep this issue entirely.</p>

<hr />

<h3 id="fixing-the-issue-in-jekyll"><strong>Fixing the Issue in Jekyll</strong></h3>
<p>In Jekyll, the problem occurs because Kramdown’s <code class="language-plaintext highlighter-rouge">math_engine: mathjax</code> setting, combined with your MathJax configuration, causes <code class="language-plaintext highlighter-rouge">( )</code> to be parsed as LaTeX. Here’s how to fix it:</p>

<h4 id="1-change-mathjax-inline-delimiters"><strong>1. Change MathJax Inline Delimiters</strong></h4>
<p>Modify the MathJax configuration to use different inline math delimiters, such as <code class="language-plaintext highlighter-rouge">$ $</code>, instead of <code class="language-plaintext highlighter-rouge">\( \)</code> to avoid conflicts with regular parentheses. Update the script in your Jekyll site’s HTML (e.g., in <code class="language-plaintext highlighter-rouge">_includes/head.html</code>):</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/x-mathjax-config"</span><span class="nt">&gt;</span>
  <span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">({</span>
    <span class="na">tex2jax</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">inlineMath</span><span class="p">:</span> <span class="p">[[</span><span class="dl">'</span><span class="s1">$</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">$</span><span class="dl">'</span><span class="p">]],</span> <span class="c1">// Use $ $ for inline math</span>
      <span class="na">displayMath</span><span class="p">:</span> <span class="p">[[</span><span class="dl">'</span><span class="s1">$$</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">$$</span><span class="dl">'</span><span class="p">],</span> <span class="p">[</span><span class="dl">'</span><span class="se">\</span><span class="s1">[</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="se">\</span><span class="s1">]</span><span class="dl">'</span><span class="p">]],</span>
      <span class="na">processEscapes</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">// Allow escaping $ to use it literally</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">HTML-CSS</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="na">linebreaks</span><span class="p">:</span> <span class="p">{</span> <span class="na">automatic</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">},</span>
    <span class="dl">"</span><span class="s2">CommonHTML</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="na">linebreaks</span><span class="p">:</span> <span class="p">{</span> <span class="na">automatic</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">},</span>
    <span class="na">TeX</span><span class="p">:</span> <span class="p">{</span> <span class="na">equationNumbers</span><span class="p">:</span> <span class="p">{</span> <span class="na">autoNumber</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AMS</span><span class="dl">"</span> <span class="p">}</span> <span class="p">}</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<ul>
  <li><strong>Why it works</strong>: By removing <code class="language-plaintext highlighter-rouge">['\(','\)']</code> from <code class="language-plaintext highlighter-rouge">inlineMath</code>, MathJax no longer interprets <code class="language-plaintext highlighter-rouge">( )</code> as LaTeX delimiters, preserving them for regular text. The <code class="language-plaintext highlighter-rouge">processEscapes: true</code> setting allows you to write <code class="language-plaintext highlighter-rouge">\$</code> in Markdown to display a literal <code class="language-plaintext highlighter-rouge">$</code> if needed.</li>
  <li><strong>In your Markdown</strong>: Use <code class="language-plaintext highlighter-rouge">$x^2$</code> for inline math instead of <code class="language-plaintext highlighter-rouge">\(x^2\)</code>. For example:
    <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>This is a formula: $x^2 + y^2 = z^2$. Normal text (not parsed).
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="2-escape-parentheses-in-markdown"><strong>2. Escape Parentheses in Markdown</strong></h4>
<p>If you want to keep <code class="language-plaintext highlighter-rouge">\( \)</code> as delimiters, escape parentheses in your Markdown content to prevent Kramdown/MathJax from parsing them as LaTeX. Use a backslash <code class="language-plaintext highlighter-rouge">\</code> before each parenthesis:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Normal text <span class="se">\(</span>not a formula<span class="se">\)</span>. This is a real formula: <span class="se">\(</span>x^2 + y^2<span class="se">\)</span>.
</code></pre></div></div>

<ul>
  <li><strong>Output</strong>: The escaped <code class="language-plaintext highlighter-rouge">\(not a formula\)</code> renders as <code class="language-plaintext highlighter-rouge">(not a formula)</code>, while <code class="language-plaintext highlighter-rouge">\(x^2 + y^2\)</code> renders as a LaTeX formula.</li>
  <li><strong>Drawback</strong>: This requires manually escaping every instance of <code class="language-plaintext highlighter-rouge">( )</code> in your content, which can be tedious.</li>
</ul>

<h4 id="3-disable-mathjax-for-specific-pages"><strong>3. Disable MathJax for Specific Pages</strong></h4>
<p>If you only need MathJax on certain pages (e.g., for math-heavy posts), disable it by default and enable it only where needed:</p>
<ul>
  <li>Remove the MathJax script from your global <code class="language-plaintext highlighter-rouge">_layouts/default.html</code> or <code class="language-plaintext highlighter-rouge">_includes/head.html</code>.</li>
  <li>Add a conditional include in your layout or page front matter. For example, in <code class="language-plaintext highlighter-rouge">_layouts/post.html</code>:</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

<ul>
  <li>In your Markdown file’s front matter, enable MathJax only for specific pages:
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">My Math Post</span>
<span class="na">mathjax</span><span class="pi">:</span> <span class="no">true</span>
<span class="nn">---</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Why it works</strong>: Pages without <code class="language-plaintext highlighter-rouge">mathjax: true</code> won’t load MathJax, so <code class="language-plaintext highlighter-rouge">( )</code> won’t be parsed as LaTeX.</li>
</ul>

<h4 id="4-use-a-different-math-engine"><strong>4. Use a Different Math Engine</strong></h4>
<p>Switch from MathJax to another math engine supported by Kramdown, like <strong>KaTeX</strong>, which is faster and less likely to misinterpret parentheses unless explicitly configured. Install KaTeX in your Jekyll site:</p>
<ul>
  <li>Add KaTeX scripts to <code class="language-plaintext highlighter-rouge">_includes/head.html</code>:
    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/auto-render.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">DOMContentLoaded</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">renderMathInElement</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">delimiters</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">left</span><span class="p">:</span> <span class="dl">"</span><span class="s2">$$</span><span class="dl">"</span><span class="p">,</span> <span class="na">right</span><span class="p">:</span> <span class="dl">"</span><span class="s2">$$</span><span class="dl">"</span><span class="p">,</span> <span class="na">display</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">left</span><span class="p">:</span> <span class="dl">"</span><span class="s2">$</span><span class="dl">"</span><span class="p">,</span> <span class="na">right</span><span class="p">:</span> <span class="dl">"</span><span class="s2">$</span><span class="dl">"</span><span class="p">,</span> <span class="na">display</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>Update <code class="language-plaintext highlighter-rouge">_config.yml</code>:
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">kramdown</span><span class="pi">:</span>
  <span class="na">math_engine</span><span class="pi">:</span> <span class="s">katex</span>
  <span class="na">input</span><span class="pi">:</span> <span class="s">GFM</span>
  <span class="na">syntax_highlighter</span><span class="pi">:</span> <span class="s">rouge</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Why it works</strong>: KaTeX is stricter about parsing and defaults to <code class="language-plaintext highlighter-rouge">$ $</code> for inline math, reducing conflicts with <code class="language-plaintext highlighter-rouge">( )</code>. It’s also faster than MathJax.</li>
</ul>

<hr />

<h3 id="ensuring-hugo-avoids-this-problem"><strong>Ensuring Hugo Avoids This Problem</strong></h3>
<p>To use MathJax in Hugo without running into the <code class="language-plaintext highlighter-rouge">( )</code> parsing issue, follow these steps:</p>

<ol>
  <li><strong>Add MathJax to Hugo</strong>:
    <ul>
      <li>Place the MathJax script in your theme’s partials (e.g., <code class="language-plaintext highlighter-rouge">layouts/partials/head.html</code>):
        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/x-mathjax-config"</span><span class="nt">&gt;</span>
  <span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">({</span>
    <span class="na">tex2jax</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">inlineMath</span><span class="p">:</span> <span class="p">[[</span><span class="dl">'</span><span class="s1">$</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">$</span><span class="dl">'</span><span class="p">]],</span>
      <span class="na">displayMath</span><span class="p">:</span> <span class="p">[[</span><span class="dl">'</span><span class="s1">$$</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">$$</span><span class="dl">'</span><span class="p">],</span> <span class="p">[</span><span class="dl">'</span><span class="se">\</span><span class="s1">[</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="se">\</span><span class="s1">]</span><span class="dl">'</span><span class="p">]],</span>
      <span class="na">processEscapes</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">HTML-CSS</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="na">linebreaks</span><span class="p">:</span> <span class="p">{</span> <span class="na">automatic</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">},</span>
    <span class="dl">"</span><span class="s2">CommonHTML</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="na">linebreaks</span><span class="p">:</span> <span class="p">{</span> <span class="na">automatic</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">},</span>
    <span class="na">TeX</span><span class="p">:</span> <span class="p">{</span> <span class="na">equationNumbers</span><span class="p">:</span> <span class="p">{</span> <span class="na">autoNumber</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AMS</span><span class="dl">"</span> <span class="p">}</span> <span class="p">}</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"</span><span class="nt">&gt;&lt;/script&gt;</span>
     
</code></pre></div>        </div>
      </li>
      <li>Enable MathJax in specific pages by adding to the front matter:
        <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">My Math Post</span>
<span class="na">mathjax</span><span class="pi">:</span> <span class="no">true</span>
<span class="nn">---</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Use Shortcodes for Math</strong>:
Create a shortcode (e.g., <code class="language-plaintext highlighter-rouge">layouts/shortcodes/math.html</code>) to explicitly wrap math content:
    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"math"</span><span class="nt">&gt;&lt;/span&gt;</span>
   
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"math"</span><span class="nt">&gt;&lt;/span&gt;</span>
   
</code></pre></div>    </div>
    <p>Use it in your Markdown:</p>
    <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Normal text (not parsed). Formula: $x^2 + y^2$.
</code></pre></div>    </div>
    <ul>
      <li><strong>Why it works</strong>: Shortcodes ensure only explicitly marked content is processed as math, leaving <code class="language-plaintext highlighter-rouge">( )</code> in regular text untouched.</li>
    </ul>
  </li>
  <li><strong>Use KaTeX Instead</strong>:
Hugo users often prefer KaTeX for its speed. Add KaTeX to <code class="language-plaintext highlighter-rouge">layouts/partials/head.html</code>:
    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/auto-render.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">DOMContentLoaded</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">renderMathInElement</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">delimiters</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="na">left</span><span class="p">:</span> <span class="dl">"</span><span class="s2">$$</span><span class="dl">"</span><span class="p">,</span> <span class="na">right</span><span class="p">:</span> <span class="dl">"</span><span class="s2">$$</span><span class="dl">"</span><span class="p">,</span> <span class="na">display</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">left</span><span class="p">:</span> <span class="dl">"</span><span class="s2">$</span><span class="dl">"</span><span class="p">,</span> <span class="na">right</span><span class="p">:</span> <span class="dl">"</span><span class="s2">$</span><span class="dl">"</span><span class="p">,</span> <span class="na">display</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
   
</code></pre></div>    </div>
    <p>Enable it in the front matter:</p>
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">math</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div>    </div>
    <p>Use <code class="language-plaintext highlighter-rouge">$ $</code> for inline math to avoid <code class="language-plaintext highlighter-rouge">( )</code> conflicts.</p>
  </li>
</ol>

<hr />

<h3 id="recommendation"><strong>Recommendation</strong></h3>
<ul>
  <li><strong>For Jekyll</strong>: Switch to <code class="language-plaintext highlighter-rouge">$ $</code> delimiters for MathJax or use KaTeX to avoid <code class="language-plaintext highlighter-rouge">( )</code> parsing issues. Escaping parentheses is a fallback but less practical for large sites.</li>
  <li><strong>For Hugo</strong>: You’re unlikely to encounter this issue unless you explicitly configure MathJax with <code class="language-plaintext highlighter-rouge">\( \)</code> delimiters. Use shortcodes or KaTeX for math rendering to ensure regular parentheses are safe.</li>
</ul>

<p>If you’re migrating from Jekyll to Hugo and want to keep your math content, I recommend using KaTeX in Hugo with shortcodes for explicit control. Let me know if you need help setting up Hugo’s MathJax/KaTeX integration or converting your Jekyll site’s math content!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
