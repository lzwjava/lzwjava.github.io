<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>GPG Key Management Basics</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>GPG Key Management Basics | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="GPG Key Management Basics" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-10-14-gpg-key-basics-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-10-14-gpg-key-basics-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="GPG Key Management Basics" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"GPG Key Management Basics","url":"https://lzwjava.github.io/notes/2025-10-14-gpg-key-basics-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=e3a75fb47b8940fc65479d537d719b0a8d28f820">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=e3a75fb47b8940fc65479d537d719b0a8d28f820" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       GPG Key Management Basics | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-10-14-gpg-key-basics-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-10-14-gpg-key-basics-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/gpg-key-basics-en" selected>English</option>
        <option value="/gpg-key-basics-zh" >中文</option>
        <option value="/gpg-key-basics-ja" >日本語</option>
        <option value="/gpg-key-basics-es" >Español</option>
        <option value="/gpg-key-basics-hi" >हिंदी</option>
        <option value="/gpg-key-basics-fr" >Français</option>
        <option value="/gpg-key-basics-de" >Deutsch</option>
        <option value="/gpg-key-basics-ar" >العربية</option>
        <option value="/gpg-key-basics-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h2 id="introduction-to-gpg-key-management">Introduction to GPG Key Management</h2>

<p>GPG (GNU Privacy Guard) is a free implementation of the OpenPGP standard for secure communication, used for encrypting, signing, and verifying data. At its core is <strong>public-key cryptography</strong>, where each user has a <strong>public key</strong> (shared openly for encryption and verification) and a <strong>private key</strong> (kept secret for decryption and signing). Key management involves creating, distributing, maintaining, and securing these keys to prevent tampering, compromise, or misuse. Poor management can lead to attacks like key substitution, where an attacker replaces your key with theirs to intercept communications.</p>

<p>The “web of trust” model in GPG allows users to certify each other’s keys, building a network of verified identities. Keys are stored in <strong>keyrings</strong> (public and private files, e.g., <code class="language-plaintext highlighter-rouge">pubring.kbx</code> and <code class="language-plaintext highlighter-rouge">secring.gpg</code> in older versions, or unified in newer ones). Always back up your private keys and use strong passphrases.</p>

<h2 id="key-structure">Key Structure</h2>

<p>A GPG keypair isn’t just one key—it’s a bundle:</p>
<ul>
  <li><strong>Primary key</strong>: A master signing key (e.g., RSA or DSA) used for certifying (signing) other keys and self-signing your key’s components.</li>
  <li><strong>Subkeys</strong>: Optional subordinate keys for specific tasks:
    <ul>
      <li>Signing subkey: For signing messages.</li>
      <li>Encryption subkey: For encrypting data (often rotated periodically).</li>
      <li>Authentication subkey: For SSH or similar.</li>
    </ul>
  </li>
  <li><strong>User IDs (UIDs)</strong>: Strings like “Alice (Comment) <a href="mailto:alice@example.com">alice@example.com</a>” linking the key to a real identity. Multiple UIDs can exist for different roles.</li>
  <li><strong>Self-signatures</strong>: The primary key signs its own components to prevent tampering.</li>
</ul>

<p>View a key’s structure interactively:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gpg --edit-key &lt;key-id-or-email&gt;
</code></pre></div></div>
<p>Inside the menu, use <code class="language-plaintext highlighter-rouge">check</code> to verify self-signatures or <code class="language-plaintext highlighter-rouge">toggle</code> to see private parts (if available).</p>

<h2 id="generating-keys">Generating Keys</h2>

<p>Start with a primary keypair. Use the interactive method for beginners:</p>

<ol>
  <li>Run <code class="language-plaintext highlighter-rouge">gpg --full-gen-key</code> (or <code class="language-plaintext highlighter-rouge">--gen-key</code> for defaults).</li>
  <li>Choose key type (default: RSA for both signing and encryption).</li>
  <li>Select key size (e.g., 4096 bits for stronger security; minimum 2048 recommended).</li>
  <li>Set expiration (e.g., 1y for one year; “0” for never—avoid indefinite if possible).</li>
  <li>Enter user ID (name, email).</li>
  <li>Set a strong passphrase (20+ characters, mixed case/symbols).</li>
</ol>

<p>For quick generation (non-interactive):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gpg --quick-generate-key "Alice &lt;alice@example.com&gt;" rsa default 1y
</code></pre></div></div>

<p>After generation, create a <strong>revocation certificate</strong> (a file to invalidate your key if compromised):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gpg --output revoke.asc --gen-revoke &lt;your-key-id&gt;
</code></pre></div></div>
<p>Store this safely (e.g., printed in a vault)—don’t share it until needed.</p>

<p>To add subkeys or UIDs later:</p>
<ul>
  <li>Enter <code class="language-plaintext highlighter-rouge">gpg --edit-key &lt;key-id&gt;</code>, then <code class="language-plaintext highlighter-rouge">addkey</code> (for subkey) or <code class="language-plaintext highlighter-rouge">adduid</code> (for UID). These are self-signed automatically.</li>
</ul>

<h2 id="listing-and-viewing-keys">Listing and Viewing Keys</h2>

<ul>
  <li>List public keys: <code class="language-plaintext highlighter-rouge">gpg --list-keys</code> (or <code class="language-plaintext highlighter-rouge">--list-public-keys</code>).</li>
  <li>List private keys: <code class="language-plaintext highlighter-rouge">gpg --list-secret-keys</code>.</li>
  <li>Detailed view: <code class="language-plaintext highlighter-rouge">gpg --list-keys --with-subkey-fingerprint &lt;key-id&gt;</code> (shows fingerprints for subkeys).</li>
</ul>

<p>Output shows key ID (short/long), creation/expiration dates, capabilities (e.g., <code class="language-plaintext highlighter-rouge">[SC]</code> for sign/certify), and UIDs.</p>

<h2 id="exporting-and-importing-keys">Exporting and Importing Keys</h2>

<p><strong>Exporting</strong> shares your public key or backs up private ones:</p>
<ul>
  <li>Public key: <code class="language-plaintext highlighter-rouge">gpg --armor --export &lt;key-id&gt; &gt; mykey.asc</code> (ASCII-armored for email).</li>
  <li>Private key (backup only): <code class="language-plaintext highlighter-rouge">gpg --armor --export-secret-keys &lt;key-id&gt; &gt; private.asc</code>.</li>
  <li>To a keyserver: <code class="language-plaintext highlighter-rouge">gpg --keyserver hkps://keys.openpgp.org --send-keys &lt;key-id&gt;</code>.</li>
</ul>

<p><strong>Importing</strong> adds others’ keys to your public keyring:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">gpg --import &lt;file.asc&gt;</code> (merges with existing; adds new signatures/subkeys).</li>
  <li>From keyserver: <code class="language-plaintext highlighter-rouge">gpg --keyserver hkps://keys.openpgp.org --recv-keys &lt;key-id&gt;</code>.</li>
</ul>

<p>After importing, verify with <code class="language-plaintext highlighter-rouge">gpg --edit-key &lt;key-id&gt;</code> and <code class="language-plaintext highlighter-rouge">check</code> for self-signatures.</p>

<h2 id="signing-and-certifying-keys">Signing and Certifying Keys</h2>

<p>To build trust:</p>
<ul>
  <li>Sign a key (certify it’s valid): <code class="language-plaintext highlighter-rouge">gpg --sign-key &lt;other-key-id&gt;</code> (or <code class="language-plaintext highlighter-rouge">lsign-key</code> for local-only).</li>
  <li>Quick sign: <code class="language-plaintext highlighter-rouge">gpg --quick-sign-key &lt;fingerprint&gt; "User ID"</code>.</li>
  <li>Set trust level: In <code class="language-plaintext highlighter-rouge">--edit-key</code>, use <code class="language-plaintext highlighter-rouge">trust</code> (e.g., “5” for ultimate trust).</li>
</ul>

<p>This creates signatures on the key, visible in listings. The web of trust calculates validity based on your trust in signers.</p>

<h2 id="revoking-keys">Revoking Keys</h2>

<p>Revocation invalidates a key or component without deleting it, ensuring others see it’s no longer valid:</p>
<ul>
  <li>Full key: Import your revocation cert: <code class="language-plaintext highlighter-rouge">gpg --import revoke.asc</code>, then export/send the updated key.</li>
  <li>Subkey/UID: In <code class="language-plaintext highlighter-rouge">--edit-key</code>, select with <code class="language-plaintext highlighter-rouge">key 1</code> or <code class="language-plaintext highlighter-rouge">uid 1</code>, then <code class="language-plaintext highlighter-rouge">revkey</code> or <code class="language-plaintext highlighter-rouge">revuid</code>.</li>
  <li>Quick revoke UID: <code class="language-plaintext highlighter-rouge">gpg --quick-revoke-uid &lt;key-id&gt; &lt;uid-to-revoke&gt;</code>.</li>
</ul>

<p>Reasons for revocation: compromised, no longer used, superseded. Always publish revoked keys.</p>

<h2 id="best-practices">Best Practices</h2>

<ul>
  <li><strong>Security</strong>: Use hardware tokens (e.g., YubiKey) for private keys. Rotate encryption subkeys yearly (<code class="language-plaintext highlighter-rouge">gpg --quick-add-key &lt;fingerprint&gt; rsa encr 1y</code>). Change passphrases regularly (<code class="language-plaintext highlighter-rouge">gpg --change-passphrase &lt;key-id&gt;</code>).</li>
  <li><strong>Expiration</strong>: Set reasonable expirations (1-2 years) to force updates and detect compromises.</li>
  <li><strong>Distribution</strong>: Share public keys via keyservers or directly; verify fingerprints in person or via trusted channels to avoid man-in-the-middle attacks.</li>
  <li><strong>Backup</strong>: Export private keys to encrypted storage. Generate revocation certs immediately.</li>
  <li><strong>Cleanup</strong>: Use <code class="language-plaintext highlighter-rouge">gpg --edit-key</code> with <code class="language-plaintext highlighter-rouge">clean</code> to remove invalid signatures.</li>
  <li><strong>Updates</strong>: As of 2025, GnuPG 2.5+ supports quantum-resistant algorithms (e.g., <code class="language-plaintext highlighter-rouge">--quick-generate-key ... pqc</code>); consider migrating for future-proofing.</li>
  <li><strong>Common Pitfalls</strong>: Never share private keys. Avoid indefinite expirations. Test revocations in a sandbox.</li>
</ul>

<p>For hands-on, experiment in a test directory with <code class="language-plaintext highlighter-rouge">gpg --homedir ./test-gpg</code>.</p>

<p><a href="https://www.gnupg.org/gph/en/manual/c235.html">GnuPG Handbook: Key Management</a><br />
<a href="https://www.gnupg.org/documentation/manuals/gnupg/OpenPGP-Key-Management.html">GNU Privacy Guard Manual: OpenPGP Key Management</a><br />
<a href="https://www.gnupg.org/gph/en/manual/c14.html">GnuPG Getting Started</a></p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">openai/gpt-5</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
