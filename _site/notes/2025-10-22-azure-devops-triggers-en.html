<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Configuring Azure DevOps Branch Triggers</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Configuring Azure DevOps Branch Triggers | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Configuring Azure DevOps Branch Triggers" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-10-22-azure-devops-triggers-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-10-22-azure-devops-triggers-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Configuring Azure DevOps Branch Triggers" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Configuring Azure DevOps Branch Triggers","url":"https://lzwjava.github.io/notes/2025-10-22-azure-devops-triggers-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=5592bdc6a776674fac55c39688916d90707b2273">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=5592bdc6a776674fac55c39688916d90707b2273" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Configuring Azure DevOps Branch Triggers | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-10-22-azure-devops-triggers-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-10-22-azure-devops-triggers-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/azure-devops-triggers-en" selected>English</option>
        <option value="/azure-devops-triggers-zh" >中文</option>
        <option value="/azure-devops-triggers-ja" >日本語</option>
        <option value="/azure-devops-triggers-es" >Español</option>
        <option value="/azure-devops-triggers-hi" >हिंदी</option>
        <option value="/azure-devops-triggers-fr" >Français</option>
        <option value="/azure-devops-triggers-de" >Deutsch</option>
        <option value="/azure-devops-triggers-ar" >العربية</option>
        <option value="/azure-devops-triggers-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Azure DevOps Pipelines allow you to configure which branches trigger builds and deployments. This is primarily done through <strong>CI triggers</strong> (for builds on code pushes) and <strong>PR triggers</strong> (for pull requests). The configuration differs slightly between YAML pipelines (recommended for version control) and classic pipelines. Below, I’ll focus on YAML first, as it’s the modern approach, then cover classic briefly. All examples assume a Git repository.</p>

<h2 id="yaml-pipelines-configuring-branch-triggers">YAML Pipelines: Configuring Branch Triggers</h2>

<p>YAML pipelines define triggers directly in your <code class="language-plaintext highlighter-rouge">azure-pipelines.yml</code> file. By default, pipelines trigger on pushes to <strong>all branches</strong> (equivalent to <code class="language-plaintext highlighter-rouge">trigger: branches: include: - '*'</code>). You can customize this for finer control.</p>

<h3 id="step-1-basic-setup">Step 1: Basic Setup</h3>
<ol>
  <li>In your Azure DevOps project, go to <strong>Pipelines &gt; Builds</strong> (or <strong>Releases</strong> for CD).</li>
  <li>Create or edit a pipeline and select <strong>YAML</strong> as the template.</li>
  <li>In the YAML editor, add a <code class="language-plaintext highlighter-rouge">trigger</code> section at the top level.</li>
</ol>

<h3 id="step-2-simple-branch-includes">Step 2: Simple Branch Includes</h3>
<p>Use a simple list to trigger on specific branches or patterns:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">trigger</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">main</span>          <span class="c1"># Triggers on pushes to 'main'</span>
<span class="pi">-</span> <span class="s">develop</span>       <span class="c1"># Also 'develop'</span>
<span class="pi">-</span> <span class="s">releases/*</span>    <span class="c1"># Any branch starting with 'releases/' (e.g., releases/v1.0)</span>
</code></pre></div></div>
<ul>
  <li>Save and commit the YAML file to your repo. The pipeline will now only run for these branches.</li>
  <li>Wildcards like <code class="language-plaintext highlighter-rouge">*</code> (zero or more characters) and <code class="language-plaintext highlighter-rouge">?</code> (single character) are supported. Quote patterns starting with <code class="language-plaintext highlighter-rouge">*</code> (e.g., <code class="language-plaintext highlighter-rouge">*-hotfix</code>).</li>
</ul>

<h3 id="step-3-advanced-includesexcludes">Step 3: Advanced Includes/Excludes</h3>
<p>For exclusions or more precision:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">trigger</span><span class="pi">:</span>
  <span class="na">branches</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">main</span>
    <span class="pi">-</span> <span class="s">releases/*</span>
    <span class="pi">-</span> <span class="s">feature/*</span>
    <span class="na">exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">releases/old-*</span>     <span class="c1"># Excludes 'releases/old-v1', etc.</span>
    <span class="pi">-</span> <span class="s">feature/*-draft</span>    <span class="c1"># Excludes draft features</span>
</code></pre></div></div>
<ul>
  <li><strong>Include</strong>: Branches that <em>can</em> trigger (starts with all if omitted).</li>
  <li><strong>Exclude</strong>: Filters out from the include list (applied after includes).</li>
  <li>If you specify any <code class="language-plaintext highlighter-rouge">branches</code> clause, it overrides the default (all branches)—only explicit includes will trigger.</li>
  <li>For tags: Use <code class="language-plaintext highlighter-rouge">refs/tags/v1.*</code> in includes.</li>
</ul>

<h3 id="step-4-path-filters-optional">Step 4: Path Filters (Optional)</h3>
<p>Combine with file paths for granular control:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">trigger</span><span class="pi">:</span>
  <span class="na">branches</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">main</span>
  <span class="na">paths</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">src/*.cs</span>          <span class="c1"># Only if changes in 'src' folder</span>
    <span class="na">exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">docs/*.md</span>         <span class="c1"># Ignore doc changes</span>
</code></pre></div></div>
<ul>
  <li>Paths are relative to the repo root and case-sensitive.</li>
</ul>

<h3 id="step-5-batching-and-opting-out">Step 5: Batching and Opting Out</h3>
<ul>
  <li><strong>Batch runs</strong>: To queue multiple pushes into one build (reduces noise):
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">trigger</span><span class="pi">:</span>
  <span class="na">batch</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">branches</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">main</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Disable triggers</strong>: Set <code class="language-plaintext highlighter-rouge">trigger: none</code> for no CI.</li>
  <li><strong>Skip per commit</strong>: Add <code class="language-plaintext highlighter-rouge">[skip ci]</code> or <code class="language-plaintext highlighter-rouge">***NO_CI***</code> to commit messages.</li>
</ul>

<h3 id="pr-triggers">PR Triggers</h3>
<p>For pull requests, add a <code class="language-plaintext highlighter-rouge">pr</code> section:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">pr</span><span class="pi">:</span>
  <span class="na">branches</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">main</span>
    <span class="pi">-</span> <span class="s">develop</span>
  <span class="na">paths</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">src/*</span>
</code></pre></div></div>
<ul>
  <li>This validates PRs targeting these branches.</li>
</ul>

<h3 id="testing">Testing</h3>
<ul>
  <li>Push to a matching branch: Pipeline runs automatically.</li>
  <li>View runs in <strong>Pipelines &gt; Runs</strong> and check the trigger details.</li>
</ul>

<h2 id="classic-pipelines-configuring-branch-triggers">Classic Pipelines: Configuring Branch Triggers</h2>
<p>For legacy/classic pipelines (UI-based):</p>
<ol>
  <li>Edit your pipeline in <strong>Pipelines &gt; Builds</strong>.</li>
  <li>Go to <strong>Triggers &gt; Continuous integration</strong>.</li>
  <li>Check <strong>Enable continuous integration</strong>.</li>
  <li>Under <strong>Branch filters</strong>, add includes (e.g., <code class="language-plaintext highlighter-rouge">main</code>) or excludes (e.g., <code class="language-plaintext highlighter-rouge">develop</code>).</li>
  <li>For paths: Use <strong>Path filters</strong> in the same tab.</li>
  <li>For PRs: Go to <strong>Triggers &gt; Pull request validation</strong> and set branch filters.</li>
</ol>

<p>Switch to YAML for better maintainability.</p>

<h2 id="best-practices">Best Practices</h2>
<ul>
  <li>Start simple: Trigger on <code class="language-plaintext highlighter-rouge">main</code> and <code class="language-plaintext highlighter-rouge">develop</code> only.</li>
  <li>Use excludes for noisy branches like <code class="language-plaintext highlighter-rouge">*-hotfix</code>.</li>
  <li>Secure with branch policies (Repos &gt; Branches &gt; Policies) for required reviewers.</li>
  <li>Monitor: Use pipeline analytics for trigger frequency.</li>
</ul>

<p>For the latest details, refer to official docs.</p>

<p><a href="https://learn.microsoft.com/en-us/azure/devops/pipelines/repos/azure-repos-git?view=azure-devops&amp;tabs=yaml">Build Azure Repos Git repositories</a><br />
<a href="https://learn.microsoft.com/en-us/azure/devops/pipelines/build/triggers?view=azure-devops&amp;tabs=yaml">Triggers in Azure Pipelines</a></p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">x-ai/grok-4-fast</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
