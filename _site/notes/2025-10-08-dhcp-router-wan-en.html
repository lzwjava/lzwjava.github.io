<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>DHCP Logs for Router WAN Interface</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>DHCP Logs for Router WAN Interface | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="DHCP Logs for Router WAN Interface" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-10-08-dhcp-router-wan-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-10-08-dhcp-router-wan-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="DHCP Logs for Router WAN Interface" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"DHCP Logs for Router WAN Interface","url":"https://lzwjava.github.io/notes/2025-10-08-dhcp-router-wan-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=f1b6c4b5f186136a03bf90eed67dd70f6320ecee">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=f1b6c4b5f186136a03bf90eed67dd70f6320ecee" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       DHCP Logs for Router WAN Interface | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-10-08-dhcp-router-wan-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-10-08-dhcp-router-wan-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/dhcp-router-wan-en" selected>English</option>
        <option value="/dhcp-router-wan-zh" >中文</option>
        <option value="/dhcp-router-wan-ja" >日本語</option>
        <option value="/dhcp-router-wan-es" >Español</option>
        <option value="/dhcp-router-wan-hi" >हिंदी</option>
        <option value="/dhcp-router-wan-fr" >Français</option>
        <option value="/dhcp-router-wan-de" >Deutsch</option>
        <option value="/dhcp-router-wan-ar" >العربية</option>
        <option value="/dhcp-router-wan-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="understanding-the-dhcp-log-entries-in-360-wi-fi-router-t7">Understanding the DHCP Log Entries in 360 Wi-Fi Router T7</h3>

<p>This log snippet from your 360 T7 router (likely extracted from the <strong>System &gt; Log</strong> section in the web UI) shows the router’s WAN interface acting as a DHCP client to obtain and renew its public IP address from your ISP’s DHCP server. DHCP (Dynamic Host Configuration Protocol) is the standard protocol for automatically assigning IP addresses on networks. The router periodically requests or renews an IP lease to maintain internet connectivity—typically every 12-24 hours, depending on your ISP’s lease time.</p>

<p>These entries are <strong>normal and indicate healthy operation</strong>, not an error. They represent the standard DORA process (Discover, Offer, Request, ACK) for initial IP assignment, followed by lease renewals. Here’s a breakdown of each line in chronological order (note: the timestamps are in reverse order in your log, but I’ve reordered them for clarity; dates are in YYYY/MM/DD-HH:MM:SS format):</p>

<table>
  <thead>
    <tr>
      <th>Log ID</th>
      <th>Timestamp</th>
      <th>Message</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>148</td>
      <td>2025/09/19-03:44:57</td>
      <td>Sending DHCP discover</td>
      <td>The router broadcasts a <strong>DHCP Discover</strong> message on the WAN side to locate an available DHCP server (your ISP’s). This is the first step when the lease expires or the router reboots. (It retries quickly at the next line.)</td>
    </tr>
    <tr>
      <td>147</td>
      <td>2025/09/19-03:45:00</td>
      <td>Sending DHCP discover</td>
      <td>A retry of the Discover message (common if no immediate response; routers send 2-4 retries with exponential backoff).</td>
    </tr>
    <tr>
      <td>146</td>
      <td>2025/09/19-03:45:02</td>
      <td>DHCP offer Received</td>
      <td>The ISP’s DHCP server responds with a <strong>DHCP Offer</strong>, proposing an available IP address, subnet mask, gateway, DNS servers, and lease duration (e.g., 24 hours).</td>
    </tr>
    <tr>
      <td>145</td>
      <td>2025/09/19-03:45:02</td>
      <td>Sending DHCP request</td>
      <td>The router sends a <strong>DHCP Request</strong> to accept the offered IP and formally ask the server to assign it (broadcast so other servers can withdraw their offers if any).</td>
    </tr>
    <tr>
      <td>144</td>
      <td>2025/09/19-03:45:02</td>
      <td>DHCP ACK received</td>
      <td>The server sends a <strong>DHCP ACK</strong> (Acknowledge), confirming the IP assignment. The router now has a valid WAN IP and can connect to the internet. This completes the initial lease acquisition (~5 seconds total here).</td>
    </tr>
    <tr>
      <td>143</td>
      <td>2025/09/19-15:45:02</td>
      <td>Sending DHCP renew</td>
      <td>~12 hours later (halfway through a typical 24-hour lease), the router proactively sends a <strong>DHCP Renew</strong> (a unicast Request to the known server) to extend the lease without full rediscovery.</td>
    </tr>
    <tr>
      <td>142</td>
      <td>2025/09/19-15:45:02</td>
      <td>DHCP ACK received</td>
      <td>The server acknowledges the renewal—lease extended seamlessly.</td>
    </tr>
    <tr>
      <td>141</td>
      <td>2025/09/20-03:45:02</td>
      <td>Sending DHCP renew</td>
      <td>Another renewal ~12 hours later (now into the next day). If no ACK follows (not shown here), it might escalate to a full rebind or rediscover.</td>
    </tr>
  </tbody>
</table>

<h4 id="why-this-happens">Why This Happens</h4>
<ul>
  <li><strong>Lease Cycle</strong>: ISPs set lease times (e.g., 24 hours). At 50% elapsed, the client renews to avoid downtime. If renewal fails at 87.5%, it rebinds (broadcast Request); at 100%, it restarts the full DORA process.</li>
  <li><strong>In 360 T7 Context</strong>: This is logged under WAN connection events. The T7 uses a lightweight DHCP client (likely udhcpc-based) in its firmware, which generates these exact messages. No issues unless you see failures like “DHCP NAK received” (IP rejected) or repeated Discovers without ACKs (could indicate ISP problems or cable issues).</li>
  <li><strong>Troubleshooting Tips</strong>:
    <ul>
      <li>If internet drops around these times, check WAN status in the UI (<strong>Status &gt; WAN</strong>) for IP changes or errors.</li>
      <li>Export full logs via UI for patterns.</li>
      <li>To force a renew: Release/renew WAN in <strong>Network &gt; WAN</strong> or reboot.</li>
    </ul>
  </li>
</ul>

<p>This is routine behavior—your router is just keeping its “internet ticket” valid.</p>

<p><a href="https://learn.microsoft.com/en-us/windows-server/troubleshoot/dynamic-host-configuration-protocol-basics">Understanding DHCP Basics (Microsoft)</a><br />
<a href="https://www.netmanias.com/en/post/techdocs/5998/dhcp-network-protocol/understanding-the-basic-operations-of-dhcp">DHCP Process Overview (Netmanias)</a></p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">x-ai/grok-4-fast</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
