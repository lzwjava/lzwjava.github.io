<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Git Stash</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Git Stash | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Git Stash" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-03-28-git-stash-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-03-28-git-stash-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Git Stash" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Git Stash","url":"https://lzwjava.github.io/notes/2025-03-28-git-stash-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=39970ad55eeefbde2205b9b7393fa3714b68d045">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=39970ad55eeefbde2205b9b7393fa3714b68d045" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Git Stash | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-03-28-git-stash-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-03-28-git-stash-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/git-stash-en" selected>English</option>
        <option value="/git-stash-zh" >中文</option>
        <option value="/git-stash-ja" >日本語</option>
        <option value="/git-stash-es" >Español</option>
        <option value="/git-stash-hi" >हिंदी</option>
        <option value="/git-stash-fr" >Français</option>
        <option value="/git-stash-de" >Deutsch</option>
        <option value="/git-stash-ar" >العربية</option>
        <option value="/git-stash-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Here’s how to effectively use <code class="language-plaintext highlighter-rouge">git stash</code> and switch branches/tags frequently with uncommitted changes:</p>

<h2 id="using-git-stash">Using <code class="language-plaintext highlighter-rouge">git stash</code></h2>

<p><code class="language-plaintext highlighter-rouge">git stash</code> is a powerful command that allows you to temporarily save your uncommitted changes (both staged and unstaged) and revert your working directory to the last commit. This is useful when you need to switch branches or work on something else without committing your current, unfinished work.</p>

<p>Here’s a breakdown of common <code class="language-plaintext highlighter-rouge">git stash</code> operations:</p>

<p><strong>1. Stashing your current changes:</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash
</code></pre></div></div>

<p>This command takes your uncommitted changes, saves them as a new stash, and cleans your working directory. You’ll see a message like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Saved working directory and index state WIP on &lt;your_branch&gt;: &lt;commit_hash&gt; &lt;commit_message&gt;
</code></pre></div></div>

<p><strong>2. Stashing with a message:</strong></p>

<p>It’s helpful to add a descriptive message to your stashes, especially if you have multiple ones:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash save <span class="s2">"your descriptive message"</span>
<span class="c"># or</span>
git stash push <span class="nt">-m</span> <span class="s2">"your descriptive message"</span>
</code></pre></div></div>

<p><strong>3. Listing your stashes:</strong></p>

<p>To see a list of all your saved stashes, use:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash list
</code></pre></div></div>

<p>This will display a list of stashes, usually in the format:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>stash@{0}: On &lt;branch_name&gt;: &lt;commit_hash&gt; &lt;stash_message&gt;
stash@{1}: WIP on &lt;another_branch&gt;: ...
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">stash@{0}</code> is the most recent stash.</p>

<p><strong>4. Applying a stash:</strong></p>

<p>To bring back the changes from a stash, you can use <code class="language-plaintext highlighter-rouge">git stash apply</code>. This applies the changes but keeps the stash in the list. By default, it applies the latest stash (<code class="language-plaintext highlighter-rouge">stash@{0}</code>).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash apply
<span class="c"># or to apply a specific stash:</span>
git stash apply stash@<span class="o">{</span>1<span class="o">}</span>
</code></pre></div></div>

<p><strong>5. Applying and removing a stash:</strong></p>

<p>If you want to apply the changes and immediately remove the stash from the list, use <code class="language-plaintext highlighter-rouge">git stash pop</code>. This also defaults to the latest stash.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash pop
<span class="c"># or to pop a specific stash:</span>
git stash pop stash@<span class="o">{</span>1<span class="o">}</span>
</code></pre></div></div>

<p><strong>6. Viewing stash details:</strong></p>

<p>You can see a summary of the changes in a stash using:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash show
<span class="c"># or for a specific stash:</span>
git stash show stash@<span class="o">{</span>2<span class="o">}</span>
</code></pre></div></div>

<p>To see the full diff of a stash, add the <code class="language-plaintext highlighter-rouge">-p</code> or <code class="language-plaintext highlighter-rouge">--patch</code> flag:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash show <span class="nt">-p</span> stash@<span class="o">{</span>0<span class="o">}</span>
</code></pre></div></div>

<p><strong>7. Stashing untracked files:</strong></p>

<p>By default, <code class="language-plaintext highlighter-rouge">git stash</code> only stashes changes to tracked files. To include untracked files, use the <code class="language-plaintext highlighter-rouge">-u</code> or <code class="language-plaintext highlighter-rouge">--include-untracked</code> option:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash <span class="nt">-u</span>
git stash save <span class="nt">-u</span> <span class="s2">"stash with untracked"</span>
</code></pre></div></div>

<p><strong>8. Stashing ignored files as well:</strong></p>

<p>To include both untracked and ignored files, use the <code class="language-plaintext highlighter-rouge">-a</code> or <code class="language-plaintext highlighter-rouge">--all</code> option:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash <span class="nt">-a</span>
git stash save <span class="nt">-a</span> <span class="s2">"stash with all"</span>
</code></pre></div></div>

<p><strong>9. Creating a branch from a stash:</strong></p>

<p>If you stashed some changes and now want to work on them in a new branch, you can create a branch directly from the stash:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash branch &lt;new_branch_name&gt; stash@<span class="o">{</span>0<span class="o">}</span>
<span class="c"># or for the latest stash:</span>
git stash branch &lt;new_branch_name&gt;
</code></pre></div></div>

<p>This command creates a new branch based on the commit where the stash was created, applies the stashed changes to the new branch, and then drops the stash.</p>

<p><strong>10. Removing stashes:</strong></p>

<ul>
  <li>To remove a specific stash:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git stash drop stash@<span class="o">{</span>1<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>To remove all stashes:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git stash clear
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="switching-branches-or-tags-frequently-with-uncommitted-changes">Switching Branches or Tags Frequently with Uncommitted Changes</h2>

<p>Here’s how to use <code class="language-plaintext highlighter-rouge">git stash</code> to facilitate frequent switching between branches or tags when you have uncommitted changes:</p>

<p><strong>Scenario 1: Switching to another branch</strong></p>

<ol>
  <li><strong>Stash your current changes:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash save <span class="s2">"WIP on current branch"</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Switch to the target branch:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout &lt;target_branch_name&gt;
<span class="c"># or using the newer `git switch` command:</span>
git switch &lt;target_branch_name&gt;
</code></pre></div>    </div>
  </li>
  <li><strong>Do your work on the target branch.</strong></li>
  <li><strong>When you need to go back to your original branch:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout &lt;original_branch_name&gt;
<span class="c"># or</span>
git switch &lt;original_branch_name&gt;
</code></pre></div>    </div>
  </li>
  <li><strong>Reapply your stashed changes:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash pop  <span class="c"># If you want to apply and remove the stash</span>
<span class="c"># or</span>
git stash apply <span class="c"># If you want to apply and keep the stash</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Resolve any potential merge conflicts</strong> that might arise if the original branch has diverged significantly since you stashed.</li>
</ol>

<p><strong>Scenario 2: Switching to a tag</strong></p>

<p>Switching directly to a tag puts you in a “detached HEAD” state, which is generally not recommended for making commits. If you just want to inspect the code at a specific tag:</p>

<ol>
  <li><strong>Stash your current changes:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash save <span class="s2">"WIP before tag inspection"</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Switch to the tag:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout &lt;tag_name&gt;
</code></pre></div>    </div>
  </li>
  <li><strong>Inspect the code.</strong></li>
  <li><strong>To go back to your branch:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout &lt;your_branch_name&gt;
<span class="c"># or</span>
git switch &lt;your_branch_name&gt;
</code></pre></div>    </div>
  </li>
  <li><strong>Reapply your stashed changes:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash pop
<span class="c"># or</span>
git stash apply
</code></pre></div>    </div>
  </li>
</ol>

<p><strong>Scenario 3: Creating a new branch from a tag with your stashed changes</strong></p>

<p>If you want to start working on a new feature or fix based on a specific tag, and you have stashed changes from a previous context:</p>

<ol>
  <li><strong>Stash your current changes (if you haven’t already):</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash save <span class="s2">"WIP"</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Create a new branch from the tag:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> &lt;new_branch_name&gt; &lt;tag_name&gt;
<span class="c"># or</span>
git switch <span class="nt">-c</span> &lt;new_branch_name&gt; &lt;tag_name&gt;
</code></pre></div>    </div>
  </li>
  <li><strong>Apply your stashed changes to the new branch:</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash pop <span class="c"># or git stash apply</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Resolve any potential merge conflicts.</strong></li>
</ol>

<p><strong>Important Considerations:</strong></p>

<ul>
  <li><strong>Keep your stashes organized:</strong> Use descriptive messages to easily identify your stashes.</li>
  <li><strong>Stash is local:</strong> Stashes are stored locally in your repository and are not pushed to remote repositories.</li>
  <li><strong>Potential for conflicts:</strong> When you reapply a stash, there’s a possibility of merge conflicts if the branch you’re applying to has changed significantly since you created the stash. You’ll need to resolve these conflicts manually.</li>
  <li><strong>Consider creating temporary branches:</strong> For longer-term work that you’re not ready to commit, creating a temporary branch might be a better approach than relying heavily on stashes. You can easily switch between branches and commit your progress.</li>
</ul>

<p>By using <code class="language-plaintext highlighter-rouge">git stash</code> effectively, you can seamlessly switch between branches and tags even when you have uncommitted changes, allowing for a more flexible and efficient workflow. Remember to manage your stashes and be prepared to handle potential merge conflicts.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
