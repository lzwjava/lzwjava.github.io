<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Accessing Claude via OpenRouter</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Accessing Claude via OpenRouter | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Accessing Claude via OpenRouter" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-07-26-use-claude-openrouter-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-07-26-use-claude-openrouter-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Accessing Claude via OpenRouter" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Accessing Claude via OpenRouter","url":"https://lzwjava.github.io/notes/2025-07-26-use-claude-openrouter-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=4925afb30c6847378c6da8dff3fa09459fa6a358">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=4925afb30c6847378c6da8dff3fa09459fa6a358" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Accessing Claude via OpenRouter | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-07-26-use-claude-openrouter-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-07-26-use-claude-openrouter-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/use-claude-openrouter-en" selected>English</option>
        <option value="/use-claude-openrouter-zh" >中文</option>
        <option value="/use-claude-openrouter-ja" >日本語</option>
        <option value="/use-claude-openrouter-es" >Español</option>
        <option value="/use-claude-openrouter-hi" >हिंदी</option>
        <option value="/use-claude-openrouter-fr" >Français</option>
        <option value="/use-claude-openrouter-de" >Deutsch</option>
        <option value="/use-claude-openrouter-ar" >العربية</option>
        <option value="/use-claude-openrouter-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="how-to-use-claude-models-with-openrouter-as-a-chinese-user-without-anthropic-api-access">How to Use Claude Models with OpenRouter (As a Chinese User Without Anthropic API Access)</h3>

<p>As a Chinese user, you may face restrictions accessing Anthropic’s Claude API directly due to regional blocks. However, OpenRouter is a reliable alternative that acts as a unified API gateway to multiple AI providers, including Anthropic’s Claude models. OpenRouter is accessible in China (both the website and API endpoints are not blocked), allowing you to route requests to Claude without needing a direct Anthropic account or API key. It’s pay-per-use (you’ll need to add a payment method), but signing up is free, and it supports a free tier for limited usage.</p>

<p>OpenRouter’s API is compatible with OpenAI’s format, so you can use familiar libraries like the OpenAI Python SDK. Below, I’ll outline the steps to get started and provide code examples for using Claude in Python.</p>

<h4 id="step-1-sign-up-for-openrouter">Step 1: Sign Up for OpenRouter</h4>
<ol>
  <li>Visit the OpenRouter website: https://openrouter.ai.</li>
  <li>Click on “Sign Up” or “Get Started” (usually in the top right).</li>
  <li>Create an account using your email (or GitHub/Google login if available). No VPN is needed, as the site works in China.</li>
  <li>After signing up, verify your email if required.</li>
  <li>Go to the dashboard and add a payment method (e.g., credit card) to fund your account. OpenRouter charges based on token usage, but you can start with a small deposit. Check their pricing page for details on Claude models.</li>
</ol>

<h4 id="step-2-generate-an-api-key">Step 2: Generate an API Key</h4>
<ol>
  <li>In your OpenRouter dashboard, navigate to the “API Keys” or “Keys” section.</li>
  <li>Create a new API key (it will look like a long string, e.g., <code class="language-plaintext highlighter-rouge">sk-or-v1-...</code>).</li>
  <li>Copy and save it securely—treat it like a password. You’ll use this in your code instead of an Anthropic key.</li>
</ol>

<h4 id="step-3-choose-a-claude-model">Step 3: Choose a Claude Model</h4>
<p>OpenRouter lists Anthropic’s Claude models with IDs like:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">anthropic/claude-3.5-sonnet</code> (recommended for most tasks; balanced and capable).</li>
  <li><code class="language-plaintext highlighter-rouge">anthropic/claude-3-opus</code> (more powerful but expensive).</li>
  <li>Newer versions (e.g., Claude 3.7 if available in 2025) will be listed on https://openrouter.ai/models?providers=anthropic.</li>
</ul>

<p>You can browse the models page to see costs, context limits, and availability.</p>

<h4 id="step-4-set-up-your-environment">Step 4: Set Up Your Environment</h4>
<ul>
  <li>Install Python if you don’t have it (version 3.8+ recommended).</li>
  <li>Install the OpenAI library: Run <code class="language-plaintext highlighter-rouge">pip install openai</code> in your terminal.</li>
</ul>

<h4 id="step-5-use-claude-in-code">Step 5: Use Claude in Code</h4>
<p>Use the OpenAI SDK with OpenRouter’s base URL (<code class="language-plaintext highlighter-rouge">https://openrouter.ai/api/v1</code>). Specify the Claude model ID in your requests.</p>

<p>Here’s a simple Python example to chat with Claude 3.5 Sonnet:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="c1"># Initialize the client with OpenRouter's endpoint and your API key
</span><span class="n">client</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span>
    <span class="n">base_url</span><span class="o">=</span><span class="s">"https://openrouter.ai/api/v1"</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s">"YOUR_OPENROUTER_API_KEY_HERE"</span><span class="p">,</span>  <span class="c1"># Replace with your actual key
</span><span class="p">)</span>

<span class="c1"># Make a request to Claude
</span><span class="n">completion</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">chat</span><span class="p">.</span><span class="n">completions</span><span class="p">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s">"anthropic/claude-3.5-sonnet"</span><span class="p">,</span>  <span class="c1"># Use the Claude model ID
</span>    <span class="n">messages</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span><span class="s">"role"</span><span class="p">:</span> <span class="s">"system"</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="s">"You are a helpful assistant."</span><span class="p">},</span>
        <span class="p">{</span><span class="s">"role"</span><span class="p">:</span> <span class="s">"user"</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="s">"Hello, what is the capital of China?"</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="n">temperature</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>  <span class="c1"># Optional: Adjust for creativity (0-1)
</span>    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">150</span>    <span class="c1"># Optional: Limit response length
</span><span class="p">)</span>

<span class="c1"># Print the response
</span><span class="k">print</span><span class="p">(</span><span class="n">completion</span><span class="p">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">message</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li><strong>Explanation</strong>: This sends a system prompt and user message to Claude, gets a response, and prints it. Replace the API key and adjust parameters as needed.</li>
  <li><strong>If you prefer raw HTTP requests</strong> (without the OpenAI library):</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://openrouter.ai/api/v1/chat/completions"</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
        <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer YOUR_OPENROUTER_API_KEY_HERE"</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">},</span>
    <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
        <span class="s">"model"</span><span class="p">:</span> <span class="s">"anthropic/claude-3.5-sonnet"</span><span class="p">,</span>
        <span class="s">"messages"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s">"role"</span><span class="p">:</span> <span class="s">"system"</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="s">"You are a helpful assistant."</span><span class="p">},</span>
            <span class="p">{</span><span class="s">"role"</span><span class="p">:</span> <span class="s">"user"</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="s">"Hello, what is the capital of China?"</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">})</span>
<span class="p">)</span>

<span class="c1"># Parse and print the response
</span><span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'choices'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'message'</span><span class="p">][</span><span class="s">'content'</span><span class="p">])</span>
</code></pre></div></div>

<ul>
  <li><strong>Tips</strong>:
    <ul>
      <li>Add optional headers like <code class="language-plaintext highlighter-rouge">"HTTP-Referer": "your-site-url"</code> and <code class="language-plaintext highlighter-rouge">"X-Title": "Your App Name"</code> to attribute usage (helps with leaderboards and potential free credits).</li>
      <li>Monitor usage in your OpenRouter dashboard to avoid unexpected costs.</li>
      <li>For streaming responses or advanced features (e.g., tools), refer to OpenRouter’s full docs.</li>
      <li>If you encounter rate limits or errors, check your balance or try a different model.</li>
    </ul>
  </li>
</ul>

<h4 id="troubleshooting">Troubleshooting</h4>
<ul>
  <li><strong>API Errors</strong>: Ensure your key is correct and funded. Test with a cheap model first.</li>
  <li><strong>Regional Issues</strong>: If any blocks occur (unlikely), use a VPN, but OpenRouter is designed to bypass such restrictions for supported models.</li>
  <li><strong>Free Alternatives</strong>: For limited free access, explore proxies like Puter.js (but they may have limitations).</li>
</ul>

<p>This setup lets you use Claude programmatically without direct Anthropic access. If you need integration with specific tools (e.g., Cursor IDE or Make.com), search for tutorials on those.</p>

<p>References:<br />
<a href="https://openrouter.ai/docs">OpenRouter Documentation</a><br />
<a href="https://openrouter.ai/anthropic/claude-3.5-sonnet">Anthropic Claude on OpenRouter</a><br />
<a href="https://medium.com/ai-simplified-in-plain-english/not-re-inventing-the-wheel-in-ai-2ec3e76ae2bd">Using OpenRouter in China</a><br />
<a href="https://www.comparitech.com/blog/vpn-privacy/how-to-use-claude-in-china/">How to Use Claude in China</a></p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
