<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Detect User Language Preference</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Detect User Language Preference | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Detect User Language Preference" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-07-22-browser-language-detection-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-07-22-browser-language-detection-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Detect User Language Preference" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Detect User Language Preference","url":"https://lzwjava.github.io/notes/2025-07-22-browser-language-detection-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=2306ed78be41810c3b5d0cb43e4d2725abd6a67d">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=2306ed78be41810c3b5d0cb43e4d2725abd6a67d" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Detect User Language Preference | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-07-22-browser-language-detection-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-07-22-browser-language-detection-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/browser-language-detection-en" selected>English</option>
        <option value="/browser-language-detection-zh" >中文</option>
        <option value="/browser-language-detection-ja" >日本語</option>
        <option value="/browser-language-detection-es" >Español</option>
        <option value="/browser-language-detection-hi" >हिंदी</option>
        <option value="/browser-language-detection-fr" >Français</option>
        <option value="/browser-language-detection-de" >Deutsch</option>
        <option value="/browser-language-detection-ar" >العربية</option>
        <option value="/browser-language-detection-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="detecting-users-country-or-language-preference">Detecting User’s Country or Language Preference</h3>

<p>Since your Jekyll blog is static (generated HTML/JS), you can’t do server-side detection easily without integrating with a hosting platform that supports it (e.g., Netlify functions or GitHub Pages with limitations). The best approach is client-side JavaScript detection on page load. You have two main options:</p>

<ol>
  <li>
    <p><strong>Browser Language Preference</strong> (Recommended for your use case): This detects the user’s preferred language from their browser settings (via <code class="language-plaintext highlighter-rouge">navigator.language</code> or <code class="language-plaintext highlighter-rouge">navigator.languages</code>). It’s fast, doesn’t require external APIs, respects user privacy (no IP sharing), and directly ties to language rather than country. Countries often have multiple languages (e.g., India uses English widely alongside Hindi), so this is more accurate for auto-setting the dropdown.</p>
  </li>
  <li>
    <p><strong>IP-Based Country Detection</strong>: This uses a free geolocation API to get the country from the user’s IP address, then maps it to a language. It’s useful if you specifically need country info (e.g., for analytics), but it requires an external fetch, may have privacy implications, and isn’t always precise (VPNs, proxies). Mapping country to language is approximate.</p>
  </li>
</ol>

<table>
  <tbody>
    <tr>
      <td>Your goal seems to be auto-selecting the language in the <code class="language-plaintext highlighter-rouge">&lt;select id="sort-select"&gt;</code> dropdown (e.g., ‘date-desc</td>
      <td>en’ for English). I’ll provide code for both methods, which you can add inside your <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code> tag, right after <code class="language-plaintext highlighter-rouge">const sortSelect = document.getElementById('sort-select');</code>.</td>
    </tr>
  </tbody>
</table>

<p>Prioritize checking <code class="language-plaintext highlighter-rouge">localStorage</code> (as your code already does), then fall back to detection if no saved preference exists.</p>

<h4 id="option-1-using-browser-language-simpler-and-preferred">Option 1: Using Browser Language (Simpler and Preferred)</h4>
<p>Add this code snippet. It checks the primary language code from <code class="language-plaintext highlighter-rouge">navigator.language</code> (e.g., ‘en-US’ -&gt; ‘en’, ‘zh-CN’ -&gt; ‘zh’) and maps it to your dropdown values. Defaults to English if no match.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Inside window.addEventListener('load', function () { ... });</span>

<span class="c1">// After const sortSelect = ...;</span>

<span class="c1">// Restore from localStorage if available</span>
<span class="kd">const</span> <span class="nx">savedSort</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">sortOption</span><span class="dl">'</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">savedSort</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">sortSelect</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">savedSort</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// Detect browser language if no saved preference</span>
  <span class="kd">let</span> <span class="nx">lang</span> <span class="o">=</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">language</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">// e.g., 'en-US' -&gt; 'en'</span>
  
  <span class="c1">// Special handling for Chinese variants (zh-Hant for traditional)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">lang</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">zh</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">fullLang</span> <span class="o">=</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">language</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">fullLang</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="dl">'</span><span class="s1">tw</span><span class="dl">'</span><span class="p">)</span> <span class="o">||</span> <span class="nx">fullLang</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="dl">'</span><span class="s1">hk</span><span class="dl">'</span><span class="p">)</span> <span class="o">||</span> <span class="nx">fullLang</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="dl">'</span><span class="s1">hant</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">lang</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">hant</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">lang</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">zh</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Simplified Chinese</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Map to your dropdown options (add more if needed)</span>
  <span class="kd">const</span> <span class="nx">langMap</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">en</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|en</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">zh</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|zh</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">ja</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|ja</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">es</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|es</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">hi</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|hi</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">fr</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|fr</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">de</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|de</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">ar</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|ar</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">hant</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|hant</span><span class="dl">'</span>
  <span class="p">};</span>

  <span class="nx">sortSelect</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">langMap</span><span class="p">[</span><span class="nx">lang</span><span class="p">]</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">date-desc|en</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Default to English</span>
<span class="p">}</span>

<span class="nx">updatePosts</span><span class="p">();</span>
</code></pre></div></div>

<p>This runs synchronously on load, so no delays. Test it by changing your browser language settings (e.g., in Chrome: Settings &gt; Languages).</p>

<h4 id="option-2-using-ip-based-country-detection">Option 2: Using IP-Based Country Detection</h4>
<p>This requires an async fetch to a free API. I recommend <code class="language-plaintext highlighter-rouge">country.is</code> as it’s simple and returns just the country code (e.g., {country: ‘US’}). It’s free, no API key needed, and open-source.</p>

<p>Add this code. Note: It’s async, so we use <code class="language-plaintext highlighter-rouge">await</code> and wrap in an async function to avoid blocking the UI. If the fetch fails (e.g., ad-blockers), it defaults to English.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Inside window.addEventListener('load', async function () { ... });  // Make the load handler async</span>

<span class="c1">// After const sortSelect = ...;</span>

<span class="c1">// Restore from localStorage if available</span>
<span class="kd">const</span> <span class="nx">savedSort</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">sortOption</span><span class="dl">'</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">savedSort</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">sortSelect</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">savedSort</span><span class="p">;</span>
  <span class="nx">updatePosts</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="c1">// Fetch country code</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://country.is/</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">country</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">country</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span> <span class="c1">// e.g., 'US'</span>

    <span class="c1">// Map country codes to your languages (ISO 3166-1 alpha-2 codes)</span>
    <span class="c1">// This is approximate; expand as needed (e.g., multiple countries per language)</span>
    <span class="kd">const</span> <span class="nx">countryLangMap</span> <span class="o">=</span> <span class="p">{</span>
      <span class="dl">'</span><span class="s1">US</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|en</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// USA -&gt; English</span>
      <span class="dl">'</span><span class="s1">GB</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|en</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// UK -&gt; English</span>
      <span class="dl">'</span><span class="s1">CN</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|zh</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// China -&gt; Simplified Chinese</span>
      <span class="dl">'</span><span class="s1">TW</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|hant</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// Taiwan -&gt; Traditional Chinese</span>
      <span class="dl">'</span><span class="s1">HK</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|hant</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// Hong Kong -&gt; Traditional Chinese</span>
      <span class="dl">'</span><span class="s1">JP</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|ja</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// Japan -&gt; Japanese</span>
      <span class="dl">'</span><span class="s1">ES</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|es</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// Spain -&gt; Spanish</span>
      <span class="dl">'</span><span class="s1">MX</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|es</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// Mexico -&gt; Spanish (example for Latin America)</span>
      <span class="dl">'</span><span class="s1">IN</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|hi</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// India -&gt; Hindi</span>
      <span class="dl">'</span><span class="s1">FR</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|fr</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// France -&gt; French</span>
      <span class="dl">'</span><span class="s1">DE</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|de</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// Germany -&gt; German</span>
      <span class="dl">'</span><span class="s1">SA</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|ar</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// Saudi Arabia -&gt; Arabic</span>
      <span class="dl">'</span><span class="s1">AE</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">date-desc|ar</span><span class="dl">'</span>   <span class="c1">// UAE -&gt; Arabic</span>
    <span class="p">};</span>

    <span class="nx">sortSelect</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">countryLangMap</span><span class="p">[</span><span class="nx">country</span><span class="p">]</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">date-desc|en</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Default to English</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">'</span><span class="s1">Country detection failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="nx">sortSelect</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">date-desc|en</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Fallback</span>
  <span class="p">}</span>

  <span class="nx">updatePosts</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>Notes</strong>:
    <ul>
      <li>Update the <code class="language-plaintext highlighter-rouge">window.addEventListener</code> to <code class="language-plaintext highlighter-rouge">async function ()</code> as shown.</li>
      <li>For privacy: Inform users if needed (GDPR in EU). Some browsers/APIs may block cross-origin requests; test thoroughly.</li>
      <li>If you prefer a different API, alternatives include <code class="language-plaintext highlighter-rouge">https://ip-api.com/json/</code> (returns more data like <code class="language-plaintext highlighter-rouge">{ "countryCode": "US" }</code>) or <code class="language-plaintext highlighter-rouge">https://ipgeolocation.io/ip_location/</code> (sign up for free tier).</li>
      <li>Rate limits: These are generous for personal blogs, but monitor if traffic grows.</li>
    </ul>
  </li>
</ul>

<h4 id="additional-considerations">Additional Considerations</h4>
<ul>
  <li><strong>Fallback and User Override</strong>: Users can always change the dropdown, and it saves to localStorage. You could add a “Detect Language” button if auto-detection isn’t always desired.</li>
  <li><strong>Testing</strong>: Use VPNs to simulate different countries or browser extensions to spoof languages.</li>
  <li><strong>Privacy</strong>: Browser language is low-risk. For IP methods, consider adding a consent prompt if your audience is sensitive.</li>
  <li><strong>Combining Both</strong>: Use browser language first, then IP if it doesn’t match your supported ones (but keep it simple).</li>
  <li><strong>Jekyll-Specific</strong>: No changes to Jekyll config needed. If you host on Netlify/Vercel, you could use edge functions for server-side detection, but that’s overkill here.</li>
</ul>

<p>If this doesn’t work or you can share errors, provide more details!</p>

<p><a href="https://country.is/">Country.is API</a><br />
<a href="https://ip-api.com/">IP-API Geolocation</a><br />
<a href="https://ipgeolocation.io/">ipgeolocation.io</a></p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
