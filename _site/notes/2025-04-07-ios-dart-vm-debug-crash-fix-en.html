<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>iOS Dart VM Debug Crash Fix</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>iOS Dart VM Debug Crash Fix | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="iOS Dart VM Debug Crash Fix" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-04-07-ios-dart-vm-debug-crash-fix-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-04-07-ios-dart-vm-debug-crash-fix-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="iOS Dart VM Debug Crash Fix" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"iOS Dart VM Debug Crash Fix","url":"https://lzwjava.github.io/notes/2025-04-07-ios-dart-vm-debug-crash-fix-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=6a4b34d6d24977ffcd0a37ac70973cc2508c646d">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=6a4b34d6d24977ffcd0a37ac70973cc2508c646d" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       iOS Dart VM Debug Crash Fix | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-04-07-ios-dart-vm-debug-crash-fix-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-04-07-ios-dart-vm-debug-crash-fix-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/ios-dart-vm-debug-crash-fix-en" selected>English</option>
        <option value="/ios-dart-vm-debug-crash-fix-zh" >中文</option>
        <option value="/ios-dart-vm-debug-crash-fix-ja" >日本語</option>
        <option value="/ios-dart-vm-debug-crash-fix-es" >Español</option>
        <option value="/ios-dart-vm-debug-crash-fix-hi" >हिंदी</option>
        <option value="/ios-dart-vm-debug-crash-fix-fr" >Français</option>
        <option value="/ios-dart-vm-debug-crash-fix-de" >Deutsch</option>
        <option value="/ios-dart-vm-debug-crash-fix-ar" >العربية</option>
        <option value="/ios-dart-vm-debug-crash-fix-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>You’re hitting a known iOS / Dart VM interaction: the Dart VM in <strong>debug (JIT) mode</strong> needs to make memory pages executable at runtime, and recent iOS releases have tightened policies so <code class="language-plaintext highlighter-rouge">mprotect(..., PROT_EXEC)</code> fails with <code class="language-plaintext highlighter-rouge">13 (Permission denied)</code>. That causes the Dart VM to abort while finalizing code and produces the crash you pasted (SIGABRT). This is not a Flutter app bug in your code — it’s a platform (iOS / system policy) + VM mode mismatch. (<a href="https://github.com/flutter/flutter/issues/163984?utm_source=chatgpt.com" title="Debug mode and hot reload fail on iOS 26 due to JIT ...">GitHub</a>)</p>

<h3 id="quick-summary--root-cause">Quick summary / root cause</h3>

<ul>
  <li>Debug builds use the Dart <strong>JIT</strong> (hot reload/hot restart) which needs to change memory protection to make generated machine code executable. iOS recent versions block that, causing <code class="language-plaintext highlighter-rouge">mprotect failed: 13 (Permission denied)</code> and an assert in the Dart VM. (<a href="https://github.com/flutter/flutter/issues/163984?utm_source=chatgpt.com" title="Debug mode and hot reload fail on iOS 26 due to JIT ...">GitHub</a>)</li>
</ul>

<hr />

<h3 id="immediate-workarounds-pick-one-that-fits-your-workflow">Immediate workarounds (pick one that fits your workflow)</h3>

<ol>
  <li>
    <p><strong>Run on Simulator</strong> — the simulator runs x86/arm simulator code where the JIT restrictions aren’t enforced, so debug + hot reload works.
Command: <code class="language-plaintext highlighter-rouge">flutter run -d &lt;simulator-id&gt;</code> (or open from Xcode). (<a href="https://github.com/flutter/flutter/issues/163984?utm_source=chatgpt.com" title="Debug mode and hot reload fail on iOS 26 due to JIT ...">GitHub</a>)</p>
  </li>
  <li>
    <p><strong>Use profile or release (AOT) on device</strong> — build AOT code so VM doesn’t need to mprotect pages at runtime. You lose hot reload but the app will run on-device.</p>

    <ul>
      <li>For a test install: <code class="language-plaintext highlighter-rouge">flutter build ios --release</code> then install via Xcode or <code class="language-plaintext highlighter-rouge">flutter install --release</code>.</li>
      <li>Or <code class="language-plaintext highlighter-rouge">flutter run --profile</code> / <code class="language-plaintext highlighter-rouge">flutter run --release</code> to run directly. (<a href="https://github.com/flutter/flutter/issues/163984?utm_source=chatgpt.com" title="Debug mode and hot reload fail on iOS 26 due to JIT ...">GitHub</a>)</li>
    </ul>
  </li>
  <li>
    <p><strong>Use an older iOS device/OS</strong> (only as temporary testing): the restriction showed up in some iOS beta/versions; devices running an iOS version before the stricter policy won’t hit the assert. (Not ideal for long-term.) (<a href="https://stackoverflow.com/questions/79473408/flutter-ios-18-4-debug-build-error-mprotect-failed-13-permission-denied?utm_source=chatgpt.com" title="Flutter iOS 18.4 Debug Build Error: mprotect failed">Stack Overflow</a>)</p>
  </li>
</ol>

<hr />

<h3 id="longer-term-fixes--recommendations">Longer-term fixes / recommendations</h3>

<ul>
  <li>
    <p><strong>Update iOS / Xcode</strong> — Apple has changed behavior across beta releases; sometimes later iOS beta patches restore behavior or change the policy. If you’re on an iOS beta that introduced the restriction, update to the version that contains the fix. (See reports that certain iOS betas introduced/regressed this and later betas fixed or changed behavior.) (<a href="https://stackoverflow.com/questions/79473408/flutter-ios-18-4-debug-build-error-mprotect-failed-13-permission-denied?utm_source=chatgpt.com" title="Flutter iOS 18.4 Debug Build Error: mprotect failed">Stack Overflow</a>)</p>
  </li>
  <li>
    <p><strong>Upgrade Flutter/Dart to the latest stable</strong> — Flutter/Dart teams tracked this in GitHub issues and released updates/workarounds after the platform change; ensure your Flutter and Dart are up-to-date. After upgrading, run <code class="language-plaintext highlighter-rouge">flutter clean</code> and rebuild. (<a href="https://github.com/flutter/flutter/actions/runs/15564769770?utm_source=chatgpt.com" title="Debug mode and hot reload fail on iOS 26 due to JIT ...">GitHub</a>)</p>
  </li>
  <li>
    <p><strong>Follow the upstream issue(s)</strong> — there are active Flutter issues and PRs about iOS JIT/mprotect failures. Subscribe to the Flutter issue threads to pick up permanent fixes or recommended dev workflows. (I can paste the links if you want.) (<a href="https://github.com/flutter/flutter/issues/163984?utm_source=chatgpt.com" title="Debug mode and hot reload fail on iOS 26 due to JIT ...">GitHub</a>)</p>
  </li>
</ul>

<hr />

<h3 id="extra-note-about-the-uiscene-message-you-also-saw">Extra note about the <code class="language-plaintext highlighter-rouge">UIScene</code> message you also saw</h3>

<p>The <code class="language-plaintext highlighter-rouge">UIScene</code> lifecycle message at the top (“<code class="language-plaintext highlighter-rouge">UIScene lifecycle will soon be required</code>…”) is a <strong>warning</strong> from iOS about moving to the modern scene-based app lifecycle (iOS 13+). It’s unrelated to the <code class="language-plaintext highlighter-rouge">mprotect</code> crash. You can ignore it temporarily, or migrate to using Scenes (implement <code class="language-plaintext highlighter-rouge">SceneDelegate</code> / update <code class="language-plaintext highlighter-rouge">Info.plist</code>) if you want to remove the warning. It is not the cause of the SIGABRT. (<a href="https://github.com/flutter/flutter/issues/163984?utm_source=chatgpt.com" title="Debug mode and hot reload fail on iOS 26 due to JIT ...">GitHub</a>)</p>

<hr />

<h3 id="concrete-step-by-step-i-recommend-right-now">Concrete step-by-step I recommend right now</h3>

<ol>
  <li>
    <p>If you need to keep hot reload: run on the <strong>simulator</strong>.
<code class="language-plaintext highlighter-rouge">flutter run -d &lt;simulator-id&gt;</code></p>
  </li>
  <li>
    <p>If you want to test on the physical device now: build <strong>release/profile</strong> (AOT).
<code class="language-plaintext highlighter-rouge">flutter run --release</code>  (or <code class="language-plaintext highlighter-rouge">flutter build ios --release</code> + install)</p>
  </li>
  <li>
    <p>Update your environment: upgrade iOS (if on a beta with the bug), update Xcode, upgrade Flutter/Dart, <code class="language-plaintext highlighter-rouge">flutter clean</code>, then retry on device.</p>
  </li>
  <li>
    <p>If you want, paste the output of <code class="language-plaintext highlighter-rouge">flutter doctor -v</code> and the exact iOS / device version you’re testing on and I’ll give the most specific next steps (e.g., “this iOS version is known-broken — update to X.Y.Z or use release builds”).</p>
  </li>
</ol>

<hr />

<h3 id="links--references-so-you-can-follow-the-upstream-discussion">Links / references (so you can follow the upstream discussion)</h3>

<ul>
  <li>GitHub Flutter issue tracking debug-mode JIT / <code class="language-plaintext highlighter-rouge">mprotect failed: 13</code> (discussion &amp; workarounds). (<a href="https://github.com/flutter/flutter/issues/163984?utm_source=chatgpt.com" title="Debug mode and hot reload fail on iOS 26 due to JIT ...">GitHub</a>)</li>
  <li>StackOverflow thread reporting same <code class="language-plaintext highlighter-rouge">mprotect failed: 13</code> in iOS beta — suggests platform regression and iOS beta fixes. (<a href="https://stackoverflow.com/questions/79473408/flutter-ios-18-4-debug-build-error-mprotect-failed-13-permission-denied?utm_source=chatgpt.com" title="Flutter iOS 18.4 Debug Build Error: mprotect failed">Stack Overflow</a>)</li>
  <li>A blog/summary explaining the iOS 26 / Flutter friction and recommended dev options. (<a href="https://vijay-mishra.medium.com/flutter-vs-ios26-what-broke-and-what-to-do-36c6d6bf1e16?utm_source=chatgpt.com" title="Flutter vs iOS 26: What Broke and How to Fix It - Vijay Mishra">Medium</a>)</li>
</ul>

<hr />

<p>If you want, I’ll:</p>

<ul>
  <li>give the exact <code class="language-plaintext highlighter-rouge">flutter</code> commands for building a release IPA and installing on your device, or</li>
  <li>check your <code class="language-plaintext highlighter-rouge">flutter doctor -v</code> and your device OS version to recommend the single best action now.</li>
</ul>

<p>Which would you prefer?</p>



  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">openai/gpt-5</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
