<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>PEP 517 Python Packaging Guide</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>PEP 517 Python Packaging Guide | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="PEP 517 Python Packaging Guide" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-10-16-pep517-packaging-guide-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-10-16-pep517-packaging-guide-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="PEP 517 Python Packaging Guide" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"PEP 517 Python Packaging Guide","url":"https://lzwjava.github.io/notes/2025-10-16-pep517-packaging-guide-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=1d7fffef43395395f31ef2d67a849c11786c7c19">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=1d7fffef43395395f31ef2d67a849c11786c7c19" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       PEP 517 Python Packaging Guide | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-10-16-pep517-packaging-guide-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-10-16-pep517-packaging-guide-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/pep517-packaging-guide-en" selected>English</option>
        <option value="/pep517-packaging-guide-zh" >中文</option>
        <option value="/pep517-packaging-guide-ja" >日本語</option>
        <option value="/pep517-packaging-guide-es" >Español</option>
        <option value="/pep517-packaging-guide-hi" >हिंदी</option>
        <option value="/pep517-packaging-guide-fr" >Français</option>
        <option value="/pep517-packaging-guide-de" >Deutsch</option>
        <option value="/pep517-packaging-guide-ar" >العربية</option>
        <option value="/pep517-packaging-guide-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>PEP 517, accepted in 2016, defines a standardized interface for building Python packages that decouples the build backend (the logic for creating distributions) from the frontend (tools like pip that orchestrate the process). This allows developers to use modern build tools without being locked into legacy systems like setuptools’ <code class="language-plaintext highlighter-rouge">setup.py</code>. Combined with PEP 518 (which specifies build dependencies), it enables reliable, isolated builds from source trees or source distributions (sdists). As of 2025, PEP 517 is the foundation for modern Python packaging, supported by pip (since version 10 for PEP 518 and 19 for full PEP 517) and tools like Poetry, Flit, and PDM.</p>

<p>This guide covers the motivation, key concepts, specification, workflows, implementation, and best practices.</p>

<h2 id="motivation-and-background">Motivation and Background</h2>

<p>Python packaging evolved from <code class="language-plaintext highlighter-rouge">distutils</code> (introduced in Python 1.6, 2000) to <code class="language-plaintext highlighter-rouge">setuptools</code> (2004), which added dependency management but introduced issues:</p>
<ul>
  <li><strong>Imperative and Fragile</strong>: Builds relied on executing <code class="language-plaintext highlighter-rouge">python setup.py</code>, an arbitrary script that could fail due to environment assumptions (e.g., missing Cython for extensions).</li>
  <li><strong>No Build Dependencies</strong>: Tools needed for building (e.g., compilers, Cython) weren’t declared, leading to manual installations and version conflicts.</li>
  <li><strong>Tight Coupling</strong>: Pip hardcoded <code class="language-plaintext highlighter-rouge">setup.py</code> invocation, blocking alternative build systems like Flit or Bento.</li>
  <li><strong>Host Environment Pollution</strong>: Builds used the user’s global Python environment, risking side effects.</li>
</ul>

<p>These problems stifled innovation and caused errors during source installs (e.g., from Git). PEP 517 solves this by standardizing a minimal interface: frontends call backend hooks in isolated environments. Wheels (pre-built binaries, introduced 2014) simplify distribution—backends just produce compliant wheels/sdists. PEP 518 complements by declaring build requirements in <code class="language-plaintext highlighter-rouge">pyproject.toml</code>, enabling isolation.</p>

<p>The result: A declarative, extensible ecosystem where <code class="language-plaintext highlighter-rouge">setup.py</code> is optional, and tools like pip can build any compliant project without legacy fallbacks.</p>

<h2 id="key-concepts">Key Concepts</h2>

<h3 id="source-trees-and-distributions">Source Trees and Distributions</h3>
<ul>
  <li><strong>Source Tree</strong>: A directory (e.g., VCS checkout) containing package code and <code class="language-plaintext highlighter-rouge">pyproject.toml</code>. Tools like <code class="language-plaintext highlighter-rouge">pip install .</code> build from it.</li>
  <li><strong>Source Distribution (Sdist)</strong>: A gzipped tarball (<code class="language-plaintext highlighter-rouge">.tar.gz</code>) like <code class="language-plaintext highlighter-rouge">package-1.0.tar.gz</code>, unpacking to a <code class="language-plaintext highlighter-rouge">{name}-{version}</code> directory with <code class="language-plaintext highlighter-rouge">pyproject.toml</code> and metadata (PKG-INFO). Used for releases and downstream packaging (e.g., Debian).</li>
  <li><strong>Wheel</strong>: A <code class="language-plaintext highlighter-rouge">.whl</code> binary distribution—pre-built, platform-specific, and installable without compilation. PEP 517 mandates wheels for reproducibility.</li>
</ul>

<p>Legacy sdists (pre-PEP 517) unpack to executable trees but must now include <code class="language-plaintext highlighter-rouge">pyproject.toml</code> for compliance.</p>

<h3 id="pyprojecttoml">pyproject.toml</h3>
<p>This TOML file centralizes configuration. The <code class="language-plaintext highlighter-rouge">[build-system]</code> section (from PEP 518/517) specifies:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">requires</code>: List of PEP 508 dependencies for the build (e.g., <code class="language-plaintext highlighter-rouge">["setuptools&gt;=40.8.0", "wheel"]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">build-backend</code>: Entry point to the backend (e.g., <code class="language-plaintext highlighter-rouge">"setuptools.build_meta"</code> or <code class="language-plaintext highlighter-rouge">"poetry.masonry.api"</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">backend-path</code> (optional): In-tree paths added to <code class="language-plaintext highlighter-rouge">sys.path</code> for self-hosted backends (e.g., <code class="language-plaintext highlighter-rouge">["src/backend"]</code>).</li>
</ul>

<p>Example minimal config:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[build-system]
requires = ["setuptools&gt;=40.8.0", "wheel"]
build-backend = "setuptools.build_meta"
</code></pre></div></div>

<p>Requirements form a DAG (no cycles; frontends detect and fail). Other sections like <code class="language-plaintext highlighter-rouge">[project]</code> (PEP 621) or <code class="language-plaintext highlighter-rouge">[tool.poetry]</code> hold metadata/dependencies.</p>

<h3 id="build-backends-and-frontends">Build Backends and Frontends</h3>
<ul>
  <li><strong>Backend</strong>: Implements build logic via hooks (callable functions). Runs in a subprocess for isolation.</li>
  <li><strong>Frontend</strong>: Orchestrates (e.g., pip). Sets up isolation, installs requirements, calls hooks.</li>
  <li><strong>Decoupling</strong>: Frontends invoke standardized hooks, not <code class="language-plaintext highlighter-rouge">setup.py</code>. This supports diverse backends without pip changes.</li>
</ul>

<p>Hooks use <code class="language-plaintext highlighter-rouge">config_settings</code> (dict for flags, e.g., <code class="language-plaintext highlighter-rouge">{"--debug": true}</code>) and may output to stdout/stderr (UTF-8).</p>

<h2 id="the-specification">The Specification</h2>

<h3 id="build-system-details">[build-system] Details</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">requires</code>: PEP 508 strings (e.g., <code class="language-plaintext highlighter-rouge">"&gt;=1.0; sys_platform == 'win32'"</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">build-backend</code>: <code class="language-plaintext highlighter-rouge">module:object</code> (e.g., <code class="language-plaintext highlighter-rouge">flit_core.buildapi</code> imports <code class="language-plaintext highlighter-rouge">flit_core; backend = flit_core.buildapi</code>).</li>
  <li>No sys.path pollution—backends import via isolation.</li>
</ul>

<h3 id="hooks">Hooks</h3>
<p>Backends expose these as attributes:</p>

<p><strong>Mandatory:</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">build_wheel(wheel_directory, config_settings=None, metadata_directory=None) -&gt; str</code>: Builds wheel in <code class="language-plaintext highlighter-rouge">wheel_directory</code>, returns basename (e.g., <code class="language-plaintext highlighter-rouge">"myproj-1.0-py3-none-any.whl"</code>). Uses prior metadata if provided. Handles read-only sources via temps.</li>
  <li><code class="language-plaintext highlighter-rouge">build_sdist(sdist_directory, config_settings=None) -&gt; str</code>: Builds sdist in <code class="language-plaintext highlighter-rouge">sdist_directory</code> (pax format, UTF-8). Raises <code class="language-plaintext highlighter-rouge">UnsupportedOperation</code> if impossible (e.g., no VCS).</li>
</ul>

<p><strong>Optional (defaults to <code class="language-plaintext highlighter-rouge">[]</code> or fallbacks):</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">get_requires_for_build_wheel(config_settings=None) -&gt; list[str]</code>: Extra wheel deps (e.g., <code class="language-plaintext highlighter-rouge">["cython"]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">prepare_metadata_for_build_wheel(metadata_directory, config_settings=None) -&gt; str</code>: Writes <code class="language-plaintext highlighter-rouge">{pkg}-{ver}.dist-info</code> metadata (per wheel spec, no RECORD). Returns basename; frontends extract from wheel if missing.</li>
  <li><code class="language-plaintext highlighter-rouge">get_requires_for_build_sdist(config_settings=None) -&gt; list[str]</code>: Extra sdist deps.</li>
</ul>

<p>Hooks raise exceptions for errors. Frontends call in isolated envs (e.g., venv with only stdlib + requirements).</p>

<h3 id="build-environment">Build Environment</h3>
<ul>
  <li>Isolated venv: Bootstrap for <code class="language-plaintext highlighter-rouge">get_requires_*</code>, full for builds.</li>
  <li>CLI tools (e.g., <code class="language-plaintext highlighter-rouge">flit</code>) in PATH.</li>
  <li>No stdin; subprocesses per hook.</li>
</ul>

<h2 id="how-the-build-process-works">How the Build Process Works</h2>

<h3 id="step-by-step-workflow">Step-by-Step Workflow</h3>
<p>For <code class="language-plaintext highlighter-rouge">pip install .</code> (source tree) or sdist install:</p>

<ol>
  <li><strong>Discovery</strong>: Frontend reads <code class="language-plaintext highlighter-rouge">pyproject.toml</code>.</li>
  <li><strong>Isolation Setup</strong>: Create venv; install <code class="language-plaintext highlighter-rouge">requires</code>.</li>
  <li><strong>Requirements Query</strong>: Call <code class="language-plaintext highlighter-rouge">get_requires_for_build_wheel</code> (install extras).</li>
  <li><strong>Metadata Prep</strong>: Call <code class="language-plaintext highlighter-rouge">prepare_metadata_for_build_wheel</code> (or build wheel and extract).</li>
  <li><strong>Wheel Build</strong>: Call <code class="language-plaintext highlighter-rouge">build_wheel</code> in isolated env; install resulting wheel.</li>
  <li><strong>Fallbacks</strong>: If sdist unsupported, build wheel; if no hooks, legacy <code class="language-plaintext highlighter-rouge">setup.py</code>.</li>
</ol>

<p>For sdists: Unpack, treat as source tree. Developer workflow (e.g., <code class="language-plaintext highlighter-rouge">pip wheel .</code>):</p>
<ol>
  <li>Isolate env.</li>
  <li>Call backend hooks for wheel/sdist.</li>
</ol>

<h3 id="build-isolation-pep-518">Build Isolation (PEP 518)</h3>
<p>Creates temp venv for builds, avoiding host pollution. Pip’s <code class="language-plaintext highlighter-rouge">--no-build-isolation</code> disables (use cautiously). Tools like tox default to isolation.</p>

<p>Old vs. New:</p>
<ul>
  <li><strong>Old</strong>: <code class="language-plaintext highlighter-rouge">python setup.py install</code> in host env—risks conflicts.</li>
  <li><strong>New</strong>: Isolated hooks—reproducible, secure.</li>
</ul>

<h2 id="implementing-a-build-backend">Implementing a Build Backend</h2>

<p>To create one:</p>
<ol>
  <li>Define a module with hooks (e.g., <code class="language-plaintext highlighter-rouge">mybackend.py</code>).</li>
  <li>Point <code class="language-plaintext highlighter-rouge">build-backend</code> to it.</li>
</ol>

<p>Minimal example (pure Python package):</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># mybackend.py
</span><span class="kn">from</span> <span class="nn">zipfile</span> <span class="kn">import</span> <span class="n">ZipFile</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="k">def</span> <span class="nf">build_wheel</span><span class="p">(</span><span class="n">wheel_directory</span><span class="p">,</span> <span class="n">config_settings</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">metadata_directory</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="c1"># Copy source to wheel dir, zip as .whl
</span>    <span class="n">dist</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">wheel_directory</span><span class="p">)</span> <span class="o">/</span> <span class="s">"myproj-1.0-py3-none-any.whl"</span>
    <span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">src</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="s">'.'</span><span class="p">).</span><span class="n">rglob</span><span class="p">(</span><span class="s">'*'</span><span class="p">):</span>
            <span class="n">z</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">src</span><span class="p">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">'.'</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dist</span><span class="p">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">wheel_directory</span><span class="p">))</span>

<span class="c1"># Optional hooks
</span><span class="k">def</span> <span class="nf">get_requires_for_build_wheel</span><span class="p">(</span><span class="n">config_settings</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[]</span>

<span class="k">def</span> <span class="nf">prepare_metadata_for_build_wheel</span><span class="p">(</span><span class="n">metadata_directory</span><span class="p">,</span> <span class="n">config_settings</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="c1"># Write METADATA, etc.
</span>    <span class="k">return</span> <span class="s">"myproj-1.0.dist-info"</span>
</code></pre></div></div>

<p>In <code class="language-plaintext highlighter-rouge">pyproject.toml</code>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[build-system]
requires = []
build-backend = "mybackend:build_wheel"  # Actually points to module object
</code></pre></div></div>

<p>Use libraries like <code class="language-plaintext highlighter-rouge">pyproject-hooks</code> for boilerplate. For extensions, integrate C compilers via <code class="language-plaintext highlighter-rouge">config_settings</code>.</p>

<h2 id="using-pep-517-with-tools">Using PEP 517 with Tools</h2>

<ul>
  <li><strong>pip</strong>: Auto-detects <code class="language-plaintext highlighter-rouge">pyproject.toml</code>; use <code class="language-plaintext highlighter-rouge">--use-pep517</code> (default since 19.1). For editable: <code class="language-plaintext highlighter-rouge">pip install -e .</code> calls hooks.</li>
  <li><strong>Poetry</strong>: Declarative tool. Generates:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[build-system]
requires = ["poetry-core&gt;=1.0.0"]
build-backend = "poetry.core.masonry.api"
</code></pre></div>    </div>
    <p>Installs via <code class="language-plaintext highlighter-rouge">poetry build</code>; pip-compatible.</p>
  </li>
  <li><strong>Flit</strong>: Simple for pure Python. Uses:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[build-system]
requires = ["flit_core &gt;=3.2,&lt;4"]
build-backend = "flit_core.buildapi"
</code></pre></div>    </div>
    <p><code class="language-plaintext highlighter-rouge">flit publish</code> builds/uploads.</p>
  </li>
  <li><strong>Setuptools</strong>: Legacy bridge:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[build-system]
requires = ["setuptools&gt;=40.8.0", "wheel"]
build-backend = "setuptools.build_meta"
</code></pre></div>    </div>
    <p>Supports <code class="language-plaintext highlighter-rouge">setup.cfg</code> for declarative metadata.</p>
  </li>
</ul>

<p>Migrate legacy: Add <code class="language-plaintext highlighter-rouge">[build-system]</code>; remove <code class="language-plaintext highlighter-rouge">setup.py</code> calls.</p>

<h2 id="error-handling-and-best-practices">Error Handling and Best Practices</h2>

<ul>
  <li><strong>Errors</strong>: Hooks raise (e.g., <code class="language-plaintext highlighter-rouge">ValueError</code> for invalid config). Cycles: Frontend fails with message. Unsupported sdist: Fallback to wheel.</li>
  <li><strong>Best Practices</strong>:
    <ul>
      <li>Prefer declarative (<code class="language-plaintext highlighter-rouge">setup.cfg</code> or <code class="language-plaintext highlighter-rouge">[project]</code>).</li>
      <li>Declare exact build deps (e.g., <code class="language-plaintext highlighter-rouge">cython==0.29</code>).</li>
      <li>Test isolation: <code class="language-plaintext highlighter-rouge">pip wheel . --no-build-isolation</code> for debugging.</li>
      <li>For in-tree backends: Use <code class="language-plaintext highlighter-rouge">backend-path</code>; avoid cycles.</li>
      <li>Security: Hooks in subprocesses; no arbitrary code.</li>
      <li>Compatibility: Include <code class="language-plaintext highlighter-rouge">setup.py</code> for old tools.</li>
    </ul>
  </li>
</ul>

<p>As of 2025, setuptools dominates (per surveys), but adoption of Poetry/Flit grows for simplicity.</p>

<h2 id="references">References</h2>
<ul>
  <li><a href="https://peps.python.org/pep-0517/">PEP 517 – A build-system independent format for source trees</a></li>
  <li><a href="https://chadsmith-software.medium.com/pep-517-and-518-in-plain-english-47208ca8b7a6">PEP 517 and 518 in Plain English</a></li>
  <li><a href="https://bernat.tech/posts/pep-517-518/">Python packaging - Past, Present, Future</a></li>
  <li><a href="https://pydevtools.com/handbook/explanation/what-is-pep-517/">What is PEP 517/518 compatibility?</a></li>
  <li><a href="https://fromkk.com/posts/modern-pip-build-process-use-pep517/">Modern pip build process (–use-pep517)</a></li>
  <li><a href="https://pydevtools.com/handbook/explanation/what-is-a-build-backend/">What is a build backend?</a></li>
</ul>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">x-ai/grok-4-fast</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
