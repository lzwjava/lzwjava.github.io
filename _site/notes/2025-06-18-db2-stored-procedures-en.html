<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Calling DB2 Stored Procedures with Parameters</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Calling DB2 Stored Procedures with Parameters | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Calling DB2 Stored Procedures with Parameters" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-06-18-db2-stored-procedures-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-06-18-db2-stored-procedures-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Calling DB2 Stored Procedures with Parameters" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Calling DB2 Stored Procedures with Parameters","url":"https://lzwjava.github.io/notes/2025-06-18-db2-stored-procedures-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=74e8a90fe0ada3d2497f538f7b7b3fcf7dc0dd15">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=74e8a90fe0ada3d2497f538f7b7b3fcf7dc0dd15" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Calling DB2 Stored Procedures with Parameters | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-06-18-db2-stored-procedures-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-06-18-db2-stored-procedures-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/db2-stored-procedures-en" selected>English</option>
        <option value="/db2-stored-procedures-zh" >中文</option>
        <option value="/db2-stored-procedures-ja" >日本語</option>
        <option value="/db2-stored-procedures-es" >Español</option>
        <option value="/db2-stored-procedures-hi" >हिंदी</option>
        <option value="/db2-stored-procedures-fr" >Français</option>
        <option value="/db2-stored-procedures-de" >Deutsch</option>
        <option value="/db2-stored-procedures-ar" >العربية</option>
        <option value="/db2-stored-procedures-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="assumptions-and-context">Assumptions and Context</h3>
<p>Your query appears to refer to calling a <em>stored procedure</em> (likely a typo for “store procedure”) in an IBM database system, such as IBM DB2 (on Linux/Unix/Windows, z/OS, or iSeries). Stored procedures are executable scripts stored in the database that can accept input parameters, perform operations, and return output or results. The exact syntax depends on the programming language and IBM environment (e.g., SQL, COBOL, RPG, or Java via JDBC). I’ll focus on the most common case: SQL-based CALL statements in DB2, as this is standard for relational databases.</p>

<p>If you’re using a different IBM platform (e.g., IBM i CL commands, MQ, or Watson Query), provide more details for tailored advice.</p>

<h3 id="how-to-pass-parameters-in-a-db2-stored-procedure-call">How to Pass Parameters in a DB2 Stored Procedure Call</h3>
<p>Stored procedures in DB2 are called using the <code class="language-plaintext highlighter-rouge">CALL</code> statement in SQL. Parameters are passed in a comma-separated list within parentheses, matching the procedure’s definition (e.g., IN for input, OUT for output, INOUT for both).</p>

<h4 id="step-by-step-guide">Step-by-Step Guide</h4>
<ol>
  <li><strong>Define or Know the Procedure Signature</strong>: Ensure you know the procedure’s name and parameters. For example, a procedure might be defined as:
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">update_employee</span> <span class="p">(</span><span class="k">IN</span> <span class="n">emp_id</span> <span class="nb">INT</span><span class="p">,</span> <span class="k">IN</span> <span class="n">new_salary</span> <span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="k">OUT</span> <span class="n">status_msg</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</code></pre></div>    </div>
    <ul>
      <li>Here, <code class="language-plaintext highlighter-rouge">emp_id</code> is input (IN), <code class="language-plaintext highlighter-rouge">new_salary</code> is input, and <code class="language-plaintext highlighter-rouge">status_msg</code> is output (OUT).</li>
    </ul>
  </li>
  <li><strong>Use the CALL Statement</strong>: In a SQL environment (e.g., DB2 Command Line Processor, or embedded in programs like Java), call the procedure like this:
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CALL</span> <span class="n">update_employee</span><span class="p">(</span><span class="mi">12345</span><span class="p">,</span> <span class="mi">75000</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span> <span class="o">?</span><span class="p">);</span>
</code></pre></div>    </div>
    <ul>
      <li>The <code class="language-plaintext highlighter-rouge">?</code> is a placeholder for OUT parameters. In programmatic calls, handle outputs with result sets or host variables.</li>
      <li>Inputs are passed as literals or variables; outputs are captured via placeholders or bound variables.</li>
    </ul>
  </li>
  <li><strong>Handling Parameter Types</strong>:
    <ul>
      <li><strong>IN parameters</strong>: Pass values directly (e.g., numbers, strings in quotes).</li>
      <li><strong>OUT/INOUT parameters</strong>: Use <code class="language-plaintext highlighter-rouge">?</code> in the CALL, then bind them in your code to retrieve values after execution.</li>
      <li>Match the order and types exactly; mismatches cause errors (e.g., SQLCODE -440 for invalid parameters).</li>
    </ul>
  </li>
  <li><strong>In Code Examples</strong>:
    <ul>
      <li><strong>Via DB2 CLP (Command Line)</strong>: Direct SQL execution.
        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CALL</span> <span class="n">my_proc</span><span class="p">(</span><span class="s1">'input_value'</span><span class="p">,</span> <span class="o">?</span><span class="p">);</span>
</code></pre></div>        </div>
        <p>Retrieve OUT params with <code class="language-plaintext highlighter-rouge">FETCH FIRST FROM</code> or in scripts.</p>
      </li>
      <li><strong>Via JDBC (Java)</strong>:
        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">CallableStatement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">prepareCall</span><span class="o">(</span><span class="s">"{CALL update_employee(?, ?, ?)}"</span><span class="o">);</span>
<span class="n">stmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">12345</span><span class="o">);</span>          <span class="c1">// IN param</span>
<span class="n">stmt</span><span class="o">.</span><span class="na">setBigDecimal</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">math</span><span class="o">.</span><span class="na">BigDecimal</span><span class="o">(</span><span class="s">"75000.00"</span><span class="o">));</span> <span class="c1">// IN param</span>
<span class="n">stmt</span><span class="o">.</span><span class="na">registerOutParameter</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="nc">Types</span><span class="o">.</span><span class="na">VARCHAR</span><span class="o">);</span> <span class="c1">// OUT param</span>
<span class="n">stmt</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span>
<span class="nc">String</span> <span class="n">status</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span> <span class="c1">// Retrieve OUT</span>
</code></pre></div>        </div>
      </li>
      <li><strong>Via RPG on IBM i</strong>: Use <code class="language-plaintext highlighter-rouge">CALLP</code> with variable declarations matching parameter types.
        <pre><code class="language-rpg">D PROC_PARAM    S                   LIKE(PARAM_TYPE)
PROC_PARAM = 'value';
CALLP MY_PROC(PROC_PARAM);
</code></pre>
      </li>
      <li><strong>Error Handling</strong>: Check SQLSTATE or SQLCODE post-call; e.g., ‘00000’ means success.</li>
    </ul>
  </li>
</ol>

<h4 id="key-tips-and-evidence">Key Tips and Evidence</h4>
<ul>
  <li><strong>Evidence from DB2 Documentation</strong>: Per IBM’s official DB2 SQL Reference (e.g., for LUW v11.5 or z/OS), the <code class="language-plaintext highlighter-rouge">CALL</code> statement is defined with optional parameter lists. For instance, the syntax is: <code class="language-plaintext highlighter-rouge">CALL procedure-name [(parameter [, parameter] ...)]</code>. This matches industry standards for relational databases and is supported across DB2 variants for consistency (see IBM Knowledge Center).</li>
  <li><strong>Variations</strong>: In IBM i (AS400), procedures might use CL (Command Language) calls like <code class="language-plaintext highlighter-rouge">CALL PGM(MYPROC) PARM('value')</code> for RPG programs. For mainframe COBOL, embed <code class="language-plaintext highlighter-rouge">EXEC SQL CALL...</code> with host variables.</li>
  <li><strong>Testing</strong>: Use <code class="language-plaintext highlighter-rouge">db2 describe routine procedure_name</code> to inspect parameters before calling.</li>
  <li><strong>Limitations</strong>: Large parameter sets may need arrays or result sets; complex types require specific handling.</li>
</ul>

<p>If this doesn’t match your setup (e.g., if it’s IBM Watson or another tool), share more context like the platform or language for precise instructions.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">x-ai/grok-code-fast-1</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
