<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Azure Application Insights Setup Guide</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Azure Application Insights Setup Guide | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Azure Application Insights Setup Guide" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-10-22-azure-app-insights-setup-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-10-22-azure-app-insights-setup-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Azure Application Insights Setup Guide" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Azure Application Insights Setup Guide","url":"https://lzwjava.github.io/notes/2025-10-22-azure-app-insights-setup-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=d6574fa410bdcfbb29f0402600e5e60d2edc760a">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=d6574fa410bdcfbb29f0402600e5e60d2edc760a" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Azure Application Insights Setup Guide | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-10-22-azure-app-insights-setup-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-10-22-azure-app-insights-setup-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/azure-app-insights-setup-en" selected>English</option>
        <option value="/azure-app-insights-setup-zh" >中文</option>
        <option value="/azure-app-insights-setup-ja" >日本語</option>
        <option value="/azure-app-insights-setup-es" >Español</option>
        <option value="/azure-app-insights-setup-hi" >हिंदी</option>
        <option value="/azure-app-insights-setup-fr" >Français</option>
        <option value="/azure-app-insights-setup-de" >Deutsch</option>
        <option value="/azure-app-insights-setup-ar" >العربية</option>
        <option value="/azure-app-insights-setup-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h2 id="what-is-azure-application-insights">What is Azure Application Insights?</h2>

<p>Azure Application Insights is an application performance management (APM) service in Azure Monitor that helps you monitor live web applications. It provides tools for detecting issues, diagnosing problems, and understanding user behavior through telemetry data like requests, dependencies, traces, metrics, and logs. It’s now powered by OpenTelemetry for broader compatibility.</p>

<h2 id="prerequisites">Prerequisites</h2>
<ul>
  <li>An active Azure subscription.</li>
  <li>Permissions to create resources in Azure (e.g., Owner or Contributor role).</li>
  <li>Your application code (supports .NET, Java, Node.js, Python, and more).</li>
</ul>

<h2 id="step-1-create-an-application-insights-resource">Step 1: Create an Application Insights Resource</h2>
<ol>
  <li>Sign in to the <a href="https://portal.azure.com">Azure portal</a>.</li>
  <li>Click <strong>Create a resource</strong> in the top-left menu.</li>
  <li>Search for “Application Insights” and select it from the results under <strong>Monitoring + management</strong>.</li>
  <li>Fill in the details:
    <ul>
      <li><strong>Subscription</strong>: Choose your Azure subscription.</li>
      <li><strong>Resource Group</strong>: Select an existing one or create a new one.</li>
      <li><strong>Name</strong>: Give your resource a unique name.</li>
      <li><strong>Region</strong>: Choose a region close to your users or app.</li>
      <li><strong>Workspace</strong>: Optionally link to an existing Log Analytics workspace; otherwise, a new one is created automatically.</li>
    </ul>
  </li>
  <li>Review and click <strong>Create</strong>. Deployment takes a few minutes.</li>
  <li>Once created, go to your resource’s <strong>Overview</strong> page and copy the <strong>Connection string</strong> (hover over it and click the copy icon). This identifies where your app sends telemetry data.</li>
</ol>

<p><strong>Tip</strong>: Use separate resources for dev, test, and prod environments to avoid mixing data.</p>

<h2 id="step-2-instrument-your-application">Step 2: Instrument Your Application</h2>
<p>Add OpenTelemetry support to collect telemetry automatically (requests, exceptions, metrics, etc.). Set the connection string via an environment variable named <code class="language-plaintext highlighter-rouge">APPLICATIONINSIGHTS_CONNECTION_STRING</code> (recommended for production).</p>

<h3 id="for-net-aspnet-core">For .NET (ASP.NET Core)</h3>
<ol>
  <li>Install the NuGet package:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dotnet add package Azure.Monitor.OpenTelemetry.AspNetCore
</code></pre></div>    </div>
  </li>
  <li>In <code class="language-plaintext highlighter-rouge">Program.cs</code>:
    <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">Azure.Monitor.OpenTelemetry.AspNetCore</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">WebApplication</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="nf">AddOpenTelemetry</span><span class="p">().</span><span class="nf">UseAzureMonitor</span><span class="p">();</span>
<span class="kt">var</span> <span class="n">app</span> <span class="p">=</span> <span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">();</span>
<span class="n">app</span><span class="p">.</span><span class="nf">Run</span><span class="p">();</span>
</code></pre></div>    </div>
  </li>
  <li>Set the environment variable with your connection string and run the app.</li>
</ol>

<h3 id="for-java">For Java</h3>
<ol>
  <li>Download the Azure Monitor OpenTelemetry Distro JAR (e.g., <code class="language-plaintext highlighter-rouge">applicationinsights-agent-3.x.x.jar</code>).</li>
  <li>Create a config file <code class="language-plaintext highlighter-rouge">applicationinsights.json</code> in the same directory:
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"connectionString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your connection string here"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>Run your app with the agent: <code class="language-plaintext highlighter-rouge">java -javaagent:applicationinsights-agent-3.x.x.jar -jar your-app.jar</code>.</li>
</ol>

<h3 id="for-nodejs">For Node.js</h3>
<ol>
  <li>Install the package:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install @azure/monitor-opentelemetry
</code></pre></div>    </div>
  </li>
  <li>Configure in your app entry point:
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">AzureMonitorOpenTelemetry</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">@azure/monitor-opentelemetry</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AzureMonitorOpenTelemetry</span><span class="p">({</span>
  <span class="na">connectionString</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">APPLICATIONINSIGHTS_CONNECTION_STRING</span>
<span class="p">});</span>
<span class="nx">provider</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
</code></pre></div>    </div>
  </li>
  <li>Set the environment variable and start your app.</li>
</ol>

<h3 id="for-python">For Python</h3>
<ol>
  <li>Install the package:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install azure-monitor-opentelemetry
</code></pre></div>    </div>
  </li>
  <li>In your app:
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">azure.monitor.opentelemetry</span> <span class="kn">import</span> <span class="n">configure_azure_monitor</span>
<span class="n">configure_azure_monitor</span><span class="p">(</span><span class="n">connection_string</span><span class="o">=</span><span class="s">"Your connection string here"</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>Run the app.</li>
</ol>

<p>For other languages or auto-instrumentation (e.g., for Azure App Service), check the official docs. Test locally first.</p>

<h2 id="step-3-view-and-analyze-data">Step 3: View and Analyze Data</h2>
<ol>
  <li>Run your instrumented app and generate some activity (e.g., send requests).</li>
  <li>In the Azure portal, open your Application Insights resource.</li>
  <li>Check the <strong>Overview</strong> page: See live metrics, request counts, and response times (data appears in ~1-2 minutes).</li>
  <li>Explore features:
    <ul>
      <li><strong>Live Metrics</strong>: Real-time stream for production apps.</li>
      <li><strong>Failures</strong>: Drill into exceptions and traces.</li>
      <li><strong>Performance</strong>: Analyze dependencies and slow requests.</li>
      <li><strong>Usage</strong>: Track user sessions and custom events.</li>
      <li><strong>Alerts</strong>: Set up notifications for issues (e.g., high failure rates).</li>
    </ul>
  </li>
  <li>Query data using Kusto Query Language (KQL) in <strong>Logs</strong> for custom analysis.</li>
</ol>

<h2 id="best-practices">Best Practices</h2>
<ul>
  <li>Start with basic telemetry; add custom events/metrics as needed.</li>
  <li>Monitor costs via the <strong>Usage and estimated costs</strong> page (billed through Log Analytics).</li>
  <li>For browser monitoring, add the JavaScript SDK snippet to your web pages.</li>
</ul>

<p><a href="https://learn.microsoft.com/en-us/azure/azure-monitor/app/create-workspace-resource">Create and configure Application Insights resources</a><br />
<a href="https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry-enable">Enable OpenTelemetry in Application Insights</a><br />
<a href="https://learn.microsoft.com/en-us/azure/azure-monitor/app/app-insights-overview">Application Insights overview</a></p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">x-ai/grok-4-fast</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
