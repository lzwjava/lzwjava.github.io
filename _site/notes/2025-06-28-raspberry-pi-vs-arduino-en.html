<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Raspberry Pi vs. Arduino for Washing Machine Monitoring with Telegram Alerts</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Raspberry Pi vs. Arduino for Washing Machine Monitoring with Telegram Alerts | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Raspberry Pi vs. Arduino for Washing Machine Monitoring with Telegram Alerts" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-06-28-raspberry-pi-vs-arduino-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-06-28-raspberry-pi-vs-arduino-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Raspberry Pi vs. Arduino for Washing Machine Monitoring with Telegram Alerts" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Raspberry Pi vs. Arduino for Washing Machine Monitoring with Telegram Alerts","url":"https://lzwjava.github.io/notes/2025-06-28-raspberry-pi-vs-arduino-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=d82ec32979e1765d4f2cc4a73f1f705884f73aa2">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=d82ec32979e1765d4f2cc4a73f1f705884f73aa2" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Raspberry Pi vs. Arduino for Washing Machine Monitoring with Telegram Alerts | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-06-28-raspberry-pi-vs-arduino-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-06-28-raspberry-pi-vs-arduino-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/raspberry-pi-vs-arduino-en" selected>English</option>
        <option value="/raspberry-pi-vs-arduino-zh" >中文</option>
        <option value="/raspberry-pi-vs-arduino-ja" >日本語</option>
        <option value="/raspberry-pi-vs-arduino-es" >Español</option>
        <option value="/raspberry-pi-vs-arduino-hi" >हिंदी</option>
        <option value="/raspberry-pi-vs-arduino-fr" >Français</option>
        <option value="/raspberry-pi-vs-arduino-de" >Deutsch</option>
        <option value="/raspberry-pi-vs-arduino-ar" >العربية</option>
        <option value="/raspberry-pi-vs-arduino-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Using a Raspberry Pi instead of an Arduino (like the ESP32-CAM) for detecting when your Maytag MHW8630HW washing machine stops and sending a Telegram notification is a viable alternative, offering more processing power and flexibility at the cost of increased complexity and power consumption. Below, I’ll compare the Raspberry Pi approach with the Arduino solution, outline other microcontroller options, and provide a detailed guide for implementing the system with a Raspberry Pi. I’ll also discuss alternative approaches (e.g., other hardware or sensors) to ensure a comprehensive response.</p>

<hr />

<h3 id="comparison-raspberry-pi-vs-arduino-vs-other-options">Comparison: Raspberry Pi vs. Arduino vs. Other Options</h3>

<table>
  <thead>
    <tr>
      <th><strong>Feature</strong></th>
      <th><strong>Raspberry Pi</strong></th>
      <th><strong>Arduino (ESP32-CAM)</strong></th>
      <th><strong>Other Options (e.g., NodeMCU, ESP8266)</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Processing Power</strong></td>
      <td>High (quad-core CPU, 1-8GB RAM) – Supports advanced image processing, OpenCV.</td>
      <td>Limited (dual-core, 520KB SRAM) – Basic image processing only.</td>
      <td>Very limited – Not suitable for camera-based processing.</td>
    </tr>
    <tr>
      <td><strong>Camera Support</strong></td>
      <td>Easy with USB webcams or Pi Camera Module (e.g., 8MP Pi Camera v2).</td>
      <td>Built-in OV2640 (2MP) camera, but lower resolution and quality.</td>
      <td>Requires external camera module, complex to integrate.</td>
    </tr>
    <tr>
      <td><strong>Wi-Fi</strong></td>
      <td>Built-in (most models, e.g., Pi 4, Zero 2 W).</td>
      <td>Built-in (ESP32-CAM).</td>
      <td>Built-in (e.g., ESP8266), but no native camera support.</td>
    </tr>
    <tr>
      <td><strong>Programming</strong></td>
      <td>Python, OpenCV, versatile but requires OS setup (Raspberry Pi OS).</td>
      <td>C++ in Arduino IDE, simpler for beginners.</td>
      <td>C++ or Lua (e.g., NodeMCU), limited libraries for image processing.</td>
    </tr>
    <tr>
      <td><strong>Power Consumption</strong></td>
      <td>Higher (~2.5W for Pi Zero, ~5-10W for Pi 4).</td>
      <td>Lower (~1-2W for ESP32-CAM).</td>
      <td>Lowest (~0.5-1W for ESP8266).</td>
    </tr>
    <tr>
      <td><strong>Cost</strong></td>
      <td>$10 (Pi Zero W) to $35+ (Pi 4) + $15 for Pi Camera.</td>
      <td>~$10 (ESP32-CAM with camera).</td>
      <td>~$5-10 (ESP8266/NodeMCU) + sensor costs.</td>
    </tr>
    <tr>
      <td><strong>Ease of Setup</strong></td>
      <td>Moderate (OS setup, Python coding).</td>
      <td>Easy (Arduino IDE, single sketch).</td>
      <td>Easy for simple sensors, complex for cameras.</td>
    </tr>
    <tr>
      <td><strong>Best Use Case</strong></td>
      <td>Advanced image processing, flexible for future expansions (e.g., ML models).</td>
      <td>Simple, low-cost light detection with Telegram integration.</td>
      <td>Non-camera solutions (e.g., vibration or current sensors).</td>
    </tr>
  </tbody>
</table>

<p><strong>Raspberry Pi Advantages</strong>:</p>
<ul>
  <li>Superior image processing with OpenCV for robust light detection.</li>
  <li>Easier to debug and expand (e.g., add a web interface or multiple sensors).</li>
  <li>Supports higher-quality cameras for better accuracy in varying light conditions.</li>
</ul>

<p><strong>Raspberry Pi Disadvantages</strong>:</p>
<ul>
  <li>Requires more setup (OS installation, Python environment).</li>
  <li>Higher power consumption, less ideal for battery-powered setups.</li>
  <li>More expensive than ESP32-CAM.</li>
</ul>

<p><strong>Other Options</strong>:</p>
<ul>
  <li><strong>NodeMCU/ESP8266</strong>: Suitable for non-camera solutions (e.g., using a vibration sensor or current sensor). Limited processing power makes camera integration impractical.</li>
  <li><strong>Vibration Sensor</strong>: Detects machine vibrations instead of the panel light. Simple but may miss subtle cycle changes.</li>
  <li><strong>Current Sensor</strong>: Measures power draw (e.g., ACS712 module) to detect when the machine stops. Non-invasive but requires electrical setup.</li>
</ul>

<hr />

<h3 id="raspberry-pi-implementation-guide">Raspberry Pi Implementation Guide</h3>

<h4 id="tech-stack">Tech Stack</h4>
<p><strong>Hardware</strong>:</p>
<ol>
  <li><strong>Raspberry Pi</strong>:
    <ul>
      <li><strong>Raspberry Pi Zero 2 W</strong> ($15, compact, Wi-Fi enabled) or <strong>Raspberry Pi 4</strong> ($35+, more powerful).</li>
    </ul>
  </li>
  <li><strong>Camera</strong>:
    <ul>
      <li><strong>Raspberry Pi Camera Module v2</strong> ($15, 8MP) or a USB webcam.</li>
    </ul>
  </li>
  <li><strong>Power Supply</strong>:
    <ul>
      <li>5V USB-C (Pi 4) or micro-USB (Pi Zero) with 2-3A output.</li>
    </ul>
  </li>
  <li><strong>Mounting</strong>:
    <ul>
      <li>Enclosure or adhesive mount to position the camera facing the washing machine’s panel light.</li>
    </ul>
  </li>
</ol>

<p><strong>Software</strong>:</p>
<ol>
  <li><strong>OS</strong>: Raspberry Pi OS (Lite for efficiency, Full for easier setup).</li>
  <li><strong>Programming Language</strong>: Python.</li>
  <li><strong>Libraries</strong>:
    <ul>
      <li><strong>OpenCV</strong>: For image processing to detect the panel light.</li>
      <li><strong>python-telegram-bot</strong>: For Telegram notifications.</li>
      <li><strong>picamera2</strong> (for Pi Camera) or <strong>fswebcam</strong> (for USB webcam).</li>
    </ul>
  </li>
  <li><strong>Telegram Bot</strong>: Same setup as Arduino (use BotFather for bot token and chat ID).</li>
</ol>

<h4 id="algorithm">Algorithm</h4>
<p>The algorithm is similar to the Arduino approach but leverages OpenCV for more robust image processing:</p>
<ol>
  <li><strong>Image Capture</strong>: Use the Pi Camera or webcam to capture images periodically (e.g., every 10 seconds).</li>
  <li><strong>Region of Interest (ROI)</strong>: Define a rectangle around the panel light in the image.</li>
  <li><strong>Image Processing</strong>:
    <ul>
      <li>Convert to grayscale.</li>
      <li>Apply Gaussian blur to reduce noise.</li>
      <li>Use adaptive thresholding to detect the bright panel light against the background.</li>
      <li>Calculate the average pixel intensity in the ROI or count bright pixels.</li>
    </ul>
  </li>
  <li><strong>State Machine</strong>:
    <ul>
      <li>If the ROI is bright (light ON), mark the machine as running.</li>
      <li>If the ROI is dark (light OFF) for 5 minutes, mark the machine as stopped and send a Telegram notification.</li>
    </ul>
  </li>
  <li><strong>Debouncing</strong>: Implement a 5-minute delay to confirm the machine has stopped.</li>
</ol>

<h4 id="implementation-steps">Implementation Steps</h4>
<ol>
  <li><strong>Set Up the Raspberry Pi</strong>:
    <ul>
      <li>Download and flash <strong>Raspberry Pi OS</strong> (Lite or Full) to an SD card using Raspberry Pi Imager.</li>
      <li>Connect the Pi to Wi-Fi by editing <code class="language-plaintext highlighter-rouge">/etc/wpa_supplicant/wpa_supplicant.conf</code> or using the GUI.</li>
      <li>Enable the camera interface via <code class="language-plaintext highlighter-rouge">raspi-config</code> (Interfacing Options &gt; Camera).</li>
    </ul>
  </li>
  <li><strong>Install Dependencies</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>python3-opencv python3-picamera2 python3-pip
pip3 <span class="nb">install </span>python-telegram-bot
</code></pre></div>    </div>
  </li>
  <li><strong>Position the Camera</strong>:
    <ul>
      <li>Mount the Pi Camera or USB webcam to face the washing machine’s panel light.</li>
      <li>Test the camera with:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>libcamera-still <span class="nt">-o</span> test.jpg
</code></pre></div>        </div>
        <p>or for USB webcam:</p>
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fswebcam test.jpg
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Python Script</strong>:
Below is a sample Python script for the Raspberry Pi to detect the panel light and send Telegram notifications.</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="nn">picamera2</span> <span class="kn">import</span> <span class="n">Picamera2</span>
<span class="kn">import</span> <span class="nn">telegram</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># Telegram bot configuration
</span><span class="n">BOT_TOKEN</span> <span class="o">=</span> <span class="s">"your_bot_token"</span>
<span class="n">CHAT_ID</span> <span class="o">=</span> <span class="s">"your_chat_id"</span>
<span class="n">bot</span> <span class="o">=</span> <span class="n">telegram</span><span class="p">.</span><span class="n">Bot</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">BOT_TOKEN</span><span class="p">)</span>

<span class="c1"># Camera configuration
</span><span class="n">picam2</span> <span class="o">=</span> <span class="n">Picamera2</span><span class="p">()</span>
<span class="n">picam2</span><span class="p">.</span><span class="n">configure</span><span class="p">(</span><span class="n">picam2</span><span class="p">.</span><span class="n">create_still_configuration</span><span class="p">(</span><span class="n">main</span><span class="o">=</span><span class="p">{</span><span class="s">"size"</span><span class="p">:</span> <span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">)}))</span>
<span class="n">picam2</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># ROI configuration (adjust based on camera view)
</span><span class="n">ROI_X</span><span class="p">,</span> <span class="n">ROI_Y</span><span class="p">,</span> <span class="n">ROI_WIDTH</span><span class="p">,</span> <span class="n">ROI_HEIGHT</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span>
<span class="n">THRESHOLD</span> <span class="o">=</span> <span class="mi">150</span>  <span class="c1"># Brightness threshold (0-255)
</span><span class="n">STOP_DELAY</span> <span class="o">=</span> <span class="mi">300</span>  <span class="c1"># 5 minutes in seconds
</span>
<span class="n">machine_running</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">last_on_time</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">send_telegram_message</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">await</span> <span class="n">bot</span><span class="p">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">chat_id</span><span class="o">=</span><span class="n">CHAT_ID</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">is_light_on</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="c1"># Convert to grayscale
</span>    <span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">cv2</span><span class="p">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
    <span class="c1"># Apply Gaussian blur
</span>    <span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
    <span class="c1"># Extract ROI
</span>    <span class="n">roi</span> <span class="o">=</span> <span class="n">gray</span><span class="p">[</span><span class="n">ROI_Y</span><span class="p">:</span><span class="n">ROI_Y</span><span class="o">+</span><span class="n">ROI_HEIGHT</span><span class="p">,</span> <span class="n">ROI_X</span><span class="p">:</span><span class="n">ROI_X</span><span class="o">+</span><span class="n">ROI_WIDTH</span><span class="p">]</span>
    <span class="c1"># Calculate average brightness
</span>    <span class="n">avg_brightness</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">avg_brightness</span> <span class="o">&gt;</span> <span class="n">THRESHOLD</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">machine_running</span><span class="p">,</span> <span class="n">last_on_time</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="c1"># Capture image
</span>        <span class="n">frame</span> <span class="o">=</span> <span class="n">picam2</span><span class="p">.</span><span class="n">capture_array</span><span class="p">()</span>
        <span class="c1"># Check if light is on
</span>        <span class="k">if</span> <span class="n">is_light_on</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">machine_running</span><span class="p">:</span>
                <span class="n">machine_running</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"Machine is ON"</span><span class="p">)</span>
            <span class="n">last_on_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">machine_running</span> <span class="ow">and</span> <span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">last_on_time</span> <span class="o">&gt;</span> <span class="n">STOP_DELAY</span><span class="p">):</span>
                <span class="n">machine_running</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"Machine stopped"</span><span class="p">)</span>
                <span class="k">await</span> <span class="n">send_telegram_message</span><span class="p">(</span><span class="s">"Washing machine stopped! Time to hang up clothes."</span><span class="p">)</span>
        <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Check every 10 seconds
</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div></div>

<ol>
  <li><strong>Customize the Script</strong>:
    <ul>
      <li>Replace <code class="language-plaintext highlighter-rouge">BOT_TOKEN</code> and <code class="language-plaintext highlighter-rouge">CHAT_ID</code> with your Telegram credentials.</li>
      <li>Adjust <code class="language-plaintext highlighter-rouge">ROI_X</code>, <code class="language-plaintext highlighter-rouge">ROI_Y</code>, <code class="language-plaintext highlighter-rouge">ROI_WIDTH</code>, <code class="language-plaintext highlighter-rouge">ROI_HEIGHT</code> by capturing a test image and analyzing it with a tool like GIMP or Python to locate the panel light.</li>
      <li>Tune <code class="language-plaintext highlighter-rouge">THRESHOLD</code> based on test images (higher for brighter lights).</li>
      <li>Modify <code class="language-plaintext highlighter-rouge">STOP_DELAY</code> if needed.</li>
    </ul>
  </li>
  <li><strong>Run the Script</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 washer_monitor.py
</code></pre></div>    </div>
    <ul>
      <li>Run in the background with <code class="language-plaintext highlighter-rouge">nohup python3 washer_monitor.py &amp;</code> or use a systemd service for reliability.</li>
    </ul>
  </li>
  <li><strong>Test and Deploy</strong>:
    <ul>
      <li>Start the washing machine and monitor the script’s output.</li>
      <li>Verify Telegram notifications.</li>
      <li>Secure the Pi and camera in a permanent setup.</li>
    </ul>
  </li>
</ol>

<hr />

<h3 id="other-alternatives">Other Alternatives</h3>
<ol>
  <li><strong>Vibration Sensor</strong>:
    <ul>
      <li><strong>Hardware</strong>: Use a vibration sensor (e.g., SW-420) with an ESP8266 or Raspberry Pi.</li>
      <li><strong>Setup</strong>: Attach the sensor to the washing machine to detect vibrations.</li>
      <li><strong>Algorithm</strong>: Monitor for sustained absence of vibrations (e.g., 5 minutes) to detect when the machine stops.</li>
      <li><strong>Pros</strong>: Simple, low-cost, unaffected by ambient light.</li>
      <li><strong>Cons</strong>: May miss cycles with long pauses (e.g., soaking).</li>
      <li><strong>Code Example (ESP8266)</strong>:
        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;ESP8266WiFi.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;UniversalTelegramBot.h&gt;</span><span class="cp">
#define VIBRATION_PIN D5
#define BOT_TOKEN "your_bot_token"
#define CHAT_ID "your_chat_id"
</span><span class="n">WiFiClientSecure</span> <span class="n">client</span><span class="p">;</span>
<span class="n">UniversalTelegramBot</span> <span class="nf">bot</span><span class="p">(</span><span class="n">BOT_TOKEN</span><span class="p">,</span> <span class="n">client</span><span class="p">);</span>
<span class="kt">bool</span> <span class="n">machineRunning</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">lastVibrationTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">VIBRATION_PIN</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
  <span class="n">WiFi</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="s">"ssid"</span><span class="p">,</span> <span class="s">"password"</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">status</span><span class="p">()</span> <span class="o">!=</span> <span class="n">WL_CONNECTED</span><span class="p">)</span> <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
  <span class="n">client</span><span class="p">.</span><span class="n">setInsecure</span><span class="p">();</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">VIBRATION_PIN</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">machineRunning</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="n">lastVibrationTime</span> <span class="o">=</span> <span class="n">millis</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">machineRunning</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">millis</span><span class="p">()</span> <span class="o">-</span> <span class="n">lastVibrationTime</span> <span class="o">&gt;</span> <span class="mi">300000</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">machineRunning</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="n">bot</span><span class="p">.</span><span class="n">sendMessage</span><span class="p">(</span><span class="n">CHAT_ID</span><span class="p">,</span> <span class="s">"Washing machine stopped!"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Current Sensor</strong>:
    <ul>
      <li><strong>Hardware</strong>: Use an ACS712 current sensor with an ESP8266 or Raspberry Pi.</li>
      <li><strong>Setup</strong>: Non-invasively clamp the sensor around the washing machine’s power cord.</li>
      <li><strong>Algorithm</strong>: Detect when current drops below a threshold (e.g., &lt;0.5A) for 5 minutes.</li>
      <li><strong>Pros</strong>: Accurate, non-invasive.</li>
      <li><strong>Cons</strong>: Requires electrical knowledge, calibration for the machine’s power draw.</li>
    </ul>
  </li>
  <li><strong>Microphones</strong>:
    <ul>
      <li><strong>Hardware</strong>: Use a microphone module (e.g., KY-038) with a Raspberry Pi.</li>
      <li><strong>Algorithm</strong>: Analyze sound levels to detect when the machine’s noise stops.</li>
      <li><strong>Pros</strong>: Non-visual, works in low-light conditions.</li>
      <li><strong>Cons</strong>: Sensitive to ambient noise, requires signal processing.</li>
    </ul>
  </li>
</ol>

<hr />

<h3 id="recommendation">Recommendation</h3>
<ul>
  <li><strong>Raspberry Pi</strong>: Best for robust image processing and future expandability. Use if you’re comfortable with Python and want high reliability in varying light conditions.</li>
  <li><strong>Arduino (ESP32-CAM)</strong>: Best for a low-cost, simple setup. Ideal if you want minimal configuration and are okay with basic image processing.</li>
  <li><strong>Vibration or Current Sensor</strong>: Best for non-camera solutions, especially if the panel light is unreliable (e.g., dim or obscured). Use with ESP8266 for simplicity.</li>
  <li><strong>Microphone</strong>: Less reliable due to ambient noise, but viable as a secondary sensor.</li>
</ul>

<p>For your two-story house, the Raspberry Pi or ESP32-CAM with a camera is ideal since you’re on the second floor and need reliable remote notifications via Telegram. The Raspberry Pi offers better accuracy for light detection, while the ESP32-CAM is cheaper and simpler to deploy. If you prefer a non-camera approach, a vibration sensor with an ESP8266 is the easiest alternative.</p>

<p>Let me know if you want a deeper dive into any specific approach, need help with setup, or want code for an alternative sensor!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
