<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Qiniu PHP SDK</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Qiniu PHP SDK | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Qiniu PHP SDK" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-03-04-php-qiniu-sdk-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-03-04-php-qiniu-sdk-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Qiniu PHP SDK" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Qiniu PHP SDK","url":"https://lzwjava.github.io/notes/2025-03-04-php-qiniu-sdk-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=2760c3213e020f7088c074f3b4cdeda8fb854f54">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=2760c3213e020f7088c074f3b4cdeda8fb854f54" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Qiniu PHP SDK | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-03-04-php-qiniu-sdk-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-03-04-php-qiniu-sdk-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/php-qiniu-sdk-en" selected>English</option>
        <option value="/php-qiniu-sdk-zh" >中文</option>
        <option value="/php-qiniu-sdk-ja" >日本語</option>
        <option value="/php-qiniu-sdk-es" >Español</option>
        <option value="/php-qiniu-sdk-hi" >हिंदी</option>
        <option value="/php-qiniu-sdk-fr" >Français</option>
        <option value="/php-qiniu-sdk-de" >Deutsch</option>
        <option value="/php-qiniu-sdk-ar" >العربية</option>
        <option value="/php-qiniu-sdk-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>To use the <code class="language-plaintext highlighter-rouge">"qiniu/php-sdk": "^7.0"</code> in PHP, you’ll need to integrate the Qiniu PHP SDK into your project. This SDK allows you to interact with Qiniu Cloud Storage services, such as uploading files, managing buckets, and more. Below is a step-by-step guide to get you started:</p>

<hr />

<h3 id="1-install-the-qiniu-php-sdk">1. Install the Qiniu PHP SDK</h3>
<p>The recommended way to install the SDK is via Composer, a dependency manager for PHP. Ensure you have Composer installed on your system.</p>

<h4 id="steps">Steps:</h4>
<ul>
  <li>Open your terminal and navigate to your project directory.</li>
  <li>Run the following command to add the Qiniu PHP SDK (version 7.x) to your project:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer require qiniu/php-sdk <span class="s2">"^7.0"</span>
</code></pre></div>    </div>
  </li>
  <li>Composer will download the SDK and its dependencies into the <code class="language-plaintext highlighter-rouge">vendor/</code> directory and generate an autoload file.</li>
</ul>

<p>If you don’t have Composer installed, you can download it from <a href="https://getcomposer.org/">getcomposer.org</a>.</p>

<hr />

<h3 id="2-set-up-your-project">2. Set Up Your Project</h3>
<p>After installation, you need to include the autoloader in your PHP script to use the SDK classes.</p>

<h4 id="example">Example:</h4>
<p>Create a PHP file (e.g., <code class="language-plaintext highlighter-rouge">index.php</code>) in your project directory and add the following line at the top:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">require_once</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>
</code></pre></div></div>

<p>This ensures that the SDK classes are automatically loaded when needed.</p>

<hr />

<h3 id="3-configure-authentication">3. Configure Authentication</h3>
<p>To use the Qiniu SDK, you’ll need your Qiniu <code class="language-plaintext highlighter-rouge">AccessKey</code> and <code class="language-plaintext highlighter-rouge">SecretKey</code>, which you can obtain from your Qiniu account dashboard.</p>

<h4 id="example-1">Example:</h4>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">use</span> <span class="nc">Qiniu\Auth</span><span class="p">;</span>

<span class="nv">$accessKey</span> <span class="o">=</span> <span class="s1">'YOUR_ACCESS_KEY'</span><span class="p">;</span>
<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s1">'YOUR_SECRET_KEY'</span><span class="p">;</span>

<span class="nv">$auth</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Auth</span><span class="p">(</span><span class="nv">$accessKey</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
</code></pre></div></div>

<p>Replace <code class="language-plaintext highlighter-rouge">'YOUR_ACCESS_KEY'</code> and <code class="language-plaintext highlighter-rouge">'YOUR_SECRET_KEY'</code> with your actual credentials.</p>

<hr />

<h3 id="4-basic-usage-uploading-a-file">4. Basic Usage: Uploading a File</h3>
<p>One of the most common tasks with the Qiniu SDK is uploading files to a bucket. Here’s an example of how to upload a local file.</p>

<h4 id="example-2">Example:</h4>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">use</span> <span class="nc">Qiniu\Storage\UploadManager</span><span class="p">;</span>

<span class="nv">$bucket</span> <span class="o">=</span> <span class="s1">'YOUR_BUCKET_NAME'</span><span class="p">;</span> <span class="c1">// Replace with your Qiniu bucket name</span>
<span class="nv">$filePath</span> <span class="o">=</span> <span class="s1">'/path/to/your/file.txt'</span><span class="p">;</span> <span class="c1">// Path to the file you want to upload</span>
<span class="nv">$key</span> <span class="o">=</span> <span class="s1">'file.txt'</span><span class="p">;</span> <span class="c1">// The name of the file in Qiniu storage (can be null to use the original filename)</span>

<span class="nv">$token</span> <span class="o">=</span> <span class="nv">$auth</span><span class="o">-&gt;</span><span class="nf">uploadToken</span><span class="p">(</span><span class="nv">$bucket</span><span class="p">);</span> <span class="c1">// Generate an upload token</span>
<span class="nv">$uploadMgr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UploadManager</span><span class="p">();</span>

<span class="k">list</span><span class="p">(</span><span class="nv">$ret</span><span class="p">,</span> <span class="nv">$error</span><span class="p">)</span> <span class="o">=</span> <span class="nv">$uploadMgr</span><span class="o">-&gt;</span><span class="nf">putFile</span><span class="p">(</span><span class="nv">$token</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$filePath</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$error</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"Upload failed: "</span> <span class="mf">.</span> <span class="nv">$error</span><span class="o">-&gt;</span><span class="nf">message</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"Upload successful! File hash: "</span> <span class="mf">.</span> <span class="nv">$ret</span><span class="p">[</span><span class="s1">'hash'</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">$bucket</code>: The name of your Qiniu bucket.</li>
  <li><code class="language-plaintext highlighter-rouge">$filePath</code>: The local path to the file you want to upload.</li>
  <li><code class="language-plaintext highlighter-rouge">$key</code>: The file key (name) under which it will be stored in Qiniu. If set to <code class="language-plaintext highlighter-rouge">null</code>, Qiniu will generate a key based on the file’s hash.</li>
  <li><code class="language-plaintext highlighter-rouge">$token</code>: An upload token generated using your credentials and bucket name.</li>
  <li>The <code class="language-plaintext highlighter-rouge">putFile</code> method returns an array: <code class="language-plaintext highlighter-rouge">$ret</code> (success info) and <code class="language-plaintext highlighter-rouge">$error</code> (error info, if any).</li>
</ul>

<hr />

<h3 id="5-additional-features">5. Additional Features</h3>
<p>The Qiniu PHP SDK provides many other functionalities, such as:</p>
<ul>
  <li><strong>Managing Buckets</strong>: Use <code class="language-plaintext highlighter-rouge">Qiniu\Storage\BucketManager</code> to list files, delete files, or manage bucket settings.</li>
  <li><strong>File Operations</strong>: Copy, move, or delete files in your bucket.</li>
  <li><strong>Image Processing</strong>: Generate URLs for resized or formatted images.</li>
</ul>

<h4 id="example-listing-files-in-a-bucket">Example: Listing Files in a Bucket</h4>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">use</span> <span class="nc">Qiniu\Storage\BucketManager</span><span class="p">;</span>

<span class="nv">$bucketMgr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BucketManager</span><span class="p">(</span><span class="nv">$auth</span><span class="p">);</span>
<span class="k">list</span><span class="p">(</span><span class="nv">$ret</span><span class="p">,</span> <span class="nv">$error</span><span class="p">)</span> <span class="o">=</span> <span class="nv">$bucketMgr</span><span class="o">-&gt;</span><span class="nf">listFiles</span><span class="p">(</span><span class="nv">$bucket</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$error</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"Error: "</span> <span class="mf">.</span> <span class="nv">$error</span><span class="o">-&gt;</span><span class="nf">message</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"Files in bucket:</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$ret</span><span class="p">[</span><span class="s1">'items'</span><span class="p">]</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="nv">$item</span><span class="p">[</span><span class="s1">'key'</span><span class="p">]</span> <span class="mf">.</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h3 id="6-error-handling">6. Error Handling</h3>
<p>Always check the <code class="language-plaintext highlighter-rouge">$error</code> variable after SDK operations. If an operation fails, <code class="language-plaintext highlighter-rouge">$error</code> will contain details about what went wrong.</p>

<h4 id="example-3">Example:</h4>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="nv">$error</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$error</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$ret</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h3 id="7-requirements">7. Requirements</h3>
<ul>
  <li>PHP version: The SDK version <code class="language-plaintext highlighter-rouge">^7.0</code> supports PHP 5.3.3 and higher (up to PHP 8.x in later releases).</li>
  <li>Extensions: Ensure the <code class="language-plaintext highlighter-rouge">cURL</code> and <code class="language-plaintext highlighter-rouge">xml</code> PHP extensions are enabled, as they are required by the SDK.</li>
</ul>

<p>You can check your PHP version and extensions with:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php <span class="nt">-v</span>
php <span class="nt">-m</span>
</code></pre></div></div>

<hr />

<h3 id="8-where-to-go-next">8. Where to Go Next</h3>
<ul>
  <li><strong>Documentation</strong>: For more details, refer to the <a href="https://developer.qiniu.com/kodo/sdk/php">official Qiniu PHP SDK documentation</a> or the <a href="https://github.com/qiniu/php-sdk">GitHub repository</a>.</li>
  <li><strong>Examples</strong>: Check the <code class="language-plaintext highlighter-rouge">examples/</code> directory in the GitHub repo for more use cases.</li>
  <li><strong>Support</strong>: If you encounter issues, submit a ticket to Qiniu support (<a href="mailto:support@qiniu.com">support@qiniu.com</a>) or ask in their community forums.</li>
</ul>

<hr />

<h3 id="full-example-code">Full Example Code</h3>
<p>Here’s a complete script to upload a file:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'vendor/autoload.php'</span><span class="p">;</span>

<span class="kn">use</span> <span class="nc">Qiniu\Auth</span><span class="p">;</span>
<span class="kn">use</span> <span class="nc">Qiniu\Storage\UploadManager</span><span class="p">;</span>

<span class="nv">$accessKey</span> <span class="o">=</span> <span class="s1">'YOUR_ACCESS_KEY'</span><span class="p">;</span>
<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s1">'YOUR_SECRET_KEY'</span><span class="p">;</span>
<span class="nv">$bucket</span> <span class="o">=</span> <span class="s1">'YOUR_BUCKET_NAME'</span><span class="p">;</span>
<span class="nv">$filePath</span> <span class="o">=</span> <span class="s1">'/path/to/your/file.txt'</span><span class="p">;</span>
<span class="nv">$key</span> <span class="o">=</span> <span class="s1">'file.txt'</span><span class="p">;</span>

<span class="nv">$auth</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Auth</span><span class="p">(</span><span class="nv">$accessKey</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="nv">$auth</span><span class="o">-&gt;</span><span class="nf">uploadToken</span><span class="p">(</span><span class="nv">$bucket</span><span class="p">);</span>
<span class="nv">$uploadMgr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UploadManager</span><span class="p">();</span>

<span class="k">list</span><span class="p">(</span><span class="nv">$ret</span><span class="p">,</span> <span class="nv">$error</span><span class="p">)</span> <span class="o">=</span> <span class="nv">$uploadMgr</span><span class="o">-&gt;</span><span class="nf">putFile</span><span class="p">(</span><span class="nv">$token</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$filePath</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$error</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"Upload failed: "</span> <span class="mf">.</span> <span class="nv">$error</span><span class="o">-&gt;</span><span class="nf">message</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"Upload successful! File hash: "</span> <span class="mf">.</span> <span class="nv">$ret</span><span class="p">[</span><span class="s1">'hash'</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Replace the placeholder values (<code class="language-plaintext highlighter-rouge">YOUR_ACCESS_KEY</code>, <code class="language-plaintext highlighter-rouge">YOUR_SECRET_KEY</code>, <code class="language-plaintext highlighter-rouge">YOUR_BUCKET_NAME</code>, <code class="language-plaintext highlighter-rouge">/path/to/your/file.txt</code>) with your actual data, and you’re good to go!</p>

<p>Let me know if you need help with a specific feature!</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
