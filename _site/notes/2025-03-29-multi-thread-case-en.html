<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>A Multi-threaded Case</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>A Multi-threaded Case | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="A Multi-threaded Case" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-03-29-multi-thread-case-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-03-29-multi-thread-case-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="A Multi-threaded Case" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"A Multi-threaded Case","url":"https://lzwjava.github.io/notes/2025-03-29-multi-thread-case-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=6747528cb50fa7ece8ccf9426b115cd03c952ca5">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=6747528cb50fa7ece8ccf9426b115cd03c952ca5" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       A Multi-threaded Case | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-03-29-multi-thread-case-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-03-29-multi-thread-case-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/multi-thread-case-en" selected>English</option>
        <option value="/multi-thread-case-zh" >中文</option>
        <option value="/multi-thread-case-ja" >日本語</option>
        <option value="/multi-thread-case-es" >Español</option>
        <option value="/multi-thread-case-hi" >हिंदी</option>
        <option value="/multi-thread-case-fr" >Français</option>
        <option value="/multi-thread-case-de" >Deutsch</option>
        <option value="/multi-thread-case-ar" >العربية</option>
        <option value="/multi-thread-case-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>To handle multi-threaded validation in a Java Spring Boot project with 10 rules, where some rules may access the database and you want to cancel the others as soon as one fails to avoid wasting time, you can use Java’s concurrency utilities in combination with Spring’s features. Here’s a complete and efficient solution:</p>

<h3 id="approach-overview">Approach Overview</h3>
<ul>
  <li><strong>Run validations concurrently</strong>: Use multiple threads to execute the 10 validation rules in parallel, speeding up the process when all rules pass.</li>
  <li><strong>Cancel on failure</strong>: Stop remaining validations as soon as any rule fails, minimizing unnecessary work.</li>
  <li><strong>Leverage Spring</strong>: Utilize Spring’s dependency injection and transaction management for database-accessing rules.</li>
</ul>

<p>The best way to achieve this is by using an <code class="language-plaintext highlighter-rouge">ExecutorService</code> paired with a <code class="language-plaintext highlighter-rouge">CompletionService</code>. The <code class="language-plaintext highlighter-rouge">CompletionService</code> allows you to process task results as they complete, enabling immediate detection of a failure and cancellation of pending tasks.</p>

<hr />

<h3 id="step-by-step-solution">Step-by-Step Solution</h3>

<h4 id="1-define-validation-rules">1. Define Validation Rules</h4>
<p>Each of the 10 rules should be an independent validation task. Some rules may involve database access, so encapsulate them in a service with transactional methods.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RuleValidator</span> <span class="o">{</span>
    <span class="c1">// Example: Rule accessing the database</span>
    <span class="nd">@Transactional</span><span class="o">(</span><span class="n">readOnly</span> <span class="o">=</span> <span class="kc">true</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">validateRule</span><span class="o">(</span><span class="kt">int</span> <span class="n">ruleId</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Simulate rule validation, e.g., database query</span>
        <span class="c1">// Return true if rule passes, false if it fails</span>
        <span class="k">return</span> <span class="nf">performValidation</span><span class="o">(</span><span class="n">ruleId</span><span class="o">);</span> <span class="c1">// Implementation depends on your logic</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">performValidation</span><span class="o">(</span><span class="kt">int</span> <span class="n">ruleId</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Replace with actual validation logic</span>
        <span class="k">return</span> <span class="n">ruleId</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">;</span> <span class="c1">// Example: even rule IDs pass</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Use <code class="language-plaintext highlighter-rouge">@Transactional(readOnly = true)</code> for rules that only read from the database, ensuring each runs in its own transaction context in a thread-safe manner.</li>
</ul>

<h4 id="2-configure-an-executorservice">2. Configure an ExecutorService</h4>
<p>Define a thread pool to manage the concurrent execution of validation tasks. In Spring, you can create it as a bean:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppConfig</span> <span class="o">{</span>
    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">ExecutorService</span> <span class="nf">executorService</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">Executors</span><span class="o">.</span><span class="na">newFixedThreadPool</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span> <span class="c1">// 10 threads for 10 rules</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Adjust the thread pool size based on your system’s capabilities (e.g., CPU cores, database connection limits).</li>
</ul>

<h4 id="3-implement-multi-threaded-validation">3. Implement Multi-threaded Validation</h4>
<p>Create a service that orchestrates the validation process using <code class="language-plaintext highlighter-rouge">CompletionService</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ValidationService</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ExecutorService</span> <span class="n">executorService</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">RuleValidator</span> <span class="n">ruleValidator</span><span class="o">;</span>

    <span class="nd">@Autowired</span>
    <span class="kd">public</span> <span class="nf">ValidationService</span><span class="o">(</span><span class="nc">ExecutorService</span> <span class="n">executorService</span><span class="o">,</span> <span class="nc">RuleValidator</span> <span class="n">ruleValidator</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">executorService</span> <span class="o">=</span> <span class="n">executorService</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ruleValidator</span> <span class="o">=</span> <span class="n">ruleValidator</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">validateAllRules</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Step 1: Create validation tasks</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Callable</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">&gt;&gt;</span> <span class="n">tasks</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="kt">int</span> <span class="n">ruleId</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="n">tasks</span><span class="o">.</span><span class="na">add</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="k">try</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="n">ruleValidator</span><span class="o">.</span><span class="na">validateRule</span><span class="o">(</span><span class="n">ruleId</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                    <span class="c1">// Handle exceptions (e.g., database errors) as failures</span>
                    <span class="n">log</span><span class="o">.</span><span class="na">error</span><span class="o">(</span><span class="s">"Validation failed for rule "</span> <span class="o">+</span> <span class="n">ruleId</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
                    <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">});</span>
        <span class="o">}</span>

        <span class="c1">// Step 2: Set up CompletionService and submit tasks</span>
        <span class="nc">CompletionService</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">&gt;</span> <span class="n">completionService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ExecutorCompletionService</span><span class="o">&lt;&gt;(</span><span class="n">executorService</span><span class="o">);</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Future</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">&gt;&gt;</span> <span class="n">futures</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Callable</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">&gt;</span> <span class="n">task</span> <span class="o">:</span> <span class="n">tasks</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">futures</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">completionService</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="n">task</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="c1">// Step 3: Process results as they complete</span>
        <span class="kt">boolean</span> <span class="n">hasFailed</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="nc">Future</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">&gt;</span> <span class="n">completed</span> <span class="o">=</span> <span class="n">completionService</span><span class="o">.</span><span class="na">take</span><span class="o">();</span> <span class="c1">// Blocks until next task completes</span>
                <span class="kt">boolean</span> <span class="n">result</span> <span class="o">=</span> <span class="n">completed</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">result</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">hasFailed</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                    <span class="k">break</span><span class="o">;</span> <span class="c1">// Stop checking once a failure is found</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="o">|</span> <span class="nc">ExecutionException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">log</span><span class="o">.</span><span class="na">error</span><span class="o">(</span><span class="s">"Error during validation"</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
                <span class="n">hasFailed</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="c1">// Step 4: Cancel remaining tasks if a failure occurred</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">hasFailed</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="nc">Future</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">&gt;</span> <span class="n">future</span> <span class="o">:</span> <span class="n">futures</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">future</span><span class="o">.</span><span class="na">isDone</span><span class="o">())</span> <span class="o">{</span>
                    <span class="n">future</span><span class="o">.</span><span class="na">cancel</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// Interrupt running tasks</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// Validation failed</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span> <span class="c1">// All rules passed</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="how-it-works">How It Works</h4>
<ul>
  <li><strong>Task Creation</strong>: Each validation rule is wrapped in a <code class="language-plaintext highlighter-rouge">Callable&lt;Boolean&gt;</code> that returns <code class="language-plaintext highlighter-rouge">true</code> if the rule passes and <code class="language-plaintext highlighter-rouge">false</code> if it fails. Exceptions are caught and treated as failures.</li>
  <li><strong>Concurrent Execution</strong>: Tasks are submitted to the <code class="language-plaintext highlighter-rouge">CompletionService</code>, which runs them in parallel using the thread pool. Futures are collected to track task status.</li>
  <li><strong>Result Processing</strong>: <code class="language-plaintext highlighter-rouge">completionService.take()</code> retrieves the next completed task’s result. If any result is <code class="language-plaintext highlighter-rouge">false</code>, the loop breaks, and <code class="language-plaintext highlighter-rouge">hasFailed</code> is set.</li>
  <li><strong>Cancellation</strong>: Upon failure, all unfinished tasks are cancelled using <code class="language-plaintext highlighter-rouge">future.cancel(true)</code>, which attempts to interrupt the running threads.</li>
  <li><strong>Outcome</strong>: Returns <code class="language-plaintext highlighter-rouge">false</code> if any rule fails, <code class="language-plaintext highlighter-rouge">true</code> if all pass.</li>
</ul>

<hr />

<h3 id="key-considerations">Key Considerations</h3>
<ul>
  <li><strong>Database Access</strong>: Since rules may access the database, <code class="language-plaintext highlighter-rouge">@Transactional</code> ensures thread-safe operations. Each task runs in its own transaction, which is appropriate for independent validations.</li>
  <li><strong>Task Cancellation</strong>: Cancelling a <code class="language-plaintext highlighter-rouge">Future</code> interrupts the thread, but ongoing database queries may not stop immediately. However, this still prevents further processing and lets the main thread proceed.</li>
  <li><strong>Exception Handling</strong>: Exceptions (e.g., database errors) are caught within tasks and treated as failures, ensuring robust behavior.</li>
  <li><strong>Thread Pool Size</strong>: Set to 10 for simplicity (one thread per rule), but optimize based on your application’s needs and resources.</li>
</ul>

<hr />

<h3 id="why-this-is-the-best-approach">Why This Is the Best Approach</h3>
<ul>
  <li><strong>Efficiency</strong>: Validations run concurrently, reducing total time when all pass.</li>
  <li><strong>Early Termination</strong>: <code class="language-plaintext highlighter-rouge">CompletionService</code> allows immediate failure detection, and cancellation stops unnecessary work.</li>
  <li><strong>Simplicity</strong>: Leverages standard Java concurrency utilities and integrates seamlessly with Spring Boot.</li>
  <li><strong>Scalability</strong>: Easily extensible to more rules by adjusting the thread pool and task list.</li>
</ul>

<p>Alternative approaches like <code class="language-plaintext highlighter-rouge">CompletableFuture</code> or polling <code class="language-plaintext highlighter-rouge">Future</code> results with timeouts were considered, but <code class="language-plaintext highlighter-rouge">CompletionService</code> is more straightforward for this use case, as it efficiently handles results in completion order and supports cancellation.</p>

<hr />

<h3 id="usage-example">Usage Example</h3>
<p>Inject and call the service in your controller or business logic:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ValidationController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ValidationService</span> <span class="n">validationService</span><span class="o">;</span>

    <span class="nd">@Autowired</span>
    <span class="kd">public</span> <span class="nf">ValidationController</span><span class="o">(</span><span class="nc">ValidationService</span> <span class="n">validationService</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">validationService</span> <span class="o">=</span> <span class="n">validationService</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/validate"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">validate</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">boolean</span> <span class="n">result</span> <span class="o">=</span> <span class="n">validationService</span><span class="o">.</span><span class="na">validateAllRules</span><span class="o">();</span>
        <span class="k">return</span> <span class="nc">ResponseEntity</span><span class="o">.</span><span class="na">ok</span><span class="o">(</span><span class="n">result</span> <span class="o">?</span> <span class="s">"All rules passed"</span> <span class="o">:</span> <span class="s">"Validation failed"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>This solution meets your requirements: it runs 10 validation rules in parallel, cancels remaining tasks when one fails, and avoids wasting time, all while integrating cleanly with Spring Boot.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
