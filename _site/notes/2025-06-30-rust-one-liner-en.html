<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Rust One-Liner with Shell Chaining</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Rust One-Liner with Shell Chaining | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Rust One-Liner with Shell Chaining" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-06-30-rust-one-liner-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-06-30-rust-one-liner-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Rust One-Liner with Shell Chaining" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Rust One-Liner with Shell Chaining","url":"https://lzwjava.github.io/notes/2025-06-30-rust-one-liner-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=7098a57ecee3641d358bc8eb96400bb82ad66f00">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=7098a57ecee3641d358bc8eb96400bb82ad66f00" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Rust One-Liner with Shell Chaining | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-06-30-rust-one-liner-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-06-30-rust-one-liner-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/rust-one-liner-en" selected>English</option>
        <option value="/rust-one-liner-zh" >中文</option>
        <option value="/rust-one-liner-ja" >日本語</option>
        <option value="/rust-one-liner-es" >Español</option>
        <option value="/rust-one-liner-hi" >हिंदी</option>
        <option value="/rust-one-liner-fr" >Français</option>
        <option value="/rust-one-liner-de" >Deutsch</option>
        <option value="/rust-one-liner-ar" >العربية</option>
        <option value="/rust-one-liner-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>You’re hitting on a common desire for experienced developers coming from languages like Python, Ruby, or JavaScript, where you often have a single command to execute a script directly. Rust, being a compiled language, has a slightly different workflow by default.</p>

<p>However, you can definitely achieve a “one-liner” feel, especially for simple scripts or exercises, by chaining commands in your shell.</p>

<h3 id="the-direct-one-liner-shell-chaining">The Direct “One-Liner” (Shell Chaining)</h3>

<p>You already have the components: <code class="language-plaintext highlighter-rouge">rustc</code> for compilation and <code class="language-plaintext highlighter-rouge">./</code> for execution. You can combine them using shell operators:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rustc scripts/rust/example.rs <span class="nt">-o</span> <span class="nb">test</span>/example <span class="o">&amp;&amp;</span> ./test/example
</code></pre></div></div>

<p><strong>Explanation:</strong></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">rustc scripts/rust/example.rs -o test/example</code>: This compiles your Rust file and places the executable at <code class="language-plaintext highlighter-rouge">test/example</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">&amp;&amp;</code>: This is a <strong>conditional command separator</strong> in bash (and most Unix-like shells). The command <em>after</em> <code class="language-plaintext highlighter-rouge">&amp;&amp;</code> will only execute if the command <em>before</em> <code class="language-plaintext highlighter-rouge">&amp;&amp;</code> successfully completes (i.e., returns an exit code of 0).
    <ul>
      <li>If <code class="language-plaintext highlighter-rouge">rustc</code> compiles without errors, it will return 0, and then <code class="language-plaintext highlighter-rouge">./test/example</code> will run.</li>
      <li>If <code class="language-plaintext highlighter-rouge">rustc</code> encounters a compilation error, it will return a non-zero exit code, and <code class="language-plaintext highlighter-rouge">./test/example</code> will <em>not</em> be executed. This is good behavior!</li>
    </ul>
  </li>
</ul>

<h3 id="for-a-more-script-like-experience-cargo">For a More “Script-like” Experience (Cargo)</h3>

<p>While the above <code class="language-plaintext highlighter-rouge">&amp;&amp;</code> approach works well for quick tests, for anything beyond trivial single-file scripts, Rust’s <code class="language-plaintext highlighter-rouge">cargo</code> tool is the recommended way to go, and it <em>does</em> provide a Python-like one-liner for running code within a project:</p>

<ol>
  <li>
    <p><strong>Initialize a Cargo Project (if you haven’t already):</strong>
If your <code class="language-plaintext highlighter-rouge">scripts/rust/example.rs</code> is just a standalone file, you’d typically start by creating a Cargo project in its parent directory (or a new dedicated directory).</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Go to the directory where you want your project (e.g., scripts/rust)</span>
<span class="nb">cd </span>scripts/rust

<span class="c"># Initialize a new Cargo binary project</span>
cargo init <span class="nt">--bin</span> <span class="nb">.</span>
</code></pre></div>    </div>

    <p>This will create <code class="language-plaintext highlighter-rouge">Cargo.toml</code> and move your <code class="language-plaintext highlighter-rouge">example.rs</code> (if it was <code class="language-plaintext highlighter-rouge">main.rs</code>) or adjust the <code class="language-plaintext highlighter-rouge">Cargo.toml</code> to point to it (if you rename <code class="language-plaintext highlighter-rouge">example.rs</code> to <code class="language-plaintext highlighter-rouge">main.rs</code> within <code class="language-plaintext highlighter-rouge">src/</code>).</p>
  </li>
  <li>
    <p><strong>Run with Cargo:</strong>
Once you have a Cargo project set up, you can compile and run with a single command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># From your project root (e.g., scripts/rust if you ran cargo init there)</span>
cargo run
</code></pre></div>    </div>

    <p><code class="language-plaintext highlighter-rouge">cargo run</code> will:</p>

    <ul>
      <li>Compile your code (if it hasn’t been compiled or if changes have been made).</li>
      <li>Then, execute the resulting binary.</li>
      <li>By default, the binary is placed in <code class="language-plaintext highlighter-rouge">target/debug/</code> within your project, but you don’t have to worry about its specific path.</li>
    </ul>
  </li>
</ol>

<p><strong>Why Cargo is preferred:</strong></p>

<ul>
  <li><strong>Dependency Management:</strong> If your code ever needs external libraries (crates), Cargo handles fetching, compiling, and linking them automatically. You specify them in <code class="language-plaintext highlighter-rouge">Cargo.toml</code>.</li>
  <li><strong>Standard Project Structure:</strong> It encourages a consistent layout (<code class="language-plaintext highlighter-rouge">src/main.rs</code>, <code class="language-plaintext highlighter-rouge">Cargo.toml</code>), which makes your code easier for others (and future you) to understand.</li>
  <li><strong>Testing:</strong> <code class="language-plaintext highlighter-rouge">cargo test</code> runs your unit and integration tests.</li>
  <li><strong>Release Builds:</strong> <code class="language-plaintext highlighter-rouge">cargo run --release</code> (or <code class="language-plaintext highlighter-rouge">cargo build --release</code>) compiles with optimizations for production.</li>
  <li><strong>No Manual Cleanup:</strong> You don’t have to manually delete compiled binaries. <code class="language-plaintext highlighter-rouge">cargo clean</code> takes care of it.</li>
</ul>

<h3 id="what-about-a-true-scripting-approach-like-pythons-python-scriptpy">What about a true “Scripting” approach like Python’s <code class="language-plaintext highlighter-rouge">python script.py</code>?</h3>

<p>Rust isn’t designed as an interpreted scripting language. It’s a compiled systems language. So, you won’t get a direct <code class="language-plaintext highlighter-rouge">rust script.rs</code> command that compiles and runs without an explicit compilation step.</p>

<p>However, there are community tools that try to bridge this gap for quick, single-file Rust “scripts” (though they are still compiling under the hood):</p>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">cargo-script</code></strong>: A Cargo subcommand that allows you to run single <code class="language-plaintext highlighter-rouge">.rs</code> files, handling dependencies if specified via comments. You’d typically install it with <code class="language-plaintext highlighter-rouge">cargo install cargo-script</code>. Then you could potentially run <code class="language-plaintext highlighter-rouge">cargo script scripts/rust/example.rs</code>.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">rust-script</code></strong>: Another popular tool for running Rust files directly like scripts. Install it via <code class="language-plaintext highlighter-rouge">cargo install rust-script</code>. Then, you can often just make your <code class="language-plaintext highlighter-rouge">.rs</code> file executable (<code class="language-plaintext highlighter-rouge">chmod +x example.rs</code>) and run it: <code class="language-plaintext highlighter-rouge">./example.rs</code>. It handles the compilation and execution in the background.</li>
</ul>

<p>For your use case of quickly testing <code class="language-plaintext highlighter-rouge">example.rs</code>, the <code class="language-plaintext highlighter-rouge">rustc ... &amp;&amp; ./...</code> one-liner is perfectly fine and directly answers your question about chaining the two commands. For any non-trivial development, embracing Cargo will be a more productive and idiomatic Rust experience.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
