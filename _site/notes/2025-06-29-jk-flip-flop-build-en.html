<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Building and Testing a JK Flip-Flop</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Building and Testing a JK Flip-Flop | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Building and Testing a JK Flip-Flop" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-06-29-jk-flip-flop-build-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-06-29-jk-flip-flop-build-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Building and Testing a JK Flip-Flop" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Building and Testing a JK Flip-Flop","url":"https://lzwjava.github.io/notes/2025-06-29-jk-flip-flop-build-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=85fe4aa03c75ad3c778eb92b9e03157fc71ccb01">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=85fe4aa03c75ad3c778eb92b9e03157fc71ccb01" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Building and Testing a JK Flip-Flop | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-06-29-jk-flip-flop-build-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-06-29-jk-flip-flop-build-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/jk-flip-flop-build-en" selected>English</option>
        <option value="/jk-flip-flop-build-zh" >中文</option>
        <option value="/jk-flip-flop-build-ja" >日本語</option>
        <option value="/jk-flip-flop-build-es" >Español</option>
        <option value="/jk-flip-flop-build-hi" >हिंदी</option>
        <option value="/jk-flip-flop-build-fr" >Français</option>
        <option value="/jk-flip-flop-build-de" >Deutsch</option>
        <option value="/jk-flip-flop-build-ar" >العربية</option>
        <option value="/jk-flip-flop-build-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>In a previous video, we explored the JK flip-flop and its operation, noting its similarity to the SR flip-flop but with the added feedback mechanism. This feedback allows the output to toggle when both inputs are high on a rising clock edge, rather than entering an undefined state. In this video, I aim to build and observe its practical functionality.</p>

<p>I’ve constructed a JK flip-flop following the provided circuit diagram. During the build, I realized a labeling error in the diagram: this is actually the K input, and this is the J input. J corresponds to setting, meaning when it goes high, the Q output should also go high. Conversely, K corresponds to resetting, so when it goes high, the Q output should go low. Aside from this minor labeling correction, the rest of the circuit is accurate.</p>

<p>For the NOR gates, I’m utilizing the 74LS02 chip, specifically the two NOR gates on its top side. The other chip, the 74LS11, is a triple 3-input AND gate. I’m employing two of these three-input AND gates for the circuit.</p>

<p>Upon supplying power, the circuit settles into a state, with the Q output appearing to be “on.” I then connected my clock circuit. The two switches you see are pulled low via pull-down resistors; pressing a button makes the input go high. These switches are connected by green wires to the two AND gates, serving as the K and J inputs.</p>

<p>The clock signal also feeds into the AND gates. It passes through an RC circuit, consisting of a 0.0001 microfarad capacitor and a 1000 ohm resistor. The output of this RC circuit, carried by two white wires, goes to another input on both AND gates. The outputs of these AND gates are represented by blue wires, which connect to two of the inputs on the NOR gates. The other inputs of the NOR gates receive feedback from their own outputs via yellow wires. These yellow wires also loop back to the AND gates. Finally, the NOR gate outputs drive two LEDs: one for Q and one for Q complement.</p>

<p>When the K input is driven high, the latch should reset, and the Q output should turn off, which it does. Similarly, driving the J input high should set the latch, turning the Q output on, which it also does. Importantly, observe that the change isn’t instantaneous upon pressing the button; it occurs with the next clock signal, as this operation is gated by the clock’s rising edge.</p>

<p>Now, as this is a JK flip-flop, if both J and K inputs are set high, we expect the output to toggle with each clock pulse. However, it’s not consistently toggling. Sometimes it does, especially if I manipulate the circuit slightly, but it’s very inconsistent. To ensure I’m pushing both buttons, I’ll insert jumpers across them, effectively providing a continuous high input to both J and K. This <em>should</em> cause it to toggle with every rising clock edge. While it’s working better now, it’s still inconsistent.</p>

<p>This inconsistent behavior has a clear explanation, and the best way to understand it is by using an oscilloscope to examine the signals.</p>

<p>First, let’s look at the clock input for reference. The oscilloscope shows the clock signal switching on and off, approximately twice per second. Each division on the scope represents 100 milliseconds, so over 10 divisions, it pulses twice per second.</p>

<p>Next, I want to observe the output, as this is what we expect to toggle with each clock pulse. The clock is indeed pulsing at about two pulses per second. Currently, the output isn’t toggling, but with some slight adjustment, it does toggle, though inconsistently. When it <em>does</em> toggle, it does so on the clock’s rising edges, as desired.</p>

<p>The interesting part emerges when we zoom in on the rising edge of the clock. We see some activity there. Zooming in further, it becomes quite clear: when the clock goes high, the output <em>does</em> toggle, but it toggles back and forth multiple times before finally settling into a stable state. This is precisely why the behavior is so inconsistent. The output toggles as desired on the rising clock edge, but then it rapidly toggles again shortly thereafter. The period of these rapid toggles is about 82 nanoseconds.</p>

<p>This phenomenon, known as “racing,” makes sense when we re-examine the circuit diagram. The clock pulse, even though we intend to use only its leading edge, remains high for a considerable duration (250 milliseconds in this case). If the output switches <em>before</em> this pulse goes back to zero, the feedback loop causes it to switch again, and again, leading to multiple toggles. So, when the clock pulse goes high, the output switches on, but then immediately switches off and on repeatedly. It’s purely by chance that it settles into the desired state sometimes.</p>

<p>The root cause of this racing condition lies in the RC circuit used for detecting the rising edge. I mentioned that the capacitor is 0.0001 microfarads and the resistor is 1000 ohms. Multiplying these values gives the time constant of the RC circuit, which indicates the pulse width. This time constant is approximately 100 nanoseconds.</p>

<p>Let’s measure the pulse input for the circuit. Initially, it looks great when zoomed out – a quick pulse on the rising edge of the clock, as desired. The problem is that this pulse isn’t quick <em>enough</em>. It’s a 1-microsecond pulse, and during that 1 microsecond, the output toggles on and off repeatedly before finally settling when the pulse drops to a logic zero.</p>

<p>What can be done about this? One option is to make the pulse shorter. Given that the toggling period is around 80 nanoseconds, we need a pulse significantly shorter than 1 microsecond. We can try changing the 1000-ohm resistor to a 100-ohm resistor, which should reduce the time constant to 100 nanoseconds.</p>

<p>After swapping out the resistor, we observe a much smaller pulse. However, it’s still not consistently working. At this point, we’re encountering the limitations of breadboards. High-speed signals in the tens of nanoseconds range are challenging on breadboards due to stray capacitances, inductances, and other parasitic effects. This explains why simply waving my hand near the circuit can alter its behavior, as my hand changes the capacitance by acting as a grounded object.</p>

<p>You can see that the output is now going high, then low, and staying low. But again, if I adjust my hand, it might start toggling. I’m not changing any connections, just moving my hand, which affects the capacitance.</p>

<p>Even the rising edge of our clock isn’t perfectly sharp on this timescale, again due to breadboard limitations. The pulse we’re generating isn’t as clean as it was with the larger resistor. Ultimately, this all points to the fact that we’re pushing the boundaries of what’s feasible on a breadboard. This particular method of detecting a rising edge using an RC circuit is inherently problematic in a JK flip-flop due to the racing condition. If the pulse isn’t narrow enough (ideally just a few nanoseconds), the output will feed back and toggle more than once per clock rising edge.</p>

<p>So, what’s the solution? In the next video, I’ll demonstrate a far superior method for building a JK flip-flop that entirely eliminates this racing problem: the master-slave JK flip-flop. It’s a much more robust design and should work without any issues on a breadboard.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
