<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>CodeIgniter Routing Guide</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>CodeIgniter Routing Guide | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="CodeIgniter Routing Guide" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-10-02-codeigniter-routing-guide-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-10-02-codeigniter-routing-guide-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="CodeIgniter Routing Guide" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"CodeIgniter Routing Guide","url":"https://lzwjava.github.io/notes/2025-10-02-codeigniter-routing-guide-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=36b9356eef471f767d0bb7972a9da3979221fcb8">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=36b9356eef471f767d0bb7972a9da3979221fcb8" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       CodeIgniter Routing Guide | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-10-02-codeigniter-routing-guide-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-10-02-codeigniter-routing-guide-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/codeigniter-routing-guide-en" selected>English</option>
        <option value="/codeigniter-routing-guide-zh" >中文</option>
        <option value="/codeigniter-routing-guide-ja" >日本語</option>
        <option value="/codeigniter-routing-guide-es" >Español</option>
        <option value="/codeigniter-routing-guide-hi" >हिंदी</option>
        <option value="/codeigniter-routing-guide-fr" >Français</option>
        <option value="/codeigniter-routing-guide-de" >Deutsch</option>
        <option value="/codeigniter-routing-guide-ar" >العربية</option>
        <option value="/codeigniter-routing-guide-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="overview-of-codeigniter-routing">Overview of CodeIgniter Routing</h3>

<p>CodeIgniter’s routing system allows you to map URLs (URIs) to specific controller classes and methods, overriding the default URL pattern of <code class="language-plaintext highlighter-rouge">example.com/controller/method/id/</code>. This is useful for creating SEO-friendly URLs, handling RESTful APIs, or simply customizing how requests are processed.</p>

<p>The provided code snippet is from CodeIgniter’s <code class="language-plaintext highlighter-rouge">routes.php</code> configuration file. It defines an associative array <code class="language-plaintext highlighter-rouge">$route</code> where each key is a URI pattern, and the value is either a string (<code class="language-plaintext highlighter-rouge">controller/method</code>) or an array specifying different behaviors by HTTP method (e.g., GET, POST). This setup supports both standard routing and method-specific routing.</p>

<p>I’ll break down <strong>how routes are defined</strong>, <strong>how they work</strong>, and <strong>how to use them</strong>, based on CodeIgniter’s standard behavior and the example in your code. For full details, refer to the official CodeIgniter User Guide on routing: https://codeigniter.com/userguide4/general/routing.html.</p>

<h4 id="1-how-to-define-routes">1. <strong>How to Define Routes</strong></h4>
<p>Routes are defined in <code class="language-plaintext highlighter-rouge">application/config/routes.php</code> as an array. You add entries to <code class="language-plaintext highlighter-rouge">$route[]</code>. Here’s the syntax:</p>

<ul>
  <li><strong>Basic Route</strong>: Maps any HTTP method to a controller/method.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$route['uri_segment'] = 'controller/method';
</code></pre></div>    </div>
    <ul>
      <li>Example: <code class="language-plaintext highlighter-rouge">$route['login'] = 'users/login';</code> means any request to <code class="language-plaintext highlighter-rouge">/login</code> routes to <code class="language-plaintext highlighter-rouge">Users::login()</code>.</li>
    </ul>
  </li>
  <li><strong>Method-Specific Route</strong>: For RESTful APIs, you can specify different controllers/methods per HTTP method (GET, POST, PUT, etc.). This uses an array.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$route['uri_segment'] = array(
    'METHOD1' =&gt; 'controller/method1',
    'METHOD2' =&gt; 'controller/method2'
);
</code></pre></div>    </div>
    <ul>
      <li>Example from your code: <code class="language-plaintext highlighter-rouge">$route['self'] = array('POST' =&gt; 'users/update', 'GET' =&gt; 'users/self');</code> means:
        <ul>
          <li>POST to <code class="language-plaintext highlighter-rouge">/self</code> → <code class="language-plaintext highlighter-rouge">Users::update()</code>.</li>
          <li>GET to <code class="language-plaintext highlighter-rouge">/self</code> → <code class="language-plaintext highlighter-rouge">Users::self()</code>.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Wildcard Placeholders</strong>: Use regex-like patterns to capture dynamic parts of the URL (passed as parameters to the method).
    <ul>
      <li><code class="language-plaintext highlighter-rouge">(:any)</code>: Matches any character (except slashes) – e.g., slugs or strings.</li>
      <li><code class="language-plaintext highlighter-rouge">(:num)</code> or <code class="language-plaintext highlighter-rouge">(\d+)</code>: Matches digits only – for IDs.</li>
      <li>Custom regex: Wrap in parentheses, e.g., <code class="language-plaintext highlighter-rouge">(foo|bar)</code> for specific matches.</li>
      <li>Examples from your code:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">$route['users/(\d+)']['GET'] = 'users/one/$1';</code>: GET <code class="language-plaintext highlighter-rouge">/users/123</code> routes to <code class="language-plaintext highlighter-rouge">Users::one(123)</code>.</li>
          <li><code class="language-plaintext highlighter-rouge">$route['lives/(\d+)/notify'] = 'lives/notifyLiveStart/$1';</code>: Any method to <code class="language-plaintext highlighter-rouge">/lives/123/notify</code> routes to <code class="language-plaintext highlighter-rouge">Lives::notifyLiveStart(123)</code>.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>Reserved Routes</strong>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">$route['default_controller'] = 'welcome';</code>: The controller loaded if no URI is given (e.g., root URL → <code class="language-plaintext highlighter-rouge">Welcome</code> controller).</li>
      <li><code class="language-plaintext highlighter-rouge">$route['404_override'] = 'errors/page_missing';</code>: The controller/method for unmatched routes (custom 404).</li>
      <li><code class="language-plaintext highlighter-rouge">$route['translate_uri_dashes'] = FALSE;</code>: If TRUE, converts dashes in URIs to underscores for controller/method names (e.g., <code class="language-plaintext highlighter-rouge">my-controller</code> → <code class="language-plaintext highlighter-rouge">my_controller</code>).</li>
    </ul>
  </li>
  <li><strong>Order Matters</strong>: Routes are matched in the order they appear. Define specific routes (with wildcards) before general ones to avoid conflicts.</li>
  <li><strong>HTTP Methods</strong>: If not specified, a route applies to all methods. Your code uses arrays for specificity, which is great for APIs.</li>
</ul>

<p><strong>Tips for Defining Routes in Your Code</strong>:</p>
<ul>
  <li>Add new routes at the end, before <code class="language-plaintext highlighter-rouge">$route['translate_uri_dashes']</code>.</li>
  <li>Test with tools like Postman for API routes to ensure the correct controller/method is hit.</li>
  <li>For complex apps, group routes by section (as you’ve done with comments like <code class="language-plaintext highlighter-rouge">// users</code>).</li>
</ul>

<h4 id="2-how-routes-work">2. <strong>How Routes Work</strong></h4>
<p>CodeIgniter’s router processes each incoming request in this order:</p>
<ol>
  <li><strong>Parse the URI</strong>: Breaks down the URL into segments (e.g., <code class="language-plaintext highlighter-rouge">/users/123/edit</code> → segments: <code class="language-plaintext highlighter-rouge">users</code>, <code class="language-plaintext highlighter-rouge">123</code>, <code class="language-plaintext highlighter-rouge">edit</code>).</li>
  <li><strong>Match Against Routes</strong>: Checks the <code class="language-plaintext highlighter-rouge">$route</code> array from top to bottom. It looks for exact matches first, then patterns with wildcards.
    <ul>
      <li>If a match is found, it maps to the specified controller/method, passing dynamic parts (e.g., <code class="language-plaintext highlighter-rouge">123</code>) as method arguments.</li>
      <li>If no match, it falls back to the default pattern (<code class="language-plaintext highlighter-rouge">Controller::method/id/</code>).</li>
    </ul>
  </li>
  <li><strong>Load Controller &amp; Method</strong>: CodeIgniter instantiates the controller, calls the method, and passes any URI segments or captured groups.</li>
  <li><strong>Method-Specific Handling</strong>: If the route is an array (like in your code), it checks the HTTP method (GET, POST, etc.) from the request.</li>
  <li><strong>Fallback</strong>: Unmatched requests trigger a 404, or the <code class="language-plaintext highlighter-rouge">$route['404_override']</code> if set.</li>
</ol>

<p><strong>Example Flow</strong>:</p>
<ul>
  <li>Request: <code class="language-plaintext highlighter-rouge">POST https://example.com/lives</code></li>
  <li>Matches: <code class="language-plaintext highlighter-rouge">$route['lives']['POST'] = 'lives/create';</code></li>
  <li>Result: Calls <code class="language-plaintext highlighter-rouge">Lives::create()</code> with no arguments.</li>
  <li>If the request was <code class="language-plaintext highlighter-rouge">GET https://example.com/lives/456</code>, it would match <code class="language-plaintext highlighter-rouge">$route['lives/(\d+)']['GET'] = 'lives/one/$1';</code> → <code class="language-plaintext highlighter-rouge">Lives::one(456)</code>.</li>
</ul>

<p><strong>Key Mechanics</strong>:</p>
<ul>
  <li><strong>Dynamic Parameters</strong>: Captured groups (e.g., <code class="language-plaintext highlighter-rouge">$1</code>) are passed as args to the method. Ensure your controller method expects them.</li>
  <li><strong>Security</strong>: Routes help prevent direct access to sensitive controllers by obscuring URLs.</li>
  <li><strong>Performance</strong>: Simple array lookups; no major overhead unless you have hundreds of routes.</li>
</ul>

<h4 id="3-how-to-use-routes">3. <strong>How to Use Routes</strong></h4>
<p>Using routes means setting them up as above, then leveraging them in your application (controllers, views, etc.).</p>

<ul>
  <li><strong>In Controllers</strong>: Assume the route handles URL mapping; write methods expecting routed requests.
    <ul>
      <li>Example: For <code class="language-plaintext highlighter-rouge">$route['login']['POST'] = 'users/login';</code>, create a <code class="language-plaintext highlighter-rouge">Users.php</code> controller with a <code class="language-plaintext highlighter-rouge">login()</code> method that handles POST data (e.g., via <code class="language-plaintext highlighter-rouge">$this-&gt;input-&gt;post()</code>).</li>
    </ul>
  </li>
  <li><strong>Generating URLs</strong>: Use CodeIgniter’s <code class="language-plaintext highlighter-rouge">site_url()</code> or <code class="language-plaintext highlighter-rouge">base_url()</code> with your route keys for links/buttons.
    <ul>
      <li>Example: In a view, <code class="language-plaintext highlighter-rouge">&lt;a href="&lt;?= site_url('login'); ?&gt;"&gt;Login&lt;/a&gt;</code> points to the routed URL, but your code defines what controller it hits.</li>
    </ul>
  </li>
  <li><strong>Testing Routes</strong>:
    <ul>
      <li>Use your web browser or API tools (e.g., Postman) to hit URLs like <code class="language-plaintext highlighter-rouge">/users/register</code>.</li>
      <li>Check <code class="language-plaintext highlighter-rouge">application/logs/log-{date}.php</code> for errors if routes fail.</li>
      <li>Add debug: Temporarily reset <code class="language-plaintext highlighter-rouge">$route['404_override']</code> and use var_dump in a test controller to see parameters.</li>
    </ul>
  </li>
  <li><strong>RESTful Usage (Like in Your Code)</strong>: Your routes are set up for an API-like structure. For example:
    <ul>
      <li>Creating a resource: Send POST to <code class="language-plaintext highlighter-rouge">/lives</code> → Creates a live event.</li>
      <li>Reading: GET <code class="language-plaintext highlighter-rouge">/lives/123</code> → Fetch live event #123.</li>
      <li>Updating: POST <code class="language-plaintext highlighter-rouge">/lives/123</code> → Update live event #123.</li>
    </ul>
  </li>
  <li><strong>Common Pitfalls &amp; Tips</strong>:
    <ul>
      <li><strong>Duplicates</strong>: Avoid overlapping routes (e.g., <code class="language-plaintext highlighter-rouge">lives</code> and <code class="language-plaintext highlighter-rouge">lives/(\d+)</code>); put specifics first.</li>
      <li><strong>Methods Not Specified</strong>: If a route is a string, it works for all HTTP methods. Use arrays for precision.</li>
      <li><strong>For Development</strong>: Enable CodeIgniter’s Profiler (<code class="language-plaintext highlighter-rouge">$this-&gt;output-&gt;enable_profiler(TRUE);</code>) in a controller to debug routing.</li>
      <li><strong>Version Control</strong>: Your routes.php is in version control – changes affect routing live.</li>
      <li><strong>Extensions</strong>: If you need advanced features (e.g., namespace support), consider CodeIgniter 4 or third-party libraries, as CI 3 (your code) is older.</li>
    </ul>
  </li>
</ul>

<p>If you have specific questions about a route in your file (e.g., why <code class="language-plaintext highlighter-rouge">(\d+)</code> is used or how to add a new one), provide more details! For CodeIgniter setup, ensure <code class="language-plaintext highlighter-rouge">CI_VERSION</code> is defined in your index.php.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">x-ai/grok-code-fast-1</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
