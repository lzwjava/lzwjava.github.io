<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Apache Bench Web Server Testing Guide</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Apache Bench Web Server Testing Guide | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Apache Bench Web Server Testing Guide" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en" />
<meta name="description" content="李智维" />
<meta property="og:description" content="李智维" />
<link rel="canonical" href="https://lzwjava.github.io/notes/2025-10-22-apache-bench-guide-en" />
<meta property="og:url" content="https://lzwjava.github.io/notes/2025-10-22-apache-bench-guide-en" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Apache Bench Web Server Testing Guide" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Zhiwei Li"},"description":"李智维","headline":"Apache Bench Web Server Testing Guide","url":"https://lzwjava.github.io/notes/2025-10-22-apache-bench-guide-en"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=74eb224401921a4aff45c753765fe97ad6faf4b1">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=74eb224401921a4aff45c753765fe97ad6faf4b1" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Apache Bench Web Server Testing Guide | Generated by AI
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="notes/2025-10-22-apache-bench-guide-en.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>notes2025-10-22-apache-bench-guide-en.md</span> -->
      

      <!-- <span></span> -->

      
        <a href="#" class="button">2025.10</a>
      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/apache-bench-guide-en" selected>English</option>
        <option value="/apache-bench-guide-zh" >中文</option>
        <option value="/apache-bench-guide-ja" >日本語</option>
        <option value="/apache-bench-guide-es" >Español</option>
        <option value="/apache-bench-guide-hi" >हिंदी</option>
        <option value="/apache-bench-guide-fr" >Français</option>
        <option value="/apache-bench-guide-de" >Deutsch</option>
        <option value="/apache-bench-guide-ar" >العربية</option>
        <option value="/apache-bench-guide-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="what-is-apache-bench-ab">What is Apache Bench (ab)?</h3>

<p>Apache Bench (ab) is a simple command-line tool included with Apache HTTP Server for benchmarking the performance of web servers. It sends a specified number of HTTP requests to a URL and measures metrics like requests per second, time per request, transfer rates, and error rates. It’s great for quick load testing but limited for complex scenarios (e.g., no support for HTTPS by default or advanced scripting—consider tools like JMeter for those).</p>

<h3 id="installation">Installation</h3>

<p>ab comes bundled with Apache HTTP Server. Here’s how to install it:</p>

<ul>
  <li><strong>On Ubuntu/Debian (Linux)</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt update
sudo apt install apache2-utils
</code></pre></div>    </div>
  </li>
  <li><strong>On macOS (via Homebrew)</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install httpd
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>On Windows</strong>:
Download Apache HTTP Server from the official site and add its <code class="language-plaintext highlighter-rouge">bin</code> directory to your PATH.</p>
  </li>
  <li><strong>Verify installation</strong>:
Run <code class="language-plaintext highlighter-rouge">ab -V</code> to check the version.</li>
</ul>

<h3 id="basic-usage">Basic Usage</h3>

<p>The core command syntax is:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ab [options] URL
</code></pre></div></div>

<ul>
  <li><strong>URL format</strong>: Must be a full HTTP URL, e.g., <code class="language-plaintext highlighter-rouge">http://example.com/</code>. (For HTTPS, use a wrapper like <code class="language-plaintext highlighter-rouge">openssl s_client</code> or switch to tools like <code class="language-plaintext highlighter-rouge">wrk</code>.)</li>
</ul>

<p>Key options:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">-n &lt;requests&gt;</code>: Number of requests to perform (default: 1). Start with 100–1000 for testing.</li>
  <li><code class="language-plaintext highlighter-rouge">-c &lt;concurrency&gt;</code>: Number of multiple requests to make at a time (default: 1). Keep it low (e.g., 10–50) to avoid overwhelming your server.</li>
  <li><code class="language-plaintext highlighter-rouge">-t &lt;seconds&gt;</code>: Run for a specified time instead of requests.</li>
  <li><code class="language-plaintext highlighter-rouge">-k</code>: Enable HTTP Keep-Alive (reuses connections).</li>
  <li><code class="language-plaintext highlighter-rouge">-H "Header: Value"</code>: Add custom headers (e.g., for authentication).</li>
  <li><code class="language-plaintext highlighter-rouge">-p &lt;file&gt;</code>: POST data from a file.</li>
  <li><code class="language-plaintext highlighter-rouge">-T &lt;content-type&gt;</code>: Content-type for POST requests.</li>
  <li><code class="language-plaintext highlighter-rouge">-l</code>: Accept variable document lengths (for dynamic content).</li>
</ul>

<h3 id="step-by-step-example">Step-by-Step Example</h3>

<ol>
  <li><strong>Test a simple GET request</strong>:
Simulate 100 requests with 10 concurrent users against a local server:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ab -n 100 -c 10 http://localhost:8080/
</code></pre></div>    </div>
    <p>Output sample:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Server Software:        Apache/2.4.41
Server Hostname:        localhost
Server Port:            8080

Document Path:          /
Document Length:        1234 bytes

Concurrency Level:      10
Time taken for tests:   1.234 seconds
Complete requests:      100
Failed requests:        0
Requests per second:    81.03 [#/sec] (mean)
Time per request:       123.456 [ms] (mean)
</code></pre></div>    </div>
  </li>
  <li><strong>Test with POST data</strong> (e.g., form submission):
Create a <code class="language-plaintext highlighter-rouge">postdata.txt</code> file with your payload (e.g., <code class="language-plaintext highlighter-rouge">key=value</code>).
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ab -n 50 -c 5 -p postdata.txt -T application/x-www-form-urlencoded http://example.com/api/endpoint
</code></pre></div>    </div>
  </li>
  <li><strong>Run for a duration</strong>:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ab -n 10000 -c 20 -t 30 http://example.com/  # Up to 10k requests or 30 seconds
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="interpreting-results">Interpreting Results</h3>

<ul>
  <li><strong>Requests per second</strong>: Higher is better (throughput).</li>
  <li><strong>Time per request</strong>: Lower is better (latency).</li>
  <li><strong>Transfer rate</strong>: Bandwidth efficiency.</li>
  <li>Watch for “Failed requests” or “Non-2xx responses” to spot issues.</li>
  <li>Run multiple times and average results, as caching/network can skew single runs.</li>
</ul>

<h3 id="tips-and-limitations">Tips and Limitations</h3>

<ul>
  <li><strong>Run from a separate machine</strong>: Don’t test against localhost if possible, to simulate real traffic.</li>
  <li><strong>Warm-up</strong>: Send a few requests first to prime caches.</li>
  <li><strong>Scaling</strong>: For higher loads, use tools like <code class="language-plaintext highlighter-rouge">wrk</code>, <code class="language-plaintext highlighter-rouge">siege</code>, or Locust.</li>
  <li><strong>HTTPS</strong>: ab doesn’t support it natively; use <code class="language-plaintext highlighter-rouge">ab -n 100 -c 10 http://example.com/</code> with a proxy or alternatives.</li>
  <li><strong>Errors</strong>: If you see “socket: Too many open files,” increase your OS file descriptor limit (e.g., <code class="language-plaintext highlighter-rouge">ulimit -n 4096</code>).</li>
</ul>

<p>For more details, check the man page (<code class="language-plaintext highlighter-rouge">man ab</code>) or official docs.</p>

<p><a href="https://httpd.apache.org/docs/2.4/programs/ab.html">Apache Bench Documentation</a></p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    
      <p class="model">x-ai/grok-4-fast</p>
    

    
    
    <a href="/donate-en" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
