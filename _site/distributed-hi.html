<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдФрд░ рдмрд┐рдЧ рдбреЗрдЯрд╛ рдХрд╛ рдкрд░рд┐рдЪрдп</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдФрд░ рдмрд┐рдЧ рдбреЗрдЯрд╛ рдХрд╛ рдкрд░рд┐рдЪрдп | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдФрд░ рдмрд┐рдЧ рдбреЗрдЯрд╛ рдХрд╛ рдкрд░рд┐рдЪрдп" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="hi" />
<meta name="description" content="рдЗрд╕ рдкрд╛рда рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рд╖рдп рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:" />
<meta property="og:description" content="рдЗрд╕ рдкрд╛рда рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рд╖рдп рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:" />
<link rel="canonical" href="https://lzwjava.github.io/distributed-hi" />
<meta property="og:url" content="https://lzwjava.github.io/distributed-hi" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-10T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдФрд░ рдмрд┐рдЧ рдбреЗрдЯрд╛ рдХрд╛ рдкрд░рд┐рдЪрдп" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2021-03-10T00:00:00+08:00","datePublished":"2021-03-10T00:00:00+08:00","description":"рдЗрд╕ рдкрд╛рда рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рд╖рдп рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:","headline":"рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдФрд░ рдмрд┐рдЧ рдбреЗрдЯрд╛ рдХрд╛ рдкрд░рд┐рдЪрдп","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/distributed-hi"},"url":"https://lzwjava.github.io/distributed-hi"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=e6d2d2cceee29cf846f2c21bcf3046831c26c0c5">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=e6d2d2cceee29cf846f2c21bcf3046831c26c0c5" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдФрд░ рдмрд┐рдЧ рдбреЗрдЯрд╛ рдХрд╛ рдкрд░рд┐рдЪрдп | рдореВрд▓, AI рджреНрд╡рд╛рд░рд╛ рдЕрдиреБрд╡рд╛рджрд┐рдд
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/hi/2021-03-10-distributed-hi.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postshi2021-03-10-distributed-hi.md</span> -->
      

      <!-- <span>2021-03-10-distributed-hi.md</span> -->

      
        

        
          
          <a href="#" class="button">2021.03</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/distributed-en" >English</option>
        <option value="/distributed-zh" >ф╕нцЦЗ</option>
        <option value="/distributed-ja" >цЧецЬмшкЮ</option>
        <option value="/distributed-es" >Espa├▒ol</option>
        <option value="/distributed-hi" selected>рд╣рд┐рдВрджреА</option>
        <option value="/distributed-fr" >Fran├зais</option>
        <option value="/distributed-de" >Deutsch</option>
        <option value="/distributed-ar" >╪з┘Д╪╣╪▒╪и┘К╪й</option>
        <option value="/distributed-hant" >ч╣БщлФф╕нцЦЗ</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>рдЗрд╕ рдкрд╛рда рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рд╖рдп рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:</p>

<ul>
  <li>рд╕реНрдкрд╛рд░реНрдХ</li>
  <li>рд╣рдбреВрдк</li>
  <li>рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕</li>
  <li>рдбреЙрдХрд░</li>
  <li>рдлреНрд▓рд┐рдВрдХ</li>
  <li>рдореЛрдВрдЧреЛрдбреАрдмреА</li>
</ul>

<p>рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдХреА рдмрд╛рдд рдХрд░реЗрдВ рддреЛ рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдЯреВрд▓реНрд╕ рдХреЗ рдмрд┐рдирд╛ рдЕрдзреВрд░реА рд╣реИ, рдЬреИрд╕реЗ Hadoop, Hive, Hbase, ZooKeeper, Docker, Kubernetes, Spark, Kafka, MongoDB, Flink, Druid, Presto, Kylin, Elastic Searchред рдХреНрдпрд╛ рдЖрдкрдиреЗ рдЗрди рд╕рднреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реБрдирд╛ рд╣реИ? рдЗрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдЯреВрд▓реНрд╕ рдореИрдВрдиреЗ <code class="language-plaintext highlighter-rouge">рдмрд┐рдЧ рдбреЗрдЯрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░</code> рдФрд░ <code class="language-plaintext highlighter-rouge">рдбрд┐рд╕реНрдЯреНрд░рд┐рдмреНрдпреВрдЯреЗрдб рдмреИрдХрдПрдВрдб рдЗрдВрдЬреАрдирд┐рдпрд░</code> рдХреА рдЬреЙрдм рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрд╢рди рдореЗрдВ рджреЗрдЦреЗ рд╣реИрдВред рдпреЗ рд╕рднреА рдЙрдЪреНрдЪ рд╡реЗрддрди рд╡рд╛рд▓реА рдкрдж рд╣реИрдВред рд╣рдо рдЗрди рд╕рднреА рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВрдЧреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдереЛрдбрд╝рд╛ рд╕рд╛ рд╕рдордЭрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВрдЧреЗред</p>
<h2 id="spark-рдХрд╛-рдкреНрд░рд╛рд░рдВрднрд┐рдХ-рдкрд░рд┐рдЪрдп">Spark рдХрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдкрд░рд┐рдЪрдп</h2>

<p>рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЗ рдЕрдиреБрд╕рд╛рд░, <code class="language-plaintext highlighter-rouge">Spark</code> рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдбреЗрдЯрд╛ рдХреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдВрдЬрди рд╣реИред <code class="language-plaintext highlighter-rouge">Spark</code> рдПрдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рд╕реЗрдЯ рд╣реИред рдпрд╣ <code class="language-plaintext highlighter-rouge">Redis</code> рдХреА рддрд░рд╣ рд╕рд░реНрд╡рд░ рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред <code class="language-plaintext highlighter-rouge">Spark</code> рдХреЗрд╡рд▓ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рд╛рдЗрдб рдкрд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, <code class="language-plaintext highlighter-rouge">spark-3.1.1-bin-hadoop3.2.tar</code>ред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>tree <span class="nb">.</span> <span class="nt">-L</span> 1
<span class="nb">.</span>
тФЬтФАтФА LICENSE
тФЬтФАтФА NOTICE
тФЬтФАтФА R
тФЬтФАтФА README.md
тФЬтФАтФА RELEASE
тФЬтФАтФА bin
тФЬтФАтФА conf
тФЬтФАтФА data
тФЬтФАтФА examples
тФЬтФАтФА jars
тФЬтФАтФА kubernetes
тФЬтФАтФА licenses
тФЬтФАтФА python
тФЬтФАтФА sbin
тФФтФАтФА yarn
</code></pre></div></div>

<p>11 рдбрд╛рдпрд░реЗрдХреНрдЯрд░реАрдЬрд╝, 4 рдлрд╝рд╛рдЗрд▓реЗрдВ</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдпрд╣ рд╡рд┐рднрд┐рдиреНрди рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдХреБрдЫ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ (libraries) рдХреА рддрд░рд╣ рд▓рдЧрддрд╛ рд╣реИред

рд╕рд╛рде рд╣реА, рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЖрдк Python рдкрд░ рд╕реАрдзреЗ рдирд┐рд░реНрднрд░рддрд╛ рдкреБрд╕реНрддрдХрд╛рд▓рдп (dependency library) рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред `pip install pyspark`

```shell
$ pip install pyspark
Collecting pyspark
  Downloading pyspark-3.1.1.tar.gz (212.3 MB)
     |тЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИ| 212.3 MB 14 kB/s
Collecting py4j==0.10.9
  Downloading py4j-0.10.9-py2.py3-none-any.whl (198 kB)
     |тЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИ| 198 kB 145 kB/s
Building wheels for collected packages: pyspark
  Building wheel for pyspark (setup.py) ... done
  Created wheel for pyspark: filename=pyspark-3.1.1-py2.py3-none-any.whl size=212767604 sha256=0b8079e82f3a5bcadad99179902d8c8ff9f8eccad928a469c11b97abdc960b72
  Stored in directory: /Users/lzw/Library/Caches/pip/wheels/23/bf/e9/9f3500437422e2ab82246f25a51ee480a44d4efc6c27e50d33
Successfully built pyspark
Installing collected packages: py4j, pyspark
Successfully installed py4j-0.10.9 pyspark-3.1.1
</code></pre></div></div>

<p>рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реЛ рдЧрдпрд╛ рд╣реИред</p>

<p>рдпрд╣ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдХреБрдЫ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦ рд░рд╣рд╛ рд╣реИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/run-example SparkPi 10
</code></pre></div></div>

<p>рдУрд╣, рдореИрдВрдиреЗ рдЕрднреА рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдП рдЧрдП рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдкреИрдХреЗрдЬ рдореЗрдВ рдореМрдЬреВрдж рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреАред рд▓реЗрдХрд┐рди рдПрдХ рддреНрд░реБрдЯрд┐ рд╣реБрдИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./bin/run-example SparkPi 10
21/03/11 00:06:15 WARN NativeCodeLoader: рдЖрдкрдХреЗ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд┐рд╡-рд╣реИрдбреВрдк рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓реЛрдб рдХрд░рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрде... рдЬрд╣рд╛рдВ рд▓рд╛рдЧреВ рд╣реЛ, рдмрд┐рд▓реНрдЯ-рдЗрди рдЬрд╛рд╡рд╛ рдХреНрд▓рд╛рд╕реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ
21/03/11 00:06:16 INFO ResourceUtils: spark.driver рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдХрд╕реНрдЯрдо рд╕рдВрд╕рд╛рдзрди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред
21/03/11 00:06:16 WARN Utils: рд╕реЗрд╡рд╛ <span class="s1">'sparkDriver'</span> рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдореБрдХреНрдд рдкреЛрд░реНрдЯ рдкрд░ рдмрд╛рдЗрдВрдб рдирд╣реАрдВ рдХрд░ рд╕рдХреАред рдЖрдк рдЬрд╛рдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдПрдХ рдЙрдкрдпреБрдХреНрдд рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдПрдбреНрд░реЗрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред
</code></pre></div></div>

<blockquote>
  <p>Spark рдПрдХ рддреЗрдЬрд╝ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЗрдВрдЬрди рд╣реИ рдЬреЛ Hadoop рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд рд╣реИред рдпрд╣ YARN рдпрд╛ Spark рдХреЗ рд╕реНрдЯреИрдВрдбрдЕрд▓реЛрди рдореЛрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ Hadoop рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдЪрд▓ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдпрд╣ HDFS, HBase, Cassandra, Hive, рдФрд░ рдХрд┐рд╕реА рднреА Hadoop InputFormat рдореЗрдВ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕реЗ рдмреИрдЪ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ (MapReduce рдХреЗ рд╕рдорд╛рди) рдФрд░ рдирдП рд╡рд░реНрдХрд▓реЛрдб рдЬреИрд╕реЗ рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ, рдЗрдВрдЯрд░рдПрдХреНрдЯрд┐рд╡ рдХреНрд╡реЗрд░реАрдЬрд╝, рдФрд░ рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ рдХреЛ рд╕рдВрдЪрд╛рд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">hadoop</code> рдХрдИ рдмрд╛рд░ рдЖрдпрд╛ рд╣реИред <code class="language-plaintext highlighter-rouge">spark depends hadoop</code> рдХреЛ Google рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдореБрдЭреЗ рдпрд╣ рд╡рд╛рдХреНрдп рдорд┐рд▓рд╛ред рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ <code class="language-plaintext highlighter-rouge">Hadoop</code> рдлреЙрд░реНрдореЗрдЯ рдХреЗ рдбреЗрдЯрд╛ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред рдЖрдЗрдП рдкрд╣рд▓реЗ <code class="language-plaintext highlighter-rouge">Hadoop</code> рдкрд░ рд╢реЛрдз рдХрд░реЗрдВред</p>

<h2 id="hadoop">Hadoop</h2>

<p>рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЛ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рджреЗрдЦрдиреЗ рдХреЗ рдмрд╛рдж, рдЗрд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>hadoop
</code></pre></div></div>

<p>рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЗ рджреМрд░рд╛рди, рдЖрдЗрдП рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рдЬрд╛рдиреЗрдВред</p>

<blockquote>
  <p>Apache Hadoop рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдПрдХ рдРрд╕рд╛ рдлреНрд░реЗрдорд╡рд░реНрдХ рд╣реИ рдЬреЛ рд╕рд░рд▓ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдореЙрдбрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрдВрдкреНрдпреВрдЯрд░реЛрдВ рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдкрд░ рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдХреЗ рд╡рд┐рддрд░рд┐рдд рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдпрд╣ рд╕рд┐рдВрдЧрд▓ рд╕рд░реНрд╡рд░ рд╕реЗ рд╣рдЬрд╛рд░реЛрдВ рдорд╢реАрдиреЛрдВ рддрдХ рд╕реНрдХреЗрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдкреНрд░рддреНрдпреЗрдХ рдорд╢реАрди рд╕реНрдерд╛рдиреАрдп рдЧрдгрдирд╛ рдФрд░ рднрдВрдбрд╛рд░рдг рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкрд░ рдирд┐рд░реНрднрд░ рд╣реЛрдиреЗ рдХреЗ рдмрдЬрд╛рдп рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╕реНрд╡рдпрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЗрдпрд░ рдкрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХреА рдЧрдИ рд╣реИ, рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрдВрдкреНрдпреВрдЯрд░реЛрдВ рдХреЗ рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рдКрдкрд░ рдПрдХ рдЕрддреНрдпрдзрд┐рдХ рдЙрдкрд▓рдмреНрдз рд╕реЗрд╡рд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИ, рдЬрд╣рд╛рдВ рдкреНрд░рддреНрдпреЗрдХ рдорд╢реАрди рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЗ рдкреНрд░рддрд┐ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╣реЛ рд╕рдХрддреА рд╣реИред</p>
</blockquote>

<p>Hadoop рдПрдХ рдРрд╕рд╛ рдлреНрд░реЗрдорд╡рд░реНрдХ рд╣реИ рдЬреЛ рд╡рд┐рддрд░рд┐рдд рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред рдпреЗ рдбреЗрдЯрд╛рд╕реЗрдЯ рдХрдИ рдХрдВрдкреНрдпреВрдЯрд░реЛрдВ рдкрд░ рд╡рд┐рддрд░рд┐рдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕реЗ рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдореЙрдбрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░реЛрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕реЗ рдПрдХрд▓ рд╕рд░реНрд╡рд░ рд╕реЗ рд╣рдЬрд╛рд░реЛрдВ рдорд╢реАрдиреЛрдВ рддрдХ рд╕реНрдХреЗрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреА рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдкрд░ рдирд┐рд░реНрднрд░ рд╣реЛрдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдпрд╣ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЗрдпрд░ рдкрд░ рд╣реА рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХреА рдЧрдИ рд╣реИред рдЗрд╕ рддрд░рд╣, рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рд╡рд╛рд▓реА рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рднрд▓реЗ рд╣реА рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣рд░ рдХрдВрдкреНрдпреВрдЯрд░ рд╡рд┐рдлрд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реЛред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew <span class="nb">install </span>hadoop
рддреНрд░реБрдЯрд┐:
  homebrew-core рдПрдХ рдЙрдерд▓рд╛ рдХреНрд▓реЛрди рд╣реИред
  homebrew-cask рдПрдХ рдЙрдерд▓рд╛ рдХреНрд▓реЛрди рд╣реИред
<span class="sb">`</span>brew update<span class="sb">`</span> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкрд╣рд▓реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ:
  git <span class="nt">-C</span> /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core fetch <span class="nt">--unshallow</span>
  git <span class="nt">-C</span> /usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask fetch <span class="nt">--unshallow</span>
рдпреЗ рдХрдорд╛рдВрдб рд░рд┐рдкреЙрдЬрд┐рдЯрд░реАрдЬрд╝ рдХреЗ рдмрдбрд╝реЗ рдЖрдХрд╛рд░ рдХреЗ рдХрд╛рд░рдг рдЪрд▓рдиреЗ рдореЗрдВ рдХреБрдЫ рдорд┐рдирдЯ рд▓реЗ рд╕рдХрддреА рд╣реИрдВред
GitHub рдХреЗ рдЕрдиреБрд░реЛрдз рдкрд░ рдпрд╣ рдкреНрд░рддрд┐рдмрдВрдз рд▓рдЧрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЙрдерд▓реЗ рдХреНрд▓реЛрди рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛ Homebrew/homebrew-core рдФрд░ Homebrew/homebrew-cask рдХреЗ рдЯреНрд░реА рд▓реЗрдЖрдЙрдЯ рдФрд░ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЗ рдХрд╛рд░рдг рдПрдХ рдмрд╣реБрдд рд╣реА рдорд╣рдВрдЧрд╛ рдСрдкрд░реЗрд╢рди рд╣реИред рд╣рдо рдЗрд╕реЗ рдЖрдкрдХреЗ рд▓рд┐рдП рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ CI рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдмрд╛рд░-рдмрд╛рд░ рдПрдХ рдорд╣рдВрдЧреЗ unshallow рдСрдкрд░реЗрд╢рди рдХреЛ рдХрд░рдиреЗ рд╕реЗ рдмрдЪрд╛ рдЬрд╛ рд╕рдХреЗ <span class="o">(</span>рдЬрд┐рдиреНрд╣реЗрдВ рдЙрдерд▓реЗ рдХреНрд▓реЛрди рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдареАрдХ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП<span class="o">)</span>ред рдЕрд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдХреНрд╖рдорд╛ рдХрд░реЗрдВ!
<span class="o">==&gt;</span> Downloading https://homebrew.bintray.com/bottles/openjdk-15.0.1.big_sur.bottle.tar.gz
рдкрд╣рд▓реЗ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЧрдпрд╛: /Users/lzw/Library/Caches/Homebrew/downloads/d1e3ece4af1d225bc2607eaa4ce85a873d2c6d43757ae4415d195751bc431962--openjdk-15.0.1.big_sur.bottle.tar.gz
<span class="o">==&gt;</span> Downloading https://www.apache.org/dyn/closer.lua?path<span class="o">=</span>hadoop/common/hadoop-3.3.0/hadoop-3.3.0.tar.gz
рдкрд╣рд▓реЗ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЧрдпрд╛: /Users/lzw/Library/Caches/Homebrew/downloads/764c6a0ea7352bb8bb505989feee1b36dc628c2dcd6b93fef1ca829d191b4e1e--hadoop-3.3.0.tar.gz
<span class="o">==&gt;</span> hadoop рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрднрд░рддрд╛рдПрдБ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИ: openjdk
<span class="o">==&gt;</span> hadoop рдирд┐рд░реНрднрд░рддрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИ: openjdk
<span class="o">==&gt;</span> openjdk-15.0.1.big_sur.bottle.tar.gz рдбрд╛рд▓ рд░рд╣рд╛ рд╣реИ
<span class="o">==&gt;</span> рдЪреЗрддрд╛рд╡рдиреА
рд╕рд┐рд╕реНрдЯрдо Java рд░реИрдкрд░реНрд╕ рдХреЛ рдЗрд╕ JDK рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рд╕реЗ рд╕рд┐рдорд▓рд┐рдВрдХ рдХрд░реЗрдВ:
  <span class="nb">sudo ln</span> <span class="nt">-sfn</span> /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk
</code></pre></div></div>

<p>openjdk keg-only рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЗрд╕реЗ /usr/local рдореЗрдВ symlink рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ,<br />
рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ macOS рдХреЗ <code class="language-plaintext highlighter-rouge">java</code> wrapper рдХреЛ рдЫрд┐рдкрд╛рддрд╛ рд╣реИред</p>

<p>рдпрджрд┐ рдЖрдкрдХреЛ рдЕрдкрдиреЗ PATH рдореЗрдВ openjdk рдХреЛ рдкрд╣рд▓реЗ рд░рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">echo</span> <span class="s1">'export PATH="/usr/local/opt/openjdk/bin:$PATH"'</span> <span class="o">&gt;&gt;</span> /Users/lzw/.bash_profile
</code></pre></div></div>

<p>рдХрдВрдкрд╛рдЗрд▓рд░реНрд╕ рдХреЛ openjdk рдвреВрдВрдврдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдпрд╣ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ:
  export CPPFLAGS=тАЭ-I/usr/local/opt/openjdk/includeтАЭ</p>

<p>==&gt; рд╕рд╛рд░рд╛рдВрд╢
ЁЯН║  /usr/local/Cellar/openjdk/15.0.1: 614 рдлрд╝рд╛рдЗрд▓реЗрдВ, 324.9MB
==&gt; Hadoop рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд░рд╣рд╛ рд╣реИ
ЁЯН║  /usr/local/Cellar/hadoop/3.3.0: 21,819 рдлрд╝рд╛рдЗрд▓реЗрдВ, 954.7MB, 2 рдорд┐рдирдЯ 15 рд╕реЗрдХрдВрдб рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛
==&gt; 1 рдирд┐рд░реНрднрд░ рдХреЛ рдЕрдкрдЧреНрд░реЗрдб рдХрд░ рд░рд╣рд╛ рд╣реИ:
maven 3.3.3 -&gt; 3.6.3_1
==&gt; Maven 3.3.3 -&gt; 3.6.3_1 рдХреЛ рдЕрдкрдЧреНрд░реЗрдб рдХрд░ рд░рд╣рд╛ рд╣реИ
==&gt; рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд░рд╣рд╛ рд╣реИ https://www.apache.org/dyn/closer.lua?path=maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz
==&gt; рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд░рд╣рд╛ рд╣реИ https://mirror.olnevhost.net/pub/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz рд╕реЗ
######################################################################## 100.0%
рддреНрд░реБрдЯрд┐: <code class="language-plaintext highlighter-rouge">brew link</code> рдЪрд░рдг рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреВрд░рд╛ рдирд╣реАрдВ рд╣реБрдЖ
рдлрд╝реЙрд░реНрдореВрд▓рд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛, рд▓реЗрдХрд┐рди /usr/local рдореЗрдВ рд╕рд┐рдорд▓рд┐рдВрдХ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛
bin/mvn рдХреЛ рд╕рд┐рдорд▓рд┐рдВрдХ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрд╛
рд▓рдХреНрд╖реНрдп /usr/local/bin/mvn
maven рдХрд╛ рдПрдХ рд╕рд┐рдорд▓рд┐рдВрдХ рд╣реИред рдЖрдк рдЗрд╕реЗ рдЕрдирд▓рд┐рдВрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
  brew unlink maven</p>

<p>рд▓рд┐рдВрдХ рдХреЛ рдмрд╛рдзреНрдп рдХрд░рдиреЗ рдФрд░ рд╕рднреА рд╕рдВрдШрд░реНрд╖рд░рдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
  brew link тАУoverwrite maven</p>

<p>рд╕рднреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛ рд╣рдЯрд╛ рджреА рдЬрд╛рдПрдВрдЧреА:
  brew link тАУoverwrite тАУdry-run maven</p>

<p>рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рд░реЛрдзрд╛рднрд╛рд╕реА рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣реИрдВ:
/usr/local/bin/mvn -&gt; /usr/local/Cellar/maven/3.3.3/bin/mvn
/usr/local/bin/mvnDebug -&gt; /usr/local/Cellar/maven/3.3.3/bin/mvnDebug
/usr/local/bin/mvnyjp -&gt; /usr/local/Cellar/maven/3.3.3/bin/mvnyjp
==&gt; рд╕рд╛рд░рд╛рдВрд╢
ЁЯН║  /usr/local/Cellar/maven/3.6.3_1: 87 рдлрд╝рд╛рдЗрд▓реЗрдВ, 10.7MB, 7 рд╕реЗрдХрдВрдб рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛
рд╣рдЯрд╛рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ: /usr/local/Cellar/maven/3.3.3тАж (92 рдлрд╝рд╛рдЗрд▓реЗрдВ, 9MB)
==&gt; рдЕрдкрдЧреНрд░реЗрдб рдХрд┐рдП рдЧрдП рдлрд╝реЙрд░реНрдореВрд▓реЗ рдХреЗ рдЖрд╢реНрд░рд┐рддреЛрдВ рдХреА рдЬрд╛рдБрдЪ рдХрд░ рд░рд╣рд╛ рд╣реИтАж
==&gt; рдХреЛрдИ рдЯреВрдЯреЗ рд╣реБрдП рдЖрд╢реНрд░рд┐рдд рдирд╣реАрдВ рдорд┐рд▓реЗ!
==&gt; рдЪреЗрддрд╛рд╡рдиреА
==&gt; openjdk
рд╕рд┐рд╕реНрдЯрдо Java wrappers рдХреЛ рдЗрд╕ JDK рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ symlink рдХрд░реЗрдВ
  sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk</p>

<p>openjdk keg-only рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЗрд╕реЗ /usr/local рдореЗрдВ symlink рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ macOS рдХреЗ <code class="language-plaintext highlighter-rouge">java</code> wrapper рдХреЛ рдЫрд┐рдкрд╛рддрд╛ рд╣реИред</p>

<p>рдпрджрд┐ рдЖрдкрдХреЛ рдЕрдкрдиреЗ PATH рдореЗрдВ openjdk рдХреЛ рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рд░рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБ:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">echo</span> <span class="s1">'export PATH="/usr/local/opt/openjdk/bin:$PATH"'</span> <span class="o">&gt;&gt;</span> /Users/lzw/.bash_profile
</code></pre></div></div>

<p>рдХрдВрдкрд╛рдЗрд▓рд░ рдХреЛ openjdk рдвреВрдВрдврдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдпрд╣ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ:
  export CPPFLAGS=тАЭ-I/usr/local/opt/openjdk/includeтАЭ</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ `brew` рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рд▓реЙрдЧ рдореЗрдВ `maven` рдХреЛ рдареАрдХ рд╕реЗ рд▓рд┐рдВрдХ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЗрд╕рдХреЗ рдмрд╛рдж, `3.6.3_1` рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рдордЬрдмреВрддреА рд╕реЗ рд▓рд┐рдВрдХ рдХрд░реЗрдВред

```shell
  brew link --overwrite maven
</code></pre></div></div>

<p>(рдпрд╣ рдХрдорд╛рдВрдб Maven рдХреЛ рд▓рд┐рдВрдХ рдХрд░рдиреЗ рдФрд░ рдкрд╣рд▓реЗ рд╕реЗ рдореМрдЬреВрдж рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИред)</p>

<p><code class="language-plaintext highlighter-rouge">Hadoop</code> рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реЛ рдЧрдпрд╛ рд╣реИред</p>

<blockquote>
  <h2 id="рдореЙрдбреНрдпреВрд▓">рдореЙрдбреНрдпреВрд▓</h2>

  <p>рдЗрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЙрдбреНрдпреВрд▓ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:</p>

  <ul>
    <li><strong>Hadoop Common</strong>: рдЕрдиреНрдп Hadoop рдореЙрдбреНрдпреВрд▓ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧрд┐рддрд╛рдПрдБред</li>
    <li><strong>Hadoop Distributed File System (HDFSтДв)</strong>: рдПрдХ рд╡рд┐рддрд░рд┐рдд рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдЬреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрдЯрд╛ рддрдХ рдЙрдЪреНрдЪ-рдереНрд░реВрдкреБрдЯ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред</li>
    <li><strong>Hadoop YARN</strong>: рдЬреЙрдм рд╢реЗрдбреНрдпреВрд▓рд┐рдВрдЧ рдФрд░ рдХреНрд▓рд╕реНрдЯрд░ рд╕рдВрд╕рд╛рдзрди рдкреНрд░рдмрдВрдзрди рдХреЗ рд▓рд┐рдП рдПрдХ рдлреНрд░реЗрдорд╡рд░реНрдХред</li>
    <li><strong>Hadoop MapReduce</strong>: рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдХреЗ рд╕рдорд╛рдирд╛рдВрддрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ YARN-рдЖрдзрд╛рд░рд┐рдд рд╕рд┐рд╕реНрдЯрдоред</li>
    <li><strong>Hadoop Ozone</strong>: Hadoop рдХреЗ рд▓рд┐рдП рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрдЯреЛрд░ред</li>
  </ul>
</blockquote>

<p>рдпрд╣ рдХрд╣рд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рдХрд┐ рдпреЗ рдореЙрдбреНрдпреВрд▓ рд╣реИрдВред рдЗрд╕реЗ рдЯрд╛рдЗрдк рдХрд░рдиреЗ рдкрд░ <code class="language-plaintext highlighter-rouge">hadoop</code> рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>hadoop
рдЙрдкрдпреЛрдЧ: hadoop <span class="o">[</span>OPTIONS] SUBCOMMAND <span class="o">[</span>SUBCOMMAND OPTIONS]
 рдпрд╛    hadoop <span class="o">[</span>OPTIONS] CLASSNAME <span class="o">[</span>CLASSNAME OPTIONS]
  рдЬрд╣рд╛рдВ CLASSNAME рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рдкреНрд░рджрддреНрдд Java рдХреНрд▓рд╛рд╕ рд╣реИ

OPTIONS рдХреЛрдИ рдирд╣реАрдВ рдпрд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ:

<span class="nt">--config</span> <span class="nb">dir                     </span>Hadoop рдХреЙрдиреНрдлрд╝рд┐рдЧ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА
<span class="nt">--debug</span>                          рд╢реЗрд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдбрд┐рдмрдЧ рдореЛрдб рдЪрд╛рд▓реВ рдХрд░реЗрдВ
<span class="nt">--help</span>                           рдЙрдкрдпреЛрдЧ рдЬрд╛рдирдХрд╛рд░реА
buildpaths                       рдмрд┐рд▓реНрдб рдЯреНрд░реА рд╕реЗ рдХреНрд▓рд╛рд╕ рдлрд╝рд╛рдЗрд▓реЗрдВ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ
hostnames list[,of,host,names]   рд╕реНрд▓реЗрд╡ рдореЛрдб рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрд╕реНрдЯ рдирд╛рдо
hosts filename                   рд╕реНрд▓реЗрд╡ рдореЛрдб рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрд╕реНрдЯреНрд╕ рдХреА рд╕реВрдЪреА
loglevel level                   рдЗрд╕ рдХрдорд╛рдВрдб рдХреЗ рд▓рд┐рдП log4j рд╕реНрддрд░ рд╕реЗрдЯ рдХрд░реЗрдВ
workers                          рд╡рд░реНрдХрд░ рдореЛрдб рдЪрд╛рд▓реВ рдХрд░реЗрдВ

  SUBCOMMAND рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ:
    рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдХрдорд╛рдВрдб:

daemonlog     рдкреНрд░рддреНрдпреЗрдХ рдбреЗрдорди рдХреЗ рд▓рд┐рдП рд▓реЙрдЧ рд╕реНрддрд░ рдкреНрд░рд╛рдкреНрдд/рд╕реЗрдЯ рдХрд░реЗрдВ

    рдХреНрд▓рд╛рдЗрдВрдЯ рдХрдорд╛рдВрдбреНрд╕:

archive       Hadoop рдЖрд░реНрдХрд╛рдЗрд╡ рдмрдирд╛рдПрдВ
checknative   Hadoop рдФрд░ рдХрдВрдкреНрд░реЗрд╢рди рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬрд╝ рдХреА рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ
classpath     Hadoop jar рдФрд░ рдЖрд╡рд╢реНрдпрдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬрд╝ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдХреНрд▓рд╛рд╕ рдкрд╛рде рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ
conftest      рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди XML рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╡реИрд▓рд┐рдбреЗрдЯ рдХрд░реЗрдВ
credential    рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдкреНрд░реЛрд╡рд╛рдЗрдбрд░реНрд╕ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░реЗрдВ
distch        рд╡рд┐рддрд░рд┐рдд рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдкрд░рд┐рд╡рд░реНрддрдХ
distcp        рдлрд╝рд╛рдЗрд▓ рдпрд╛ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реАрдЬрд╝ рдХреЛ рд░рд┐рдХрд░реНрд╕рд┐рд╡рд▓реА рдХреЙрдкреА рдХрд░реЗрдВ
dtutil        рдбреЗрд▓рд┐рдЧреЗрд╢рди рдЯреЛрдХрди рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдСрдкрд░реЗрд╢рди
envvars       рдЧрдгрдирд╛ рдХрд┐рдП рдЧрдП Hadoop рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ
fs            рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдлрд╝рд╛рдЗрд▓рд╕рд┐рд╕реНрдЯрдо рдпреВрдЬрд╝рд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдЪрд▓рд╛рдПрдВ
gridmix       рд╕рд┐рдВрдереЗрдЯрд┐рдХ рдЬреЙрдм рдХрд╛ рдорд┐рд╢реНрд░рдг рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВ, рдЬреЛ рдкреНрд░реЛрдбрдХреНрд╢рди рд▓реЛрдб рд╕реЗ рдореЙрдбрд▓рд┐рдВрдЧ рдХрд░рддрд╛ рд╣реИ
jar &lt;jar&gt;     рдПрдХ jar рдлрд╝рд╛рдЗрд▓ рдЪрд▓рд╛рдПрдВред рдиреЛрдЯ: рдХреГрдкрдпрд╛ YARN рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <span class="s2">"yarn jar"</span> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдЗрд╕ рдХрдорд╛рдВрдб рдХрд╛ рдирд╣реАрдВред
jnipath       java.library.path рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ
kdiag         Kerberos рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдирд┐рджрд╛рди рдХрд░реЗрдВ
kerbname      auth_to_local рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рд░реВрдкрд╛рдВрддрд░рдг рджрд┐рдЦрд╛рдПрдВ
key           KeyProvider рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреБрдВрдЬрд┐рдпреЛрдВ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░реЗрдВ
rumenfolder   рдПрдХ rumen рдЗрдирдкреБрдЯ рдЯреНрд░реЗрд╕ рдХреЛ рд╕реНрдХреЗрд▓ рдХрд░реЗрдВ
rumentrace    рд▓реЙрдЧреНрд╕ рдХреЛ rumen рдЯреНрд░реЗрд╕ рдореЗрдВ рдХрдиреНрд╡рд░реНрдЯ рдХрд░реЗрдВ
s3guard       S3 рдкрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░реЗрдВ
trace         Hadoop рдЯреНрд░реЗрд╕рд┐рдВрдЧ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рджреЗрдЦреЗрдВ рдФрд░ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ
version       рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ

рдбреЗрдорди рдХрдорд╛рдВрдбреНрд╕:

kms           KMS рдЪрд▓рд╛рдПрдВ, рдпрд╣ рдХреА рдореИрдиреЗрдЬрдореЗрдВрдЯ рд╕рд░реНрд╡рд░ рд╣реИ
registrydns   рд░рдЬрд┐рд╕реНрдЯреНрд░реА DNS рд╕рд░реНрд╡рд░ рдЪрд▓рд╛рдПрдВ

SUBCOMMAND рдмрд┐рдирд╛ рдкреИрд░рд╛рдореАрдЯрд░реНрд╕ рдХреЗ рдпрд╛ <span class="nt">-h</span> рдХреЗ рд╕рд╛рде рдЖрдордВрддреНрд░рд┐рдд рд╣реЛрдиреЗ рдкрд░ рдорджрдж рдкреНрд░рд┐рдВрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИред
</code></pre></div></div>

<p>рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдХреБрдЫ рдЙрджрд╛рд╣рд░рдг рджрд┐рдП рдЧрдП рд╣реИрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span><span class="nb">mkdir </span>input
  <span class="nv">$ </span><span class="nb">cp </span>etc/hadoop/<span class="k">*</span>.xml input
  <span class="nv">$ </span>bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar <span class="nb">grep </span>input output <span class="s1">'dfs[a-z.]+'</span>
  <span class="nv">$ </span><span class="nb">cat </span>output/<span class="k">*</span>
</code></pre></div></div>

<p>рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ <code class="language-plaintext highlighter-rouge">share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</code> рдореМрдЬреВрдж рд╣реИред рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХреБрдЫ рдЙрджрд╛рд╣рд░рдг рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣рдореЗрдВ рдирд╣реАрдВ рдорд┐рд▓реА рд╣реИрдВред рдЕрдиреБрдорд╛рди рд╣реИ рдХрд┐ <code class="language-plaintext highlighter-rouge">Homebrew</code> рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдкрд░ рдпреЗ рдлрд╝рд╛рдЗрд▓реЗрдВ рдирд╣реАрдВ рдорд┐рд▓рддреА рд╣реИрдВред рд╣рдордиреЗ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдкреИрдХреЗрдЬ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рд╣реИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>tree <span class="nb">.</span> <span class="nt">-L</span> 1
<span class="nb">.</span>
тФЬтФАтФА LICENSE-binary
тФЬтФАтФА LICENSE.txt
тФЬтФАтФА NOTICE-binary
тФЬтФАтФА NOTICE.txt
тФЬтФАтФА README.txt
тФЬтФАтФА bin
тФЬтФАтФА etc
тФЬтФАтФА include
тФЬтФАтФА lib
тФЬтФАтФА libexec
тФЬтФАтФА licenses-binary
тФЬтФАтФА sbin
тФФтФАтФА share
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">share</code> рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рджрд┐рдЦрд╛рдИ рджреА рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреНрдпрд╛ <code class="language-plaintext highlighter-rouge">Homebrew</code> рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрди рдЕрддрд┐рд░рд┐рдХреНрдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ? <code class="language-plaintext highlighter-rouge">Homebrew</code> рдХреЗ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЛ рдвреВрдВрдвреЗрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">type </span>hadoop
hadoop рд╣реИ /usr/local/bin/hadoop
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-alrt</span> /usr/local/bin/hadoop
lrwxr-xr-x  1 lzw  admin  33 Mar 11 00:48 /usr/local/bin/hadoop -&gt; ../Cellar/hadoop/3.3.0/bin/hadoop
<span class="nv">$ </span><span class="nb">cd</span> /usr/local/Cellar/hadoop/3.3.0
</code></pre></div></div>

<p>рдпрд╣ <code class="language-plaintext highlighter-rouge">/usr/local/Cellar/hadoop/3.3.0/libexec/share/hadoop</code> рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдкреНрд░рд┐рдВрдЯ рдХреА рдЧрдИ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдЯреНрд░реА рд╣реИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>tree <span class="nb">.</span> <span class="nt">-L</span> 2
<span class="nb">.</span>
тФЬтФАтФА client
тФВ┬а┬а тФЬтФАтФА hadoop-client-api-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-client-minicluster-3.3.0.jar
тФВ┬а┬а тФФтФАтФА hadoop-client-runtime-3.3.0.jar
тФЬтФАтФА common
тФВ┬а┬а тФЬтФАтФА hadoop-common-3.3.0-tests.jar
тФВ┬а┬а тФЬтФАтФА hadoop-common-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-kms-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-nfs-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-registry-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА jdiff
тФВ┬а┬а тФЬтФАтФА lib
тФВ┬а┬а тФЬтФАтФА sources
тФВ┬а┬а тФФтФАтФА webapps
тФЬтФАтФА hdfs
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-3.3.0-tests.jar
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-client-3.3.0-tests.jar
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-client-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-httpfs-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-native-client-3.3.0-tests.jar
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-native-client-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-nfs-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-rbf-3.3.0-tests.jar
тФВ┬а┬а тФЬтФАтФА hadoop-hdfs-rbf-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА jdiff
тФВ┬а┬а тФЬтФАтФА lib
тФВ┬а┬а тФЬтФАтФА sources
тФВ┬а┬а тФФтФАтФА webapps
тФЬтФАтФА mapreduce
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-app-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-common-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-core-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-hs-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-hs-plugins-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-jobclient-3.3.0-tests.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-jobclient-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-nativetask-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-shuffle-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-client-uploader-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА hadoop-mapreduce-examples-3.3.0.jar
тФВ┬а┬а тФЬтФАтФА jdiff
тФВ┬а┬а тФЬтФАтФА lib-examples
тФВ┬а┬а тФФтФАтФА sources
тФЬтФАтФА tools
тФВ┬а┬а тФЬтФАтФА dynamometer
тФВ┬а┬а тФЬтФАтФА lib
тФВ┬а┬а тФЬтФАтФА resourceestimator
тФВ┬а┬а тФЬтФАтФА sls
тФВ┬а┬а тФФтФАтФА sources
тФФтФАтФА yarn
    тФЬтФАтФА csi
    тФЬтФАтФА hadoop-yarn-api-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-applications-catalog-webapp-3.3.0.war
    тФЬтФАтФА hadoop-yarn-applications-distributedshell-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-applications-mawo-core-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-applications-unmanaged-am-launcher-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-client-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-common-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-registry-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-server-applicationhistoryservice-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-server-common-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-server-nodemanager-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-server-resourcemanager-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-server-router-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-server-sharedcachemanager-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-server-tests-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-server-timeline-pluginstorage-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-server-web-proxy-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-services-api-3.3.0.jar
    тФЬтФАтФА hadoop-yarn-services-core-3.3.0.jar
    тФЬтФАтФА lib
    тФЬтФАтФА sources
    тФЬтФАтФА <span class="nb">test</span>
    тФЬтФАтФА timelineservice
    тФЬтФАтФА webapps
    тФФтФАтФА yarn-service-examples
</code></pre></div></div>

<p>рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдмрд╣реБрдд рд╕рд╛рд░реЗ <code class="language-plaintext highlighter-rouge">jar</code> рдкреИрдХреЗрдЬ рд╣реИрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>input
<span class="nv">$ </span><span class="nb">ls
</span>bin			hadoop-config.sh	hdfs-config.sh		libexec			sbin			yarn-config.sh
etc			hadoop-functions.sh	input			mapred-config.sh	share
<span class="nv">$ </span><span class="nb">cp </span>etc/hadoop/<span class="k">*</span>.xml input
<span class="nv">$ </span><span class="nb">cd </span>input/
<span class="nv">$ </span><span class="nb">ls
</span>capacity-scheduler.xml	hadoop-policy.xml	hdfs-site.xml		kms-acls.xml		mapred-site.xml
core-site.xml		hdfs-rbf-site.xml	httpfs-site.xml		kms-site.xml		yarn-site.xml
<span class="nv">$ </span><span class="nb">cd</span> ..
<span class="nv">$ </span>bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar <span class="nb">grep </span>input output <span class="s1">'dfs[a-z.]+'</span>
JAR рдлрд╝рд╛рдЗрд▓ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ рдпрд╛ рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдлрд╝рд╛рдЗрд▓ рдирд╣реАрдВ рд╣реИ: /usr/local/Cellar/hadoop/3.3.0/libexec/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar
<span class="err">$</span>
<span class="nv">$ </span>bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.3.0.jar <span class="nb">grep </span>input output <span class="s1">'dfs[a-z.]+'</span>
2021-03-11 01:54:30,791 WARN util.NativeCodeLoader: рдЖрдкрдХреЗ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд┐рд╡-рд╣рдбреВрдк рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓реЛрдб рдХрд░рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрде... рдЬрд╣рд╛рдВ рд▓рд╛рдЧреВ рд╣реЛ, рдмрд┐рд▓реНрдЯ-рдЗрди рдЬрд╛рд╡рд╛ рдХреНрд▓рд╛рд╕реЗрдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ
2021-03-11 01:54:31,115 INFO impl.MetricsConfig: hadoop-metrics2.properties рд╕реЗ рдЧреБрдг рд▓реЛрдб рдХрд┐рдП рдЧрдП
2021-03-11 01:54:31,232 INFO impl.MetricsSystemImpl: рдореАрдЯреНрд░рд┐рдХ рд╕реНрдиреИрдкрд╢реЙрдЯ рдЕрд╡рдзрд┐ 10 рд╕реЗрдХрдВрдб рдкрд░ рд╢реЗрдбреНрдпреВрд▓ рдХреА рдЧрдИред
...
</code></pre></div></div>

<p>рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЯрд╛рдЗрдк рдХрд░реЗрдВред рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ <code class="language-plaintext highlighter-rouge">bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar grep input</code> рдореЗрдВ, <code class="language-plaintext highlighter-rouge">jar</code> рдкреИрдХреЗрдЬ рд╕реЗ рдкрд╣рд▓реЗ рд╡рд░реНрдЬрд╝рди рдирдВрдмрд░ рд╣реИред рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЗрд╕реЗ рдЕрдкрдиреЗ <code class="language-plaintext highlighter-rouge">3.3.0</code> рд╕реЗ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред</p>

<p>рд▓реЙрдЧ рдХрд╛ рдЕрдВрдд:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2021-03-11 01:54:35,374 INFO mapreduce.Job:  map 100% reduce 100%
2021-03-11 01:54:35,374 INFO mapreduce.Job: Job job_local2087514596_0002 рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреВрд░рд╛ рд╣реБрдЖ
2021-03-11 01:54:35,377 INFO mapreduce.Job: рдХрд╛рдЙрдВрдЯрд░реНрд╕: 30
	рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХрд╛рдЙрдВрдЯрд░реНрд╕
		FILE: рдкрдврд╝реЗ рдЧрдП рдмрд╛рдЗрдЯреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛<span class="o">=</span>1204316
		FILE: рд▓рд┐рдЦреЗ рдЧрдП рдмрд╛рдЗрдЯреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛<span class="o">=</span>3565480
		FILE: рдкрдврд╝рдиреЗ рдХреЗ рдСрдкрд░реЗрд╢рди рдХреА рд╕рдВрдЦреНрдпрд╛<span class="o">=</span>0
		FILE: рдмрдбрд╝реЗ рдкрдврд╝рдиреЗ рдХреЗ рдСрдкрд░реЗрд╢рди рдХреА рд╕рдВрдЦреНрдпрд╛<span class="o">=</span>0
		FILE: рд▓рд┐рдЦрдиреЗ рдХреЗ рдСрдкрд░реЗрд╢рди рдХреА рд╕рдВрдЦреНрдпрд╛<span class="o">=</span>0
	Map-Reduce рдлреНрд░реЗрдорд╡рд░реНрдХ
		Map рдЗрдирдкреБрдЯ рд░рд┐рдХреЙрд░реНрдбреНрд╕<span class="o">=</span>1
		Map рдЖрдЙрдЯрдкреБрдЯ рд░рд┐рдХреЙрд░реНрдбреНрд╕<span class="o">=</span>1
		Map рдЖрдЙрдЯрдкреБрдЯ рдмрд╛рдЗрдЯреНрд╕<span class="o">=</span>17
		Map рдЖрдЙрдЯрдкреБрдЯ рдордЯреЗрд░рд┐рдпрд▓рд╛рдЗрдЬреНрдб рдмрд╛рдЗрдЯреНрд╕<span class="o">=</span>25
		рдЗрдирдкреБрдЯ рд╕реНрдкреНрд▓рд┐рдЯ рдмрд╛рдЗрдЯреНрд╕<span class="o">=</span>141
		рдХреЙрдореНрдмрд╛рдЗрди рдЗрдирдкреБрдЯ рд░рд┐рдХреЙрд░реНрдбреНрд╕<span class="o">=</span>0
		рдХреЙрдореНрдмрд╛рдЗрди рдЖрдЙрдЯрдкреБрдЯ рд░рд┐рдХреЙрд░реНрдбреНрд╕<span class="o">=</span>0
		рд░рд┐рдбреНрдпреВрд╕ рдЗрдирдкреБрдЯ рдЧреНрд░реБрдкреНрд╕<span class="o">=</span>1
		рд░рд┐рдбреНрдпреВрд╕ рд╢рдлрд▓ рдмрд╛рдЗрдЯреНрд╕<span class="o">=</span>25
		рд░рд┐рдбреНрдпреВрд╕ рдЗрдирдкреБрдЯ рд░рд┐рдХреЙрд░реНрдбреНрд╕<span class="o">=</span>1
		рд░рд┐рдбреНрдпреВрд╕ рдЖрдЙрдЯрдкреБрдЯ рд░рд┐рдХреЙрд░реНрдбреНрд╕<span class="o">=</span>1
		рд╕реНрдкрд┐рд▓реНрдб рд░рд┐рдХреЙрд░реНрдбреНрд╕<span class="o">=</span>2
		рд╢рдлрд▓реНрдб рдореИрдкреНрд╕ <span class="o">=</span>1
		рдлреЗрд▓реНрдб рд╢рдлрд▓реНрд╕<span class="o">=</span>0
		рдорд░реНрдЬреНрдб рдореИрдк рдЖрдЙрдЯрдкреБрдЯреНрд╕<span class="o">=</span>1
		GC рд╕рдордп рд╡реНрдпрддреАрдд <span class="o">(</span>ms<span class="o">)=</span>57
		рдХреБрд▓ рдХрдорд┐рдЯреЗрдб рд╣реАрдк рдЙрдкрдпреЛрдЧ <span class="o">(</span>рдмрд╛рдЗрдЯреНрд╕<span class="o">)=</span>772800512
	рд╢рдлрд▓ рдПрд░рд░реНрд╕
		<span class="nv">BAD_ID</span><span class="o">=</span>0
		<span class="nv">CONNECTION</span><span class="o">=</span>0
		<span class="nv">IO_ERROR</span><span class="o">=</span>0
		<span class="nv">WRONG_LENGTH</span><span class="o">=</span>0
		<span class="nv">WRONG_MAP</span><span class="o">=</span>0
		<span class="nv">WRONG_REDUCE</span><span class="o">=</span>0
	рдлрд╛рдЗрд▓ рдЗрдирдкреБрдЯ рдлреЙрд░реНрдореЗрдЯ рдХрд╛рдЙрдВрдЯрд░реНрд╕
		рдкрдврд╝реЗ рдЧрдП рдмрд╛рдЗрдЯреНрд╕<span class="o">=</span>123
	рдлрд╛рдЗрд▓ рдЖрдЙрдЯрдкреБрдЯ рдлреЙрд░реНрдореЗрдЯ рдХрд╛рдЙрдВрдЯрд░реНрд╕
		рд▓рд┐рдЦреЗ рдЧрдП рдмрд╛рдЗрдЯреНрд╕<span class="o">=</span>23
</code></pre></div></div>

<p>рдЬрд╛рд░реА рд░рдЦреЗрдВ рдФрд░ рджреЗрдЦреЗрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>output/<span class="k">*</span>
1	dfsadmin
</code></pre></div></div>

<p>рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ? рдХреЛрдИ рдмрд╛рдд рдирд╣реАрдВ, рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░ рд╣рдордиреЗ <code class="language-plaintext highlighter-rouge">Hadoop</code> рдХреЛ рдЪрд▓рд╛ рджрд┐рдпрд╛ рд╣реИред рдФрд░ рдкрд╣рд▓рд╛ рд╕реНрдЯреИрдВрдбрдЕрд▓реЛрди рдХрдВрдкреНрдпреВрдЯреЗрд╢рди рдЙрджрд╛рд╣рд░рдг рднреА рдЪрд▓рд╛рдпрд╛ рд╣реИред</p>

<h2 id="рд╕реНрдкрд╛рд░реНрдХ">рд╕реНрдкрд╛рд░реНрдХ</h2>

<p>Spark рдкрд░ рд╡рд╛рдкрд╕ рдЖрддреЗ рд╣реИрдВред рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦрддреЗ рд╣реИрдВред</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">text_file</span> <span class="o">=</span> <span class="n">sc</span><span class="p">.</span><span class="n">textFile</span><span class="p">(</span><span class="s">"hdfs://..."</span><span class="p">)</span>
<span class="n">counts</span> <span class="o">=</span> <span class="n">text_file</span><span class="p">.</span><span class="n">flatMap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="n">line</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">))</span> \
             <span class="p">.</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">word</span><span class="p">:</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> \
             <span class="p">.</span><span class="n">reduceByKey</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
<span class="n">counts</span><span class="p">.</span><span class="n">saveAsTextFile</span><span class="p">(</span><span class="s">"hdfs://..."</span><span class="p">)</span>
</code></pre></div></div>

<p>(рдпрд╣ рдХреЛрдб рдмреНрд▓реЙрдХ рдХреЛ рдЕрдиреБрд╡рд╛рджрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ Python рдХреЛрдб рд╣реИ рдФрд░ рдЗрд╕реЗ рд╣рд┐рдВрджреА рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред)</p>

<p>рдпрд╣рд╛рдВ <code class="language-plaintext highlighter-rouge">hdfs</code> рдлрд╝рд╛рдЗрд▓ рджрд┐рдЦрд╛рдИ рджреА рд╣реИред рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ <code class="language-plaintext highlighter-rouge">hdfs</code> рдлрд╝рд╛рдЗрд▓ рдЗрд╕ рддрд░рд╣ рдмрдирд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИ:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hdfs dfs <span class="nt">-mkdir</span> /test
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">hdfs</code> рдХрдорд╛рдВрдб рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>hdfs
рдЙрдкрдпреЛрдЧ: hdfs <span class="o">[</span>рд╡рд┐рдХрд▓реНрдк] рдЙрдкрдХрдорд╛рдВрдб <span class="o">[</span>рдЙрдкрдХрдорд╛рдВрдб рд╡рд┐рдХрд▓реНрдк]
</code></pre></div></div>

<p>OPTIONS рдХреЛрдИ рдирд╣реАрдВ рдпрд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ:</p>

<p>тАУbuildpaths                       рдмрд┐рд▓реНрдб рдЯреНрд░реА рд╕реЗ рдХреНрд▓рд╛рд╕ рдлрд╝рд╛рдЗрд▓реЗрдВ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ
тАУconfig dir                       Hadoop рдХреЙрдиреНрдлрд╝рд┐рдЧ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА
тАУdaemon (start|status|stop)       рдбреЗрдорди рдкрд░ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░реЗрдВ
тАУdebug                            рд╢реЗрд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдбрд┐рдмрдЧ рдореЛрдб рдЪрд╛рд▓реВ рдХрд░реЗрдВ
тАУhelp                             рдЙрдкрдпреЛрдЧ рдЬрд╛рдирдХрд╛рд░реА
тАУhostnames list[,of,host,names]   рд╡рд░реНрдХрд░ рдореЛрдб рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрд╕реНрдЯреНрд╕
тАУhosts filename                   рд╡рд░реНрдХрд░ рдореЛрдб рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрд╕реНрдЯреНрд╕ рдХреА рд╕реВрдЪреА
тАУloglevel level                   рдЗрд╕ рдХрдорд╛рдВрдб рдХреЗ рд▓рд┐рдП log4j рд╕реНрддрд░ рд╕реЗрдЯ рдХрд░реЗрдВ
тАУworkers                          рд╡рд░реНрдХрд░ рдореЛрдб рдЪрд╛рд▓реВ рдХрд░реЗрдВ</p>

<p>SUBCOMMAND рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЗрдВ рд╕реЗ рдПрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ:
    Admin Commands:</p>

<p>cacheadmin           HDFS рдХреИрд╢ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
crypto               HDFS рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдЬрд╝реЛрди рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
debug                HDFS рдбреАрдмрдЧ рдХрдорд╛рдВрдбреНрд╕ рдХреЛ рдПрдХреНрдЬрд╝реАрдХреНрдпреВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбреАрдмрдЧ рдПрдбрдорд┐рди рдЪрд▓рд╛рдПрдВ
dfsadmin             рдПрдХ DFS рдПрдбрдорд┐рди рдХреНрд▓рд╛рдЗрдВрдЯ рдЪрд▓рд╛рдПрдВ
dfsrouteradmin       рд░рд╛рдЙрдЯрд░-рдЖрдзрд╛рд░рд┐рдд рдлреЗрдбрд░реЗрд╢рди рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░реЗрдВ
ec                   HDFS рдЗрд░реЗрдЬрд╝рд░ рдХреЛрдбрд┐рдВрдЧ CLI рдЪрд▓рд╛рдПрдВ
fsck                 DFS рдлрд╝рд╛рдЗрд▓рд╕рд┐рд╕реНрдЯрдо рдЪреЗрдХрд┐рдВрдЧ рдпреВрдЯрд┐рд▓рд┐рдЯреА рдЪрд▓рд╛рдПрдВ
haadmin              DFS HA рдПрдбрдорд┐рди рдХреНрд▓рд╛рдЗрдВрдЯ рдЪрд▓рд╛рдПрдВ
jmxget               NameNode рдпрд╛ DataNode рд╕реЗ JMX рдПрдХреНрд╕рдкреЛрд░реНрдЯреЗрдб рд╡реИрд▓реНрдпреВрдЬрд╝ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
oev                  рдПрдбрд┐рдЯреНрд╕ рдлрд╝рд╛рдЗрд▓ рдкрд░ рдСрдлрд╝рд▓рд╛рдЗрди рдПрдбрд┐рдЯреНрд╕ рд╡реНрдпреВрдЕрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВ
oiv                  fsimage рдкрд░ рдСрдлрд╝рд▓рд╛рдЗрди fsimage рд╡реНрдпреВрдЕрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВ
oiv_legacy           рд▓реЗрдЧреЗрд╕реА fsimage рдкрд░ рдСрдлрд╝рд▓рд╛рдЗрди fsimage рд╡реНрдпреВрдЕрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВ
storagepolicies      рдмреНрд▓реЙрдХ рд╕реНрдЯреЛрд░реЗрдЬ рдкреЙрд▓рд┐рд╕реАрдЬрд╝ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз/рдкреНрд░рд╛рдкреНрдд/рд╕реЗрдЯ/рд╕рдВрддреБрд╖реНрдЯ рдХрд░реЗрдВ</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>рдХреНрд▓рд╛рдЗрдВрдЯ рдХрдорд╛рдВрдбреНрд╕:
</code></pre></div></div>

<p>classpath            Hadoop jar рдФрд░ рдЖрд╡рд╢реНрдпрдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬрд╝ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдХреНрд▓рд╛рд╕ рдкрде рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИ
dfs                  рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдПрдХ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХрдорд╛рдВрдб рдЪрд▓рд╛рддрд╛ рд╣реИ
envvars              рдЧрдгрд┐рдд Hadoop рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ
fetchdt              NameNode рд╕реЗ рдПрдХ рдкреНрд░рддрд┐рдирд┐рдзрд┐ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ
getconf              рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧ рдорд╛рди рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ
groups               рдЙрди рд╕рдореВрд╣реЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рдирд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВ
lsSnapshottableDir   рд╡рд░реНрддрдорд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рд╛рдорд┐рддреНрд╡ рд╡рд╛рд▓реЗ рд╕рднреА рд╕реНрдиреИрдкрд╢реЙрдЯреЗрдмрд▓ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реАрдЬрд╝ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рддрд╛ рд╣реИ
snapshotDiff         рдПрдХ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЗ рджреЛ рд╕реНрдиреИрдкрд╢реЙрдЯреНрд╕ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рдпрд╛ рд╡рд░реНрддрдорд╛рди рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕рд╛рдордЧреНрд░реА рдФрд░ рдПрдХ рд╕реНрдиреИрдкрд╢реЙрдЯ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рджрд┐рдЦрд╛рддрд╛ рд╣реИ
version              рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд┐рдВрдЯ рдХрд░рддрд╛ рд╣реИ</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>рдбреЗрдорди рдХрдорд╛рдВрдбреНрд╕:
</code></pre></div></div>

<p>balancer             рдХреНрд▓рд╕реНрдЯрд░ рд╕рдВрддреБрд▓рди рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдЪрд▓рд╛рдПрдВ
datanode             DFS рдбреЗрдЯрд╛рдиреЛрдб рдЪрд▓рд╛рдПрдВ
dfsrouter            DFS рд░рд╛рдЙрдЯрд░ рдЪрд▓рд╛рдПрдВ
diskbalancer         рджрд┐рдП рдЧрдП рдиреЛрдб рдкрд░ рдбрд┐рд╕реНрдХреНрд╕ рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╡рд┐рддрд░рд┐рдд рдХрд░реЗрдВ
httpfs               HttpFS рд╕рд░реНрд╡рд░ рдЪрд▓рд╛рдПрдВ, HDFS HTTP рдЧреЗрдЯрд╡реЗ
journalnode          DFS рдЬрд░реНрдирд▓рдиреЛрдб рдЪрд▓рд╛рдПрдВ
mover                рдмреНрд▓реЙрдХ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЛ рд╕реНрдЯреЛрд░реЗрдЬ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдмреАрдЪ рд▓реЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдЪрд▓рд╛рдПрдВ
namenode             DFS рдиреЗрдордиреЛрдб рдЪрд▓рд╛рдПрдВ
nfs3                 NFS рд╕рдВрд╕реНрдХрд░рдг 3 рдЧреЗрдЯрд╡реЗ рдЪрд▓рд╛рдПрдВ
portmap              рдкреЛрд░реНрдЯрдореИрдк рд╕реЗрд╡рд╛ рдЪрд▓рд╛рдПрдВ
secondarynamenode    DFS рд╕реЗрдХреЗрдВрдбрд░реА рдиреЗрдордиреЛрдб рдЪрд▓рд╛рдПрдВ
sps                  рдмрд╛рд╣рд░реА рд╕реНрдЯреЛрд░реЗрдЬрдкреЙрд▓рд┐рд╕реАрд╕рдВрддреБрд╖реНрдЯрд┐ рдЪрд▓рд╛рдПрдВ
zkfc                 ZK рдлреЗрд▓рдУрд╡рд░ рдХрдВрдЯреНрд░реЛрд▓рд░ рдбреЗрдорди рдЪрд▓рд╛рдПрдВ</p>

<p>SUBCOMMAND, рдЬрдм рдмрд┐рдирд╛ рдкреИрд░рд╛рдореАрдЯрд░реНрд╕ рдХреЗ рдпрд╛ -h рдХреЗ рд╕рд╛рде рдЗрдирд╡реЛрдХ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдорджрдж рдкреНрд░рд┐рдВрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИред</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдХреЛрдб рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦреЗрдВред

```python
from pyspark.sql import SparkSession
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">spark</span> <span class="o">=</span> <span class="n">SparkSession</span><span class="p">.</span><span class="n">builder</span><span class="p">.</span><span class="n">master</span><span class="p">(</span><span class="s">"local[*]"</span><span class="p">)</span>\
           <span class="p">.</span><span class="n">config</span><span class="p">(</span><span class="s">'spark.driver.bindAddress'</span><span class="p">,</span> <span class="s">'127.0.0.1'</span><span class="p">)</span>\
           <span class="p">.</span><span class="n">getOrCreate</span><span class="p">()</span>
<span class="n">sc</span> <span class="o">=</span> <span class="n">spark</span><span class="p">.</span><span class="n">sparkContext</span>
</code></pre></div></div>

<p>рдпрд╣ рдХреЛрдб рдПрдХ SparkSession рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ рдЙрд╕реЗ <code class="language-plaintext highlighter-rouge">spark</code> рдирд╛рдо рд╕реЗ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рддрд╛ рд╣реИред <code class="language-plaintext highlighter-rouge">master("local[*]")</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдпрд╣ рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рд╕рднреА рдЙрдкрд▓рдмреНрдз рдХреЛрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред <code class="language-plaintext highlighter-rouge">spark.driver.bindAddress</code> рдХреЛ <code class="language-plaintext highlighter-rouge">127.0.0.1</code> рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЛ рд▓реЛрдХрд▓рд╣реЛрд╕реНрдЯ рдкрд░ рдмрд╛рдЗрдВрдб рдХрд░рддрд╛ рд╣реИред рдЕрдВрдд рдореЗрдВ, <code class="language-plaintext highlighter-rouge">getOrCreate()</code> рдореЗрдердб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ SparkSession рдХреЛ рдмрдирд╛рдпрд╛ рдпрд╛ рдкрд╣рд▓реЗ рд╕реЗ рдореМрдЬреВрдж рд╕рддреНрд░ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <code class="language-plaintext highlighter-rouge">sc</code> рд╡реЗрд░рд┐рдПрдмрд▓ SparkContext рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ Spark рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдореБрдЦреНрдп рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ рд╣реИред</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">text_file</span> <span class="o">=</span> <span class="n">sc</span><span class="p">.</span><span class="n">textFile</span><span class="p">(</span><span class="s">"a.txt"</span><span class="p">)</span>
<span class="n">counts</span> <span class="o">=</span> <span class="n">text_file</span><span class="p">.</span><span class="n">flatMap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="n">line</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">))</span> \
             <span class="p">.</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">word</span><span class="p">:</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> \
             <span class="p">.</span><span class="n">reduceByKey</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
<span class="n">counts</span><span class="p">.</span><span class="n">saveAsTextFile</span><span class="p">(</span><span class="s">"b.txt"</span><span class="p">)</span>
</code></pre></div></div>

<p>рдпрд╣ рдХреЛрдб Apache Spark рдореЗрдВ рдПрдХ рд╕рд░рд▓ рд╢рдмреНрдж рдЧрдгрдирд╛ (word count) рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╣реИред рдпрд╣ <code class="language-plaintext highlighter-rouge">a.txt</code> рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдкрд╛рда рдкрдврд╝рддрд╛ рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рд╢рдмреНрдж рдХреЛ рдЧрд┐рдирддрд╛ рд╣реИ, рдФрд░ рдкрд░рд┐рдгрд╛рдо рдХреЛ <code class="language-plaintext highlighter-rouge">b.txt</code> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рд╣реЗрдЬрддрд╛ рд╣реИред</p>

<p>рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ <code class="language-plaintext highlighter-rouge">.config('spark.driver.bindAddress', '127.0.0.1')</code> рд╕реЗрдЯ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред рдЕрдиреНрдпрдерд╛, рдЖрдкрдХреЛ <code class="language-plaintext highlighter-rouge">Service 'sparkDriver' could not bind on a random free port. You may check whether configuring an appropriate binding address</code> рдЬреИрд╕реА рддреНрд░реБрдЯрд┐ рдорд┐рд▓ рд╕рдХрддреА рд╣реИред</p>

<p>рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рд╕рдордп рдлрд┐рд░ рд╕реЗ рдПрдХ рддреНрд░реБрдЯрд┐ рдЙрддреНрдкрдиреНрди рд╣реБрдИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Caused by: org.apache.spark.api.python.PythonException: Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
  File <span class="s2">"/usr/local/lib/python3.9/site-packages/pyspark/python/lib/pyspark.zip/pyspark/worker.py"</span>, line 473, <span class="k">in </span>main
    raise Exception<span class="o">((</span><span class="s2">"Python in worker has different version %s than that in "</span> +
Exception: рд╡рд░реНрдХрд░ рдореЗрдВ Python рдХрд╛ рд╕рдВрд╕реНрдХрд░рдг 3.8 рд╣реИ рдЬреЛ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг 3.9 рд╕реЗ рдЕрд▓рдЧ рд╣реИ, PySpark рдЕрд▓рдЧ-рдЕрд▓рдЧ рдорд╛рдЗрдирд░ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдирд╣реАрдВ рдЪрд▓ рд╕рдХрддрд╛ред рдХреГрдкрдпрд╛ рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ PYSPARK_PYTHON рдФрд░ PYSPARK_DRIVER_PYTHON рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВред
</code></pre></div></div>

<p>рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ <code class="language-plaintext highlighter-rouge">Python</code> рдЪрд▓рд╛рдП рдЧрдП рд╣реИрдВред</p>

<p><code class="language-plaintext highlighter-rouge">.bash_profile</code> рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">PYSPARK_PYTHON</span><span class="o">=</span>/usr/local/Cellar/python@3.9/3.9.1_6/bin/python3
<span class="nv">PYSPARK_DRIVER_PYTHON</span><span class="o">=</span>/usr/local/Cellar/python@3.9/3.9.1_6/bin/python3
</code></pre></div></div>

<p>рдлрд┐рд░ рднреА рд╡рд╣реА рддреНрд░реБрдЯрд┐ рдЖ рд░рд╣реА рд╣реИред рдХреБрдЫ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ <code class="language-plaintext highlighter-rouge">spark</code> рдЪрд▓рд╛рддреЗ рд╕рдордп рдпрд╣ рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рд▓реЛрдб рдирд╣реАрдВ рд╣реБрдЖ рд╣реЛ, рдФрд░ рдЯрд░реНрдорд┐рдирд▓ рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛред</p>

<p>рдХреЛрдб рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
</code></pre></div></div>

<h1 id="spark-рд╡рд╛рддрд╛рд╡рд░рдг-рд╕реЗрдЯ-рдХрд░реЗрдВ">Spark рд╡рд╛рддрд╛рд╡рд░рдг рд╕реЗрдЯ рдХрд░реЗрдВ</h1>
<p>os.environ[тАШPYSPARK_PYTHONтАЩ] = тАШ/usr/local/Cellar/python@3.9/3.9.1_6/bin/python3тАЩ
os.environ[тАШPYSPARK_DRIVER_PYTHONтАЩ] = тАШ/usr/local/Cellar/python@3.9/3.9.1_6/bin/python3тАЩ</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдпрд╣ рдЪрд▓реЗрдЧрд╛ред

```shell
$ python sc.py
21/03/11 02:54:52 WARN NativeCodeLoader: рдЖрдкрдХреЗ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рд▓рд┐рдП native-hadoop рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓реЛрдб рдХрд░рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрде... рдЬрд╣рд╛рдВ рд▓рд╛рдЧреВ рд╣реЛ, рд╡рд╣рд╛рдВ builtin-java рдХреНрд▓рд╛рд╕реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ
Spark рдХрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ log4j рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ: org/apache/spark/log4j-defaults.properties
рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд▓реЙрдЧ рд╕реНрддрд░ рдХреЛ "WARN" рдкрд░ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред
рд▓реЙрдЧрд┐рдВрдЧ рд╕реНрддрд░ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП sc.setLogLevel(newLevel) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред SparkR рдХреЗ рд▓рд┐рдП, setLogLevel(newLevel) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
PythonRDD[6] at RDD at PythonRDD.scala:53
</code></pre></div></div>

<p>рдЗрд╕ рд╕рдордп <code class="language-plaintext highlighter-rouge">b.txt</code> рдлрд╝рд╛рдЗрд▓ рдЬрдирд░реЗрдЯ рд╣реЛ рдЧрдИ рд╣реИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>тФЬтФАтФА b.txt
тФВ   тФЬтФАтФА _SUCCESS
тФВ   тФЬтФАтФА part-00000
тФВ   тФФтФАтФА part-00001
</code></pre></div></div>

<p>рдЦреЛрд▓реЛред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>b.txt/part-00000
<span class="o">(</span><span class="s1">'college'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'two'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'things'</span>, 2<span class="o">)</span>
<span class="o">(</span><span class="s1">'worked'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'on,'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'of'</span>, 8<span class="o">)</span>
<span class="o">(</span><span class="s1">'school,'</span>, 2<span class="o">)</span>
<span class="o">(</span><span class="s1">'writing'</span>, 2<span class="o">)</span>
<span class="o">(</span><span class="s1">'programming.'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s2">"didn't"</span>, 4<span class="o">)</span>
<span class="o">(</span><span class="s1">'then,'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'probably'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'are:'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'short'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'awful.'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'They'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'plot,'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'just'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'characters'</span>, 1<span class="o">)</span>
<span class="o">(</span><span class="s1">'them'</span>, 2<span class="o">)</span>
...
</code></pre></div></div>

<p>рд╕рдлрд▓рддрд╛! рдХреНрдпрд╛ рдпрд╣ рдкрд░рд┐рдЪрд┐рдд рдирд╣реАрдВ рд▓рдЧрддрд╛? рдпрд╣ рдареАрдХ рд╡реИрд╕рд╛ рд╣реА рд╣реИ рдЬреИрд╕рд╛ <code class="language-plaintext highlighter-rouge">Hadoop</code> рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдерд╛ред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>output/<span class="k">*</span>
1	dfsadmin
</code></pre></div></div>

<p>(рдпрд╣рд╛рдБ рдХреЛрдб рдмреНрд▓реЙрдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред)</p>

<p>рдпреЗ рдлрд╝рд╛рдЗрд▓реЗрдВ <code class="language-plaintext highlighter-rouge">HDFS</code> рдХрд╣рд▓рд╛рддреА рд╣реИрдВред рдпрд╣рд╛рдБ <code class="language-plaintext highlighter-rouge">Spark</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рд╢рдмреНрджреЛрдВ рдХреА рдЧрд┐рдирддреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдХреБрдЫ рд╣реА рдкрдВрдХреНрддрд┐рдпреЛрдВ рдореЗрдВ, рдпрд╣ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд▓рдЧрддрд╛ рд╣реИред</p>

<h2 id="kubernetes">Kubernetes</h2>

<p>рдЕрдЧрд▓рд╛ рдХрджрдо <code class="language-plaintext highlighter-rouge">Kubernetes</code> рдХреЛ рд╕рдордЭрдирд╛ рд╣реИ, рдЬрд┐рд╕реЗ <code class="language-plaintext highlighter-rouge">k8s</code> рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдмреАрдЪ рдХреЗ 8 рдЕрдХреНрд╖рд░реЛрдВ рдХреЛ 8 рд╕реЗ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдпрд╣ рдПрдХ рдУрдкрди-рд╕реЛрд░реНрд╕ рд╕рд┐рд╕реНрдЯрдо рд╣реИ рдЬреЛ рдХрдВрдЯреЗрдирд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдбрд┐рдкреНрд▓реЙрдп, рд╕реНрдХреЗрд▓ рдФрд░ рдореИрдиреЗрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</p>

<p><code class="language-plaintext highlighter-rouge">kubectl</code> рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ k8s рдХреНрд▓рд╕реНрдЯрд░ рдкрд░ рдХреБрдЫ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдбрд┐рдкреНрд▓реЙрдп рдХрд░рдиреЗ, рдХреНрд▓рд╕реНрдЯрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рджреЗрдЦрдиреЗ рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ, рдФрд░ рд▓реЙрдЧреНрд╕ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред</p>

<p>Homebrew рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднреА рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>kubectl
</code></pre></div></div>

<p>(рдиреЛрдЯ: рдпрд╣ рдПрдХ рдХрдорд╛рдВрдб рд╣реИ рдЬрд┐рд╕реЗ рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рдЪрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕реЗ рд╣рд┐рдВрджреА рдореЗрдВ рдЯреНрд░рд╛рдВрд╕рд▓реЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред)</p>

<p>рд▓реЙрдЧ рдЖрдЙрдЯрдкреБрдЯ:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">==&gt;</span> рдбрд╛рдЙрдирд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ https://homebrew.bintray.com/bottles/kubernetes-cli-1.20.1.big_sur.bottle.tar.gz
<span class="o">==&gt;</span> рдбрд╛рдЙрдирд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ https://d29vzk4ow07wi7.cloudfront.net/0b4f08bd1d47cb913d7cd4571e3394c6747dfbad7ff114c5589c8396c1085ecf?response-content-disposition<span class="o">=</span>a
<span class="c">######################################################################## 100.0%</span>
<span class="o">==&gt;</span> рдбрд╛рд▓рд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ kubernetes-cli-1.20.1.big_sur.bottle.tar.gz
<span class="o">==&gt;</span> рд╕рд╛рд╡рдзрд╛рдирд┐рдпрд╛рдБ
Bash рдкреВрд░реНрдгрддрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХреА рдЧрдИ рд╣реИ:
  /usr/local/etc/bash_completion.d
<span class="o">==&gt;</span> рд╕рд╛рд░рд╛рдВрд╢
ЁЯН║  /usr/local/Cellar/kubernetes-cli/1.20.1: 246 рдлрд╝рд╛рдЗрд▓реЗрдВ, 46.1MB
</code></pre></div></div>

<p>рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реЛ рдЧрдпрд╛ рд╣реИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl version <span class="nt">--client</span>
Client Version: version.Info<span class="o">{</span>Major:<span class="s2">"1"</span>, Minor:<span class="s2">"20"</span>, GitVersion:<span class="s2">"v1.20.1"</span>, GitCommit:<span class="s2">"c4d752765b3bbac2237bf87cf0b1c2e307844666"</span>, GitTreeState:<span class="s2">"clean"</span>, BuildDate:<span class="s2">"2020-12-19T08:38:20Z"</span>, GoVersion:<span class="s2">"go1.15.5"</span>, Compiler:<span class="s2">"gc"</span>, Platform:<span class="s2">"darwin/amd64"</span><span class="o">}</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl
kubectl Kubernetes рдХреНрд▓рд╕реНрдЯрд░ рдореИрдиреЗрдЬрд░ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред
</code></pre></div></div>

<p>рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рдЬрд╛рдПрдВ: https://kubernetes.io/docs/reference/kubectl/overview/</p>

<p>рдмреЗрд╕рд┐рдХ рдХрдорд╛рдВрдбреНрд╕ (рд╢реБрд░реБрдЖрддреА):
  create        рдлрд╝рд╛рдЗрд▓ рдпрд╛ stdin рд╕реЗ рдПрдХ рд╕рдВрд╕рд╛рдзрди рдмрдирд╛рдПрдВред
  expose        рдПрдХ рд░рд┐рдкреНрд▓рд┐рдХреЗрд╢рди рдХрдВрдЯреНрд░реЛрд▓рд░, рд╕рд░реНрд╡рд┐рд╕, рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдпрд╛ рдкреЙрдб рд▓реЗрдВ рдФрд░ рдЗрд╕реЗ рдПрдХ рдирдИ Kubernetes рд╕рд░реНрд╡рд┐рд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХреНрд╕рдкреЛрдЬрд╝ рдХрд░реЗрдВред
  run           рдХреНрд▓рд╕реНрдЯрд░ рдкрд░ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЗрдореЗрдЬ рдЪрд▓рд╛рдПрдВред
  set           рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдкрд░ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдлрд╝реАрдЪрд░реНрд╕ рд╕реЗрдЯ рдХрд░реЗрдВред</p>

<p>рдмреЗрд╕рд┐рдХ рдХрдорд╛рдВрдбреНрд╕ (рдЗрдВрдЯрд░рдореАрдбрд┐рдПрдЯ):
  explain       рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг
  get           рдПрдХ рдпрд╛ рдЕрдиреЗрдХ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ
  edit          рд╕рд░реНрд╡рд░ рдкрд░ рдПрдХ рд╕рдВрд╕рд╛рдзрди рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ
  delete        рдлрд╝рд╛рдЗрд▓рдирд╛рдо, stdin, рд╕рдВрд╕рд╛рдзрди рдФрд░ рдирд╛рдо, рдпрд╛ рд╕рдВрд╕рд╛рдзрди рдФрд░ рд▓реЗрдмрд▓ рдЪрдпрдирдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╣рдЯрд╛рдПрдВ</p>

<p>Deploy Commands:
  rollout       рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдХреЗ рд░реЛрд▓рдЖрдЙрдЯ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░реЗрдВ
  scale         Deployment, ReplicaSet рдпрд╛ Replication Controller рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдЖрдХрд╛рд░ рд╕реЗрдЯ рдХрд░реЗрдВ
  autoscale     Deployment, ReplicaSet, рдпрд╛ ReplicationController рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрдХреЗрд▓ рдХрд░реЗрдВ</p>

<p>рдХреНрд▓рд╕реНрдЯрд░ рдкреНрд░рдмрдВрдзрди рдХрдорд╛рдВрдбреНрд╕:
  certificate   рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВред
  cluster-info  рдХреНрд▓рд╕реНрдЯрд░ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВред
  top           рд╕рдВрд╕рд╛рдзрди (CPU/рдореЗрдореЛрд░реА/рд╕реНрдЯреЛрд░реЗрдЬ) рдЙрдкрдпреЛрдЧ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВред
  cordon        рдиреЛрдб рдХреЛ рдЕрдиреБрд╕реВрдЪрд┐рдд рдирд╣реАрдВ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░реЗрдВред
  uncordon      рдиреЛрдб рдХреЛ рдЕрдиреБрд╕реВрдЪрд┐рдд рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░реЗрдВред
  drain         рд░рдЦрд░рдЦрд╛рд╡ рдХреА рддреИрдпрд╛рд░реА рдореЗрдВ рдиреЛрдб рдХреЛ рдбреНрд░реЗрди рдХрд░реЗрдВред
  taint         рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдиреЛрдбреНрд╕ рдкрд░ рдЯреЗрдВрдЯреНрд╕ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВред</p>

<p>рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдФрд░ рдбрд┐рдмрдЧрд┐рдВрдЧ рдХрдорд╛рдВрдб:
  describe      рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕рд╛рдзрди рдпрд╛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд╕рдореВрд╣ рдХрд╛ рд╡рд┐рд╡рд░рдг рджрд┐рдЦрд╛рдПрдВ
  logs          рдкреЙрдб рдореЗрдВ рдХрдВрдЯреЗрдирд░ рдХреЗ рд▓реЙрдЧ рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ
  attach        рдЪрд▓ рд░рд╣реЗ рдХрдВрдЯреЗрдирд░ рд╕реЗ рдЬреБрдбрд╝реЗрдВ
  exec          рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдПрдХ рдХрдорд╛рдВрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ
  port-forward  рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рд╕реНрдерд╛рдиреАрдп рдкреЛрд░реНрдЯреНрд╕ рдХреЛ рдкреЙрдб рдореЗрдВ рдлреЙрд░рд╡рд░реНрдб рдХрд░реЗрдВ
  proxy         Kubernetes API рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░реЙрдХреНрд╕реА рдЪрд▓рд╛рдПрдВ
  cp            рдХрдВрдЯреЗрдирд░ рд╕реЗ рдФрд░ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдлрд╝рд╛рдЗрд▓реЗрдВ рдФрд░ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реАрдЬрд╝ рдХреЙрдкреА рдХрд░реЗрдВ
  auth          рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
  debug         рд╡рд░реНрдХрд▓реЛрдб рдФрд░ рдиреЛрдбреНрд╕ рдХреЗ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХреЗ рд▓рд┐рдП рдбрд┐рдмрдЧрд┐рдВрдЧ рд╕рддреНрд░ рдмрдирд╛рдПрдВ</p>

<p>рдЙрдиреНрдирдд рдХрдорд╛рдВрдбреНрд╕:
  diff          рд▓рд╛рдЗрд╡ рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рд▓рд╛рдЧреВ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рджрд┐рдЦрд╛рдПрдВ
  apply         рдлрд╝рд╛рдЗрд▓рдирд╛рдо рдпрд╛ stdin рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рд╕рдВрд╕рд╛рдзрди рдкрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВ
  patch         рд╕рдВрд╕рд╛рдзрди рдХреЗ рдлрд╝реАрд▓реНрдб рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
  replace       рдлрд╝рд╛рдЗрд▓рдирд╛рдо рдпрд╛ stdin рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрд╕рд╛рдзрди рдХреЛ рдмрджрд▓реЗрдВ
  wait          рдкреНрд░рд╛рдпреЛрдЧрд┐рдХ: рдПрдХ рдпрд╛ рдХрдИ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдкрд░ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реНрдерд┐рддрд┐ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВред
  kustomize     рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдпрд╛ рджреВрд░рд╕реНрде URL рд╕реЗ рдПрдХ kustomization рд▓рдХреНрд╖реНрдп рдмрдирд╛рдПрдВред</p>

<p>рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХрдорд╛рдВрдбреНрд╕:
  label         рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдкрд░ рд▓реЗрдмрд▓ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
  annotate      рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдкрд░ рдПрдиреЛрдЯреЗрд╢рди рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
  completion    рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╢реЗрд▓ (bash рдпрд╛ zsh) рдХреЗ рд▓рд┐рдП рд╢реЗрд▓ рдкреВрд░реНрдгрддрд╛ рдХреЛрдб рдЖрдЙрдЯрдкреБрдЯ рдХрд░реЗрдВ</p>

<p>рдЕрдиреНрдп рдХрдорд╛рдВрдбреНрд╕:
  api-resources рд╕рд░реНрд╡рд░ рдкрд░ рд╕рдорд░реНрдерд┐рдд API рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ
  api-versions  рд╕рд░реНрд╡рд░ рдкрд░ рд╕рдорд░реНрдерд┐рдд API рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ тАЬgroup/versionтАЭ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ
  config        kubeconfig рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ
  plugin        рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрд┐рддрд╛рдПрдБ рдкреНрд░рджрд╛рди рдХрд░реЗрдВ
  version       рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд░ рд╕рдВрд╕реНрдХрд░рдг рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ</p>

<p>рдЙрдкрдпреЛрдЧ:
  kubectl [рдлреНрд▓реИрдЧреНрд╕] [рд╡рд┐рдХрд▓реНрдк]</p>

<p>рдХрд┐рд╕реА рджрд┐рдП рдЧрдП рдХрдорд╛рдВрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП тАЬkubectl <command /> тАУhelpтАЭ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
рд╕рднреА рдХрдорд╛рдВрдбреНрд╕ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рд╡реИрд╢реНрд╡рд┐рдХ рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреА рд╕реВрдЪреА рдХреЗ рд▓рд┐рдП тАЬkubectl optionsтАЭ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдПрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдПред

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
spec:
  selector:
    matchLabels:
      app: nginx
  minReadySeconds: 5
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:1.14.2
        ports:
        - containerPort: 80
</code></pre></div></div>

<p>рдпрд╣ YAML рдлрд╝рд╛рдЗрд▓ рдПрдХ Kubernetes Deployment рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИ рдЬреЛ <code class="language-plaintext highlighter-rouge">nginx</code> рдХрдВрдЯреЗрдирд░ рдХреЛ рдбрд┐рдкреНрд▓реЙрдп рдХрд░рддреА рд╣реИред рдпрд╣ Deployment <code class="language-plaintext highlighter-rouge">nginx-deployment</code> рдирд╛рдо рд╕реЗ рдЬрд╛рдирд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдпрд╣ <code class="language-plaintext highlighter-rouge">nginx:1.14.2</code> рдЗрдореЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ред рдХрдВрдЯреЗрдирд░ 80 рдкреЛрд░реНрдЯ рдкрд░ рд▓рд┐рд╕рди рдХрд░реЗрдЧрд╛ред <code class="language-plaintext highlighter-rouge">minReadySeconds</code> рд╕реЗрдЯрд┐рдВрдЧ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рдХрдВрдЯреЗрдирд░ рдХрдо рд╕реЗ рдХрдо 5 рд╕реЗрдХрдВрдб рддрдХ рддреИрдпрд╛рд░ рд░рд╣реЗрдЧрд╛ред</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
```shell
$ kubectl apply -f simple_deployment.yaml
рд╕рд░реНрд╡рд░ localhost:8080 рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ - рдХреНрдпрд╛ рдЖрдкрдиреЗ рд╕рд╣реА рд╣реЛрд╕реНрдЯ рдпрд╛ рдкреЛрд░реНрдЯ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рд╣реИ?
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl cluster-info
</code></pre></div></div>

<p>рдХреНрд▓рд╕реНрдЯрд░ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рдФрд░ рдбреАрдмрдЧ рдФрд░ рдбрд╛рдпрдЧреНрдиреЛрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, тАШkubectl cluster-info dumpтАЩ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
рд╕рд░реНрд╡рд░ localhost:8080 рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ - рдХреНрдпрд╛ рдЖрдкрдиреЗ рд╕рд╣реА рд╣реЛрд╕реНрдЯ рдпрд╛ рдкреЛрд░реНрдЯ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рд╣реИ?</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдЬрдм рдЖрдк рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЗ рдЯрд░реНрдорд┐рдирд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕реЗ рдЪрд▓рд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВред

```shell
$ start.sh
Kubernetes рд╢реБрд░реВ рд╣реЛ рд░рд╣рд╛ рд╣реИ...minikube рд╕рдВрд╕реНрдХрд░рдг: v1.8.1
рдХрдорд┐рдЯ: cbda04cf6bbe65e987ae52bb393c10099ab62014
* minikube v1.8.1 Ubuntu 18.04 рдкрд░
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ none рдбреНрд░рд╛рдЗрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ
* localhost рдкрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИ (CPUs=2, Memory=2460MB, Disk=145651MB) ...
* OS рд░рд┐рд▓реАрдЬрд╝ Ubuntu 18.04.4 LTS рд╣реИ
</code></pre></div></div>

<ul>
  <li>Kubernetes v1.17.3 рдХреЛ Docker 19.03.6 рдкрд░ рддреИрдпрд╛рд░ рдХрд░ рд░рд╣реЗ рд╣реИрдВ тАж
    <ul>
      <li>kubelet.resolv-conf=/run/systemd/resolve/resolv.conf</li>
    </ul>
  </li>
  <li>Kubernetes рд▓реЙрдиреНрдЪ рдХрд░ рд░рд╣реЗ рд╣реИрдВ тАж</li>
  <li>рдРрдбрдСрдиреНрд╕ рд╕рдХреНрд╖рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ: default-storageclass, storage-provisioner</li>
  <li>рд▓реЛрдХрд▓ рд╣реЛрд╕реНрдЯ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд░рд╣реЗ рд╣реИрдВ тАж</li>
  <li>рд╣реЛ рдЧрдпрд╛! kubectl рдЕрдм тАЬminikubeтАЭ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рд╣реИ</li>
  <li>тАШdashboardтАЩ рдРрдбрдСрди рд╕рдХреНрд╖рдо рд╣реИ
Kubernetes рд╢реБрд░реВ рд╣реЛ рдЧрдпрд╛ рд╣реИ
```</li>
</ul>

<p>рд╣рдорд╛рд░реЗ рдЯрд░реНрдорд┐рдирд▓ рдкрд░ рд╡рд╛рдкрд╕ рдЖрддреЗ рд╣реИрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl version <span class="nt">--client</span>
Client Version: version.Info<span class="o">{</span>Major:<span class="s2">"1"</span>, Minor:<span class="s2">"20"</span>, GitVersion:<span class="s2">"v1.20.1"</span>, GitCommit:<span class="s2">"c4d752765b3bbac2237bf87cf0b1c2e307844666"</span>, GitTreeState:<span class="s2">"clean"</span>, BuildDate:<span class="s2">"2020-12-19T08:38:20Z"</span>, GoVersion:<span class="s2">"go1.15.5"</span>, Compiler:<span class="s2">"gc"</span>, Platform:<span class="s2">"darwin/amd64"</span><span class="o">}</span>
<span class="nv">$ </span>kubectl version
Client Version: version.Info<span class="o">{</span>Major:<span class="s2">"1"</span>, Minor:<span class="s2">"20"</span>, GitVersion:<span class="s2">"v1.20.1"</span>, GitCommit:<span class="s2">"c4d752765b3bbac2237bf87cf0b1c2e307844666"</span>, GitTreeState:<span class="s2">"clean"</span>, BuildDate:<span class="s2">"2020-12-19T08:38:20Z"</span>, GoVersion:<span class="s2">"go1.15.5"</span>, Compiler:<span class="s2">"gc"</span>, Platform:<span class="s2">"darwin/amd64"</span><span class="o">}</span>
рд╕рд░реНрд╡рд░ localhost:8080 рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ - рдХреНрдпрд╛ рдЖрдкрдиреЗ рд╕рд╣реА рд╣реЛрд╕реНрдЯ рдпрд╛ рдкреЛрд░реНрдЯ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рд╣реИ?
</code></pre></div></div>

<p>рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ <code class="language-plaintext highlighter-rouge">--client</code> рд╡рд┐рдХрд▓реНрдк рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдкрд░ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рдирд╣реАрдВ рдЖрдИред</p>

<p>рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЗ рдЕрдиреБрд╕рд╛рд░, <code class="language-plaintext highlighter-rouge">Minikube</code> рдХреЛ рдкрд╣рд▓реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew <span class="nb">install </span>minikube
<span class="o">==&gt;</span> Downloading https://homebrew.bintray.com/bottles/minikube-1.16.0.big_sur.bottle.tar.gz
<span class="o">==&gt;</span> Downloading from https://d29vzk4ow07wi7.cloudfront.net/1b6d7d1b97b11b6b07e4fa531c2dc21770da290da9b2816f360fd923e00c85fc?response-content-disposition<span class="o">=</span>a
<span class="c">######################################################################## 100.0%</span>
<span class="o">==&gt;</span> Pouring minikube-1.16.0.big_sur.bottle.tar.gz
<span class="o">==&gt;</span> Caveats
Bash рдкреВрд░реНрдгрддрд╛ <span class="o">(</span>completion<span class="o">)</span> рдЗрдВрд╕реНрдЯреЙрд▓ рдХреА рдЧрдИ рд╣реИ:
  /usr/local/etc/bash_completion.d
<span class="o">==&gt;</span> Summary
ЁЯН║  /usr/local/Cellar/minikube/1.16.0: 8 рдлрд╛рдЗрд▓реЗрдВ, 64.6MB
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>minikube start
ЁЯШД  minikube v1.16.0 рдбрд╛рд░реНрд╡рд┐рди 11.2.2 рдкрд░
ЁЯОЙ  minikube 1.18.1 рдЙрдкрд▓рдмреНрдз рд╣реИ! рдЗрд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ: https://github.com/kubernetes/minikube/releases/tag/v1.18.1
ЁЯТб  рдЗрд╕ рд╕реВрдЪрдирд╛ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЪрд▓рд╛рдПрдВ: <span class="s1">'minikube config set WantUpdateNotification false'</span>
</code></pre></div></div>

<p>тЬи  рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ virtualbox рдбреНрд░рд╛рдЗрд╡рд░ рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛ рдЧрдпрд╛
ЁЯТ┐  VM рдмреВрдЯ рдЗрдореЗрдЬ рдбрд╛рдЙрдирд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ тАж
    &gt; minikube-v1.16.0.iso.sha256: 65 B / 65 B [тАФтАФтАФтАФ-] 100.00% ? p/s 0s
    &gt; minikube-v1.16.0.iso: 212.62 MiB / 212.62 MiB [] 100.00% 5.32 MiB p/s 40s
ЁЯСН  рдХрдВрдЯреНрд░реЛрд▓ рдкреНрд▓реЗрди рдиреЛрдб minikube рдХреЛ рдХреНрд▓рд╕реНрдЯрд░ minikube рдореЗрдВ рд╢реБрд░реВ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ
ЁЯТ╛  Kubernetes v1.20.0 рдкреНрд░реАрд▓реЛрдб рдбрд╛рдЙрдирд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ тАж
    &gt; preloaded-images-k8s-v8-v1тАж.: 491.00 MiB / 491.00 MiB  100.00% 7.52 MiB
ЁЯФе  virtualbox VM рдмрдирд╛рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ (CPUs=2, Memory=4000MB, Disk=20000MB) тАж
тЭЧ  рдЗрд╕ VM рдХреЛ https://k8s.gcr.io рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рд╣реЛ рд░рд╣реА рд╣реИ
ЁЯТб  рдирдИ рдмрд╛рд╣рд░реА рдЗрдореЗрдЬ рдХреЛ рдкреБрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рдкреНрд░реЙрдХреНрд╕реА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ: https://minikube.sigs.k8s.io/docs/reference/networking/proxy/
ЁЯР│  Kubernetes v1.20.0 рдХреЛ Docker 20.10.0 рдкрд░ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ тАж
    тЦк рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рдФрд░ рдХреБрдВрдЬрд┐рдпрд╛рдБ рдЬрдирд░реЗрдЯ рдХреА рдЬрд╛ рд░рд╣реА рд╣реИрдВ тАж
    тЦк рдХрдВрдЯреНрд░реЛрд▓ рдкреНрд▓реЗрди рдХреЛ рдмреВрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ тАж
    тЦк RBAC рдирд┐рдпрдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ тАж
ЁЯФО  Kubernetes рдХрдВрдкреЛрдиреЗрдВрдЯреНрд╕ рдХреА рдЬрд╛рдБрдЪ рдХреА рдЬрд╛ рд░рд╣реА рд╣реИтАж
ЁЯМЯ  рдПрдбрдСрдиреНрд╕ рд╕рдХреНрд╖рдо рдХрд┐рдП рдЧрдП: storage-provisioner, default-storageclass
ЁЯПД  рд╣реЛ рдЧрдпрд╛! kubectl рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ тАЬminikubeтАЭ рдХреНрд▓рд╕реНрдЯрд░ рдФрд░ тАЬdefaultтАЭ рдиреЗрдорд╕реНрдкреЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рд╣реЛ рдЧрдпрд╛ рд╣реИ</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдЗрд╕ рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝реЗрдВред

```shell
$ kubectl get po -A
NAMESPACE     NAME                               READY   STATUS    RESTARTS   AGE
kube-system   coredns-74ff55c5b-ndbcr            1/1     рдЪрд▓ рд░рд╣рд╛ рд╣реИ   0          60s
kube-system   etcd-minikube                      0/1     рдЪрд▓ рд░рд╣рд╛ рд╣реИ   0          74s
kube-system   kube-apiserver-minikube            1/1     рдЪрд▓ рд░рд╣рд╛ рд╣реИ   0          74s
kube-system   kube-controller-manager-minikube   1/1     рдЪрд▓ рд░рд╣рд╛ рд╣реИ   0          74s
kube-system   kube-proxy-g2296                   1/1     рдЪрд▓ рд░рд╣рд╛ рд╣реИ   0          60s
kube-system   kube-scheduler-minikube            0/1     рдЪрд▓ рд░рд╣рд╛ рд╣реИ   0          74s
kube-system   storage-provisioner                1/1     рдЪрд▓ рд░рд╣рд╛ рд╣реИ   1          74s
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">minikube</code> рдХрд╛ рдбреИрд╢рдмреЛрд░реНрдб рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдПред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>minikube dashboard
ЁЯФМ  рдбреИрд╢рдмреЛрд░реНрдб рд╕рдХреНрд╖рдо рдХрд░ рд░рд╣рд╛ рд╣реИ ...
ЁЯдФ  рдбреИрд╢рдмреЛрд░реНрдб рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреА рдЬрд╛рдБрдЪ рдХрд░ рд░рд╣рд╛ рд╣реИ ...
ЁЯЪА  рдкреНрд░реЙрдХреНрд╕реА рд▓реЙрдиреНрдЪ рдХрд░ рд░рд╣рд╛ рд╣реИ ...
ЁЯдФ  рдкреНрд░реЙрдХреНрд╕реА рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреА рдЬрд╛рдБрдЪ рдХрд░ рд░рд╣рд╛ рд╣реИ ...
ЁЯОЙ  рдЖрдкрдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ http://127.0.0.1:50030/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/ рдЦреЛрд▓ рд░рд╣рд╛ рд╣реИ...
</code></pre></div></div>

<p><img src="assets/images/distributed/k8s.png" alt="k8s" /></p>

<p>рдХреИрд╕реЗ рдмрдВрдж рдХрд░реЗрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>minikube
minikube рд╡рд┐рдХрд╛рд╕ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рд╕реНрдерд╛рдиреАрдп Kubernetes рдХреНрд▓рд╕реНрдЯрд░реНрд╕ рдХреЛ рдкреНрд░реЛрд╡рд┐рдЬрд╝рди рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рддрд╛ рд╣реИред
</code></pre></div></div>

<p>рдмреЗрд╕рд┐рдХ рдХрдорд╛рдВрдбреНрд╕:
  start          рдПрдХ рд╕реНрдерд╛рдиреАрдп Kubernetes рдХреНрд▓рд╕реНрдЯрд░ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ
  status         рдПрдХ рд╕реНрдерд╛рдиреАрдп Kubernetes рдХреНрд▓рд╕реНрдЯрд░ рдХреА рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ
  stop           рдЪрд▓ рд░рд╣реЗ рд╕реНрдерд╛рдиреАрдп Kubernetes рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ
  delete         рдПрдХ рд╕реНрдерд╛рдиреАрдп Kubernetes рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рд╣рдЯрд╛рддрд╛ рд╣реИ
  dashboard      minikube рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рдЕрдВрджрд░ рдЪрд▓ рд░рд╣реЗ Kubernetes рдбреИрд╢рдмреЛрд░реНрдб рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ
  pause          Kubernetes рдХреЛ рдкреЙрдЬрд╝ рдХрд░рддрд╛ рд╣реИ
  unpause        Kubernetes рдХреЛ рдЕрдирдкреЙрдЬрд╝ рдХрд░рддрд╛ рд╣реИ</p>

<p>Images Commands:
  docker-env     minikube рдХреЗ Docker рдбреЗрдорди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╛рддрд╛рд╡рд░рдг рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
  podman-env     minikube рдХреЗ Podman рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╛рддрд╛рд╡рд░рдг рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
  cache          minikube рдореЗрдВ рдПрдХ рд╕реНрдерд╛рдиреАрдп рдЫрд╡рд┐ рдХреЛ рдЬреЛрдбрд╝реЗрдВ, рд╣рдЯрд╛рдПрдВ, рдпрд╛ рдкреБрд╢ рдХрд░реЗрдВ</p>

<p>рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдФрд░ рдкреНрд░рдмрдВрдзрди рдХрдорд╛рдВрдб:
  addons         рдорд┐рдирд┐рдХреНрдпреВрдм рдРрдбрдСрди рдХреЛ рд╕рдХреНрд╖рдо рдпрд╛ рдЕрдХреНрд╖рдо рдХрд░реЗрдВ
  config         рд╕реНрдерд╛рдпреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдорд╛рдиреЛрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ
  profile        рд╡рд░реНрддрдорд╛рди рдкреНрд░реЛрдлрд╛рдЗрд▓ (рдХреНрд▓рд╕реНрдЯрд░) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдпрд╛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдВ
  update-context IP рдпрд╛ рдкреЛрд░реНрдЯ рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ kubeconfig рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ</p>

<p>рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рдФрд░ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдХрдорд╛рдВрдбреНрд╕:
  service        рдХрд┐рд╕реА рд╕реЗрд╡рд╛ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ URL рд░рд┐рдЯрд░реНрди рдХрд░рддрд╛ рд╣реИ
  tunnel         LoadBalancer рд╕реЗрд╡рд╛рдУрдВ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддрд╛ рд╣реИ</p>

<p>рдЙрдиреНрдирдд рдХрдорд╛рдВрдбреНрд╕:
  mount          рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЛ minikube рдореЗрдВ рдорд╛рдЙрдВрдЯ рдХрд░рддрд╛ рд╣реИ
  ssh            minikube рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░реЗрдВ (рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП)
  kubectl        рдХреНрд▓рд╕реНрдЯрд░ рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рдореЗрд▓ рдЦрд╛рдиреЗ рд╡рд╛рд▓реЗ kubectl рдмрд╛рдЗрдирд░реА рдХреЛ рдЪрд▓рд╛рдПрдВ
  node           рдЕрддрд┐рд░рд┐рдХреНрдд рдиреЛрдбреНрд╕ рдХреЛ рдЬреЛрдбрд╝реЗрдВ, рд╣рдЯрд╛рдПрдВ, рдпрд╛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдВ</p>

<p>рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХрдорд╛рдВрдбреНрд╕:
  ssh-key        рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЛрдб рдХреА ssh рдкрд╣рдЪрд╛рди рдХреБрдВрдЬреА рдкрде рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
  ssh-host       рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЛрдб рдХреА ssh рд╣реЛрд╕реНрдЯ рдХреБрдВрдЬреА рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
  ip             рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЛрдб рдХрд╛ IP рдкрддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
  logs           рд╕реНрдерд╛рдиреАрдп Kubernetes рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдбреАрдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЙрдЧреНрд╕ рд▓реМрдЯрд╛рдПрдВ
  update-check   рд╡рд░реНрддрдорд╛рди рдФрд░ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рд╕рдВрдЦреНрдпрд╛ рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ
  version        minikube рдХрд╛ рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ</p>

<p>рдЕрдиреНрдп рдХрдорд╛рдВрдб:
  completion     рдХрд┐рд╕реА рд╢реЗрд▓ рдХреЗ рд▓рд┐рдП рдХрдорд╛рдВрдб рдкреВрд░реНрдгрддрд╛ рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ</p>

<p>рдХрд┐рд╕реА рджрд┐рдП рдЧрдП рдХрдорд╛рдВрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП тАЬminikube <command /> тАУhelpтАЭ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рджрд┐рдЦрд╛рдИ рджреЗ рд░рд╣рд╛ рд╣реИ рдХрд┐ рдпрд╣ `minikube stop` рд╣реИред

`kubernetes` рдкрд░ рд╡рд╛рдкрд╕ рдЖрддреЗ рд╣реБрдП, рдЕрдм рдпрд╣ рдареАрдХ рд╕реЗ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИред

```shell
$ kubectl cluster-info
Kubernetes рдХрдВрдЯреНрд░реЛрд▓ рдкреНрд▓реЗрди https://192.168.99.100:8443 рдкрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИ
KubeDNS https://192.168.99.100:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy рдкрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИ
</code></pre></div></div>

<p>рдХреНрд▓рд╕реНрдЯрд░ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рдФрд░ рдбреАрдмрдЧ рдФрд░ рдирд┐рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, тАШkubectl cluster-info dumpтАЩ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдЬрдм рд╣рдо `https://192.168.99.100:8443` рдЦреЛрд▓рддреЗ рд╣реИрдВ, рддреЛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рджрд┐рдЦрд╛рддрд╛ рд╣реИ:

```json
{
  "kind": "Status",
  "apiVersion": "v1",
  "metadata": {
    
  },
  "status": "Failure",
  "message": "рдирд┐рд╖рд┐рджреНрдз: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ \"system:anonymous\" рдкрде \"/\" рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛",
  "reason": "Forbidden",
  "details": {
    
  },
  "code": 403
}
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">https://192.168.99.100:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy</code> рдкрд░ рдЬрд╛рдПрдВ:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Status"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"apiVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failure"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"рд╕реЗрд╡рд╛рдПрдБ </span><span class="se">\"</span><span class="s2">kube-dns:dns</span><span class="se">\"</span><span class="s2"> рдирд┐рд╖рд┐рджреНрдз рд╣реИрдВ: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ </span><span class="se">\"</span><span class="s2">system:anonymous</span><span class="se">\"</span><span class="s2"> API рд╕рдореВрд╣ </span><span class="se">\"\"</span><span class="s2"> рдореЗрдВ рдирд╛рдорд╕реНрдерд╛рди </span><span class="se">\"</span><span class="s2">kube-system</span><span class="se">\"</span><span class="s2"> рдореЗрдВ рд╕рдВрд╕рд╛рдзрди </span><span class="se">\"</span><span class="s2">services/proxy</span><span class="se">\"</span><span class="s2"> рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forbidden"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kube-dns:dns"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"services"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>рдЖрдЗрдП рдЕрднреА рдЙрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдЖрдЬрд╝рдорд╛рдПрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl apply <span class="nt">-f</span> simple_deployment.yaml
deployment.apps/nginx-deployment рдмрдирд╛рдпрд╛ рдЧрдпрд╛
</code></pre></div></div>

<p>рдереЛрдбрд╝реА рд╕рдорд╕реНрдпрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣рд╛рдВ рддрдХ рд╣рдордиреЗ <code class="language-plaintext highlighter-rouge">kubernetes</code> рдХреЛ рдЪрд▓рд╛ рд▓рд┐рдпрд╛ рд╣реИред рдкрд╣рд▓реЗ рдЗрд╕реЗ рд╕рдорд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред рдмрд╛рдж рдореЗрдВ рдлрд┐рд░ рдЦреЗрд▓реЗрдВрдЧреЗред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>minikube stop
тЬЛ  <span class="s2">"minikube"</span> рдиреЛрдб рдХреЛ рд░реЛрдХ рд░рд╣рд╛ рд╣реИ  ...
ЁЯЫС  1 рдиреЛрдб рд░реЛрдХ рджрд┐рдпрд╛ рдЧрдпрд╛ред
</code></pre></div></div>

<p>рд╕рдорд╛рдкреНрддрд┐ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>w<span class="nv">$ </span>minikube dashboard
ЁЯд╖  рдЗрд╕ рдХрдорд╛рдВрдб рдХреЗ рд▓рд┐рдП рдХрдВрдЯреНрд░реЛрд▓ рдкреНрд▓реЗрди рдиреЛрдб рдЪрд▓ рд░рд╣рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП
ЁЯСЙ  рдХреНрд▓рд╕реНрдЯрд░ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЪрд▓рд╛рдПрдВ: <span class="s2">"minikube start"</span>
</code></pre></div></div>

<h2 id="docker">Docker</h2>

<p><code class="language-plaintext highlighter-rouge">Docker</code> рдПрдХ рдХрдВрдЯреЗрдирд░ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рднреА рд╣реИ, рдЬреЛ рдЖрдзреБрдирд┐рдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдиреЗ, рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдФрд░ рдЪрд▓рд╛рдиреЗ рдореЗрдВ рддреЗрдЬреА рд▓рд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВред</p>

<p><img src="assets/images/distributed/docker.png" alt="docker" /></p>

<p>рдХреНрд▓рд╛рдЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдереЛрдбрд╝рд╛ рд▓реИрдЧ рд╣реЛ рд░рд╣рд╛ рд╣реИред рдЪрд▓реЛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред</p>

<div class="language-docker highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker
</code></pre></div></div>

<p>рдЙрдкрдпреЛрдЧ:  docker [рд╡рд┐рдХрд▓реНрдк] рдХрдорд╛рдВрдб</p>

<p>рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрд╡рдпрдВ-рдкрд░реНрдпрд╛рдкреНрдд рд░рдирдЯрд╛рдЗрдо</p>

<p>рд╡рд┐рдХрд▓реНрдк:
      тАУconfig string      рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рд╕реНрдерд╛рди (рдбрд┐рдлрд╝реЙрд▓реНрдЯ тАЬ/Users/lzw/.dockerтАЭ)
  -c, тАУcontext string     рдбреЗрдорди рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдирд╛рдо (DOCKER_HOST env var рдФрд░ тАЬdocker context useтАЭ рдХреЗ рд╕рд╛рде рд╕реЗрдЯ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд░рддрд╛ рд╣реИ)
  -D, тАУdebug              рдбрд┐рдмрдЧ рдореЛрдб рд╕рдХреНрд╖рдо рдХрд░реЗрдВ
  -H, тАУhost list          рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрдорди рд╕реЙрдХреЗрдЯ(s)
  -l, тАУlog-level string   рд▓реЙрдЧрд┐рдВрдЧ рд╕реНрддрд░ рд╕реЗрдЯ рдХрд░реЗрдВ (тАЬdebugтАЭ|тАЭinfoтАЭ|тАЭwarnтАЭ|тАЭerrorтАЭ|тАЭfatalтАЭ) (рдбрд┐рдлрд╝реЙрд▓реНрдЯ тАЬinfoтАЭ)
      тАУtls                TLS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ; тАУtlsverify рджреНрд╡рд╛рд░рд╛ рдирд┐рд╣рд┐рдд
      тАУtlscacert string   рдХреЗрд╡рд▓ рдЗрд╕ CA рджреНрд╡рд╛рд░рд╛ рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдкреНрд░рдорд╛рдгрдкрддреНрд░реЛрдВ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд░реЗрдВ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ тАЬ/Users/lzw/.docker/ca.pemтАЭ)
      тАУtlscert string     TLS рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдкрде (рдбрд┐рдлрд╝реЙрд▓реНрдЯ тАЬ/Users/lzw/.docker/cert.pemтАЭ)
      тАУtlskey string      TLS рдХреБрдВрдЬреА рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдкрде (рдбрд┐рдлрд╝реЙрд▓реНрдЯ тАЬ/Users/lzw/.docker/key.pemтАЭ)
      тАУtlsverify          TLS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рд░рд┐рдореЛрдЯ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ
  -v, тАУversion            рд╕рдВрд╕реНрдХрд░рдг рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ рдФрд░ рдмрд╛рд╣рд░ рдирд┐рдХрд▓реЗрдВ</p>

<p>рдкреНрд░рдмрдВрдзрди рдХрдорд╛рдВрдбреНрд╕:
  app*        Docker App (Docker Inc., v0.9.1-beta3)
  builder     рдмрд┐рд▓реНрдбреНрд╕ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  buildx*     BuildKit рдХреЗ рд╕рд╛рде рдмрд┐рд▓реНрдб рдХрд░реЗрдВ (Docker Inc., v0.5.1-docker)
  config      Docker рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  container   рдХрдВрдЯреЗрдирд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  context     рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  image       рдЗрдореЗрдЬ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  manifest    Docker рдЗрдореЗрдЬ рдореИрдирд┐рдлреЗрд╕реНрдЯ рдФрд░ рдореИрдирд┐рдлреЗрд╕реНрдЯ рд╕реВрдЪрд┐рдпрд╛рдБ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  network     рдиреЗрдЯрд╡рд░реНрдХ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  node        Swarm рдиреЛрдбреНрд╕ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  plugin      рдкреНрд▓рдЧрдЗрдиреНрд╕ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  scan*       Docker Scan (Docker Inc., v0.5.0)
  secret      Docker рд╕реАрдХреНрд░реЗрдЯреНрд╕ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  service     рд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  stack       Docker рд╕реНрдЯреИрдХреНрд╕ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  swarm       Swarm рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  system      Docker рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  trust       Docker рдЗрдореЗрдЬ рдкрд░ рдЯреНрд░рд╕реНрдЯ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ
  volume      рд╡реЙрд▓реНрдпреВрдо рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ</p>

<p>рдХрдорд╛рдВрдбреНрд╕:
  attach      рдПрдХ рдЪрд▓ рд░рд╣реЗ рдХрдВрдЯреЗрдирд░ рд╕реЗ рд╕реНрдерд╛рдиреАрдп рдорд╛рдирдХ рдЗрдирдкреБрдЯ, рдЖрдЙрдЯрдкреБрдЯ рдФрд░ рддреНрд░реБрдЯрд┐ рд╕реНрдЯреНрд░реАрдо рдХреЛ рдЬреЛрдбрд╝реЗрдВ
  build       Dockerfile рд╕реЗ рдПрдХ рдЗрдореЗрдЬ рдмрдирд╛рдПрдВ
  commit      рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд╣реБрдП рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рд╕реЗ рдПрдХ рдирдИ рдЗрдореЗрдЬ рдмрдирд╛рдПрдВ
  cp          рдХрдВрдЯреЗрдирд░ рдФрд░ рд╕реНрдерд╛рдиреАрдп рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмреАрдЪ рдлрд╛рдЗрд▓/рдлреЛрд▓реНрдбрд░ рдХреЙрдкреА рдХрд░реЗрдВ
  create      рдПрдХ рдирдпрд╛ рдХрдВрдЯреЗрдирд░ рдмрдирд╛рдПрдВ
  diff        рдХрдВрдЯреЗрдирд░ рдХреЗ рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдлрд╛рдЗрд▓ рдпрд╛ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рд╣реБрдП рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг рдХрд░реЗрдВ
  events      рд╕рд░реНрд╡рд░ рд╕реЗ рд░рд┐рдпрд▓ рдЯрд╛рдЗрдо рдЗрд╡реЗрдВрдЯреНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
  exec        рдПрдХ рдЪрд▓ рд░рд╣реЗ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ
  export      рдХрдВрдЯреЗрдирд░ рдХреЗ рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЛ tar рдЖрд░реНрдХрд╛рдЗрд╡ рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рд░реНрдпрд╛рдд рдХрд░реЗрдВ
  history     рдПрдХ рдЗрдореЗрдЬ рдХрд╛ рдЗрддрд┐рд╣рд╛рд╕ рджрд┐рдЦрд╛рдПрдВ
  images      рдЗрдореЗрдЬ рдХреА рд╕реВрдЪреА рджрд┐рдЦрд╛рдПрдВ
  import      рдПрдХ tarball рд╕реЗ рд╕рд╛рдордЧреНрд░реА рдЖрдпрд╛рдд рдХрд░рдХреЗ рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдЗрдореЗрдЬ рдмрдирд╛рдПрдВ
  info        рд╕рд┐рд╕реНрдЯрдо-рд╡реНрдпрд╛рдкреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ
  inspect     Docker рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдкрд░ рдирд┐рдореНрди-рд╕реНрддрд░реАрдп рдЬрд╛рдирдХрд╛рд░реА рджрд┐рдЦрд╛рдПрдВ
  kill        рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдЪрд▓ рд░рд╣реЗ рдХрдВрдЯреЗрдирд░ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░реЗрдВ
  load        tar рдЖрд░реНрдХрд╛рдЗрд╡ рдпрд╛ STDIN рд╕реЗ рдПрдХ рдЗрдореЗрдЬ рд▓реЛрдб рдХрд░реЗрдВ
  login       Docker рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░реЗрдВ
  logout      Docker рд░рдЬрд┐рд╕реНрдЯреНрд░реА рд╕реЗ рд▓реЙрдЧ рдЖрдЙрдЯ рдХрд░реЗрдВ
  logs        рдХрдВрдЯреЗрдирд░ рдХреЗ рд▓реЙрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
  pause       рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдХрдВрдЯреЗрдирд░ рдХреЗ рд╕рднреА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд░реЛрдХреЗрдВ
  port        рдХрдВрдЯреЗрдирд░ рдХреЗ рдкреЛрд░реНрдЯ рдореИрдкрд┐рдВрдЧ рдпрд╛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдореИрдкрд┐рдВрдЧ рдХреА рд╕реВрдЪреА рджрд┐рдЦрд╛рдПрдВ
  ps          рдХрдВрдЯреЗрдирд░ рдХреА рд╕реВрдЪреА рджрд┐рдЦрд╛рдПрдВ
  pull        рд░рдЬрд┐рд╕реНрдЯреНрд░реА рд╕реЗ рдПрдХ рдЗрдореЗрдЬ рдпрд╛ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ
  push        рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рдПрдХ рдЗрдореЗрдЬ рдпрд╛ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ
  rename      рдХрдВрдЯреЗрдирд░ рдХрд╛ рдирд╛рдо рдмрджрд▓реЗрдВ
  restart     рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдХрдВрдЯреЗрдирд░ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░реЗрдВ
  rm          рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдХрдВрдЯреЗрдирд░ рд╣рдЯрд╛рдПрдВ
  rmi         рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдЗрдореЗрдЬ рд╣рдЯрд╛рдПрдВ
  run         рдПрдХ рдирдП рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ
  save        рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдЗрдореЗрдЬ рдХреЛ tar рдЖрд░реНрдХрд╛рдЗрд╡ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рд╣реЗрдЬреЗрдВ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ STDOUT рдкрд░ рд╕реНрдЯреНрд░реАрдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ)
  search      Docker Hub рдкрд░ рдЗрдореЗрдЬ рдЦреЛрдЬреЗрдВ
  start       рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рд░реБрдХреЗ рд╣реБрдП рдХрдВрдЯреЗрдирд░ рд╢реБрд░реВ рдХрд░реЗрдВ
  stats       рдХрдВрдЯреЗрдирд░(рд░) рдХреЗ рд╕рдВрд╕рд╛рдзрди рдЙрдкрдпреЛрдЧ рд╕рд╛рдВрдЦреНрдпрд┐рдХреА рдХрд╛ рд▓рд╛рдЗрд╡ рд╕реНрдЯреНрд░реАрдо рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ
  stop        рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдЪрд▓ рд░рд╣реЗ рдХрдВрдЯреЗрдирд░ рдХреЛ рд░реЛрдХреЗрдВ
  tag         рдПрдХ рдЯреИрдЧ TARGET_IMAGE рдмрдирд╛рдПрдВ рдЬреЛ SOURCE_IMAGE рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИ
  top         рдХрдВрдЯреЗрдирд░ рдХреА рдЪрд▓ рд░рд╣реА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ
  unpause     рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдХрдВрдЯреЗрдирд░ рдХреЗ рд╕рднреА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдЕрдирдкреЙрдЬрд╝ рдХрд░реЗрдВ
  update      рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдХрдВрдЯреЗрдирд░ рдХреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ
  version     Docker рд╕рдВрд╕реНрдХрд░рдг рдЬрд╛рдирдХрд╛рд░реА рджрд┐рдЦрд╛рдПрдВ
  wait        рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдХрдВрдЯреЗрдирд░ рдХреЗ рд░реБрдХрдиреЗ рддрдХ рдмреНрд▓реЙрдХ рдХрд░реЗрдВ, рдлрд┐рд░ рдЙрдирдХреЗ рдПрдЧреНрдЬрд┐рдЯ рдХреЛрдб рдкреНрд░рд┐рдВрдЯ рдХрд░реЗрдВ</p>

<p>рдХрд┐рд╕реА рдХрдорд╛рдВрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП тАШdocker COMMAND тАУhelpтАЩ рдЪрд▓рд╛рдПрдВред</p>

<p>Docker рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдорджрдж рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдЧрд╛рдЗрдбреНрд╕ рджреЗрдЦреЗрдВ: https://docs.docker.com/go/guides/</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВред

```shell
$ docker run -d -p 80:80 docker/getting-started
'docker/getting-started:latest' рдЗрдореЗрдЬ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдирд╣реАрдВ рдорд┐рд▓реА
latest: docker/getting-started рд╕реЗ рдЦреАрдВрдЪрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ
aad63a933944: рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЦреАрдВрдЪрд╛ рдЧрдпрд╛
b14da7a62044: рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЦреАрдВрдЪрд╛ рдЧрдпрд╛
343784d40d66: рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЦреАрдВрдЪрд╛ рдЧрдпрд╛
6f617e610986: рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЦреАрдВрдЪрд╛ рдЧрдпрд╛
Digest: sha256:d2c4fb0641519ea208f20ab03dc40ec2a5a53fdfbccca90bef14f870158ed577
Status: docker/getting-started рдХреЗ рд▓рд┐рдП рдирдИ рдЗрдореЗрдЬ рдбрд╛рдЙрдирд▓реЛрдб рдХреА рдЧрдИ
815f13fc8f99f6185257980f74c349e182842ca572fe60ff62cbb15641199eaf
docker: рдбреЗрдорди рд╕реЗ рддреНрд░реБрдЯрд┐ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛: рдкреЛрд░реНрдЯ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИрдВ: listen tcp 0.0.0.0:80: bind: рдкрддрд╛ рдкрд╣рд▓реЗ рд╕реЗ рдЙрдкрдпреЛрдЧ рдореЗрдВ рд╣реИред
</code></pre></div></div>

<p>рдкреЛрд░реНрдЯ рдмрджрд▓реЗрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 8080:80 docker/getting-started
45bb95fa1ae80adc05cc498a1f4f339c45c51f7a8ae1be17f5b704853a5513a5
</code></pre></div></div>

<p><img src="assets/images/distributed/docker_run.png" alt="docker_run" /></p>

<p>рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЦреЛрд▓реЗрдВ, рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рд╣рдордиреЗ <code class="language-plaintext highlighter-rouge">docker</code> рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЪрд▓рд╛ рджрд┐рдпрд╛ рд╣реИред</p>

<p><img src="assets/images/distributed/browser.png" alt="рдмреНрд░рд╛рдЙрдЬрд╝рд░" /></p>

<p>рдХрдВрдЯреЗрдирд░ рдХреЛ рд░реЛрдХреЗрдВред рдкрд╣рд▓реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЧрдП <code class="language-plaintext highlighter-rouge">ID</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker stop 45bb95fa1ae80adc05cc498a1f4f339c45c51f7a8ae1be17f5b704853a5513a5
45bb95fa1ae80adc05cc498a1f4f339c45c51f7a8ae1be17f5b704853a5513a5
</code></pre></div></div>

<p>рдЗрд╕ рд╕рдордп рд╡реЗрдмрд╕рд╛рдЗрдЯ рдЦреЛрд▓рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рдерд╛ред</p>

<p>рдЗрд╕рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ <code class="language-plaintext highlighter-rouge">docker</code> рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреА рддрд░рд╣ рд╣реИред</p>

<h2 id="flink">Flink</h2>

<p>рд╡реЗрдмрд╕рд╛рдЗрдЯ рдЦреЛрд▓реЗрдВред</p>

<p><img src="assets/images/distributed/flink-home-graphic.png" alt="flink-home-graphic" /></p>

<p><code class="language-plaintext highlighter-rouge">Flink</code> рдХреЛ рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░реАрдо рдХреЗ <code class="language-plaintext highlighter-rouge">Stateful</code> рдХрдВрдкреНрдпреВрдЯреЗрд╢рди рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред <code class="language-plaintext highlighter-rouge">Stateful</code> рдХрд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ? рдЕрднреА рддрдХ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрдпрд╛ред рдКрдкрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдЪрд┐рддреНрд░ рдмрд╣реБрдд рджрд┐рд▓рдЪрд╕реНрдк рд╣реИред рдЖрдЗрдП рдЗрд╕реЗ рдЖрдЬрд╝рдорд╛рдПрдВред</p>

<p>рдпрд╣ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ Java рд╡рд╛рддрд╛рд╡рд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>java <span class="nt">-version</span>
java version <span class="s2">"1.8.0_151"</span>
Java<span class="o">(</span>TM<span class="o">)</span> SE Runtime Environment <span class="o">(</span>build 1.8.0_151-b12<span class="o">)</span>
Java HotSpot<span class="o">(</span>TM<span class="o">)</span> 64-Bit Server VM <span class="o">(</span>build 25.151-b12, mixed mode<span class="o">)</span>
</code></pre></div></div>

<p>рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг <code class="language-plaintext highlighter-rouge">flink-1.12.2-bin-scala_2.11.tar</code> рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./bin/start-cluster.sh
рдХреНрд▓рд╕реНрдЯрд░ рд╢реБрд░реВ рдХрд░ рд░рд╣рд╛ рд╣реИред
рд╣реЛрд╕реНрдЯ lzwjava рдкрд░ рд╕реНрдЯреИрдВрдбрдЕрд▓реЛрдирд╕реЗрд╢рди рдбреЗрдорди рд╢реБрд░реВ рдХрд░ рд░рд╣рд╛ рд╣реИред
рд╣реЛрд╕реНрдЯ lzwjava рдкрд░ рдЯрд╛рд╕реНрдХрдПрдХреНрдЬреАрдХреНрдпреВрдЯрд░ рдбреЗрдорди рд╢реБрд░реВ рдХрд░ рд░рд╣рд╛ рд╣реИред
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./bin/flink run examples/streaming/WordCount.jar
рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдХреЗ рд╕рд╛рде WordCount рдЙрджрд╛рд╣рд░рдг рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИред
рдлрд╝рд╛рдЗрд▓ рдЗрдирдкреБрдЯ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <span class="nt">--input</span> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
рдкрд░рд┐рдгрд╛рдо рдХреЛ stdout рдкрд░ рдкреНрд░рд┐рдВрдЯ рдХрд░ рд░рд╣рд╛ рд╣реИред рдЖрдЙрдЯрдкреБрдЯ рдкрде рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <span class="nt">--output</span> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
JobID 60f37647c20c2a6654359bd34edab807 рдХреЗ рд╕рд╛рде рдЬреЙрдм рд╕рдмрдорд┐рдЯ рдХреА рдЧрдИ рд╣реИред
рдкреНрд░реЛрдЧреНрд░рд╛рдо рдирд┐рд╖реНрдкрд╛рджрди рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдпрд╛ рд╣реИред
JobID 60f37647c20c2a6654359bd34edab807 рдХреЗ рд╕рд╛рде рдЬреЙрдм рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдИ рд╣реИред
рдЬреЙрдм рд░рдирдЯрд╛рдЗрдо: 757 рдорд┐рд▓реАрд╕реЗрдХрдВрдб
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">tail </span>log/flink-<span class="k">*</span><span class="nt">-taskexecutor-</span><span class="k">*</span>.out
<span class="o">(</span>nymph,1<span class="o">)</span>
<span class="o">(</span><span class="k">in</span>,3<span class="o">)</span>
<span class="o">(</span>thy,1<span class="o">)</span>
<span class="o">(</span>orisons,1<span class="o">)</span>
<span class="o">(</span>be,4<span class="o">)</span>
<span class="o">(</span>all,2<span class="o">)</span>
<span class="o">(</span>my,1<span class="o">)</span>
<span class="o">(</span>sins,1<span class="o">)</span>
<span class="o">(</span>remember,1<span class="o">)</span>
<span class="o">(</span>d,4<span class="o">)</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./bin/stop-cluster.sh
рдЯрд╛рд╕реНрдХрдПрдХреНрдЬрд╝реАрдХреНрдпреВрдЯрд░ рдбреЗрдорди <span class="o">(</span>pid: 41812<span class="o">)</span> рдХреЛ рд╣реЛрд╕реНрдЯ lzwjava рдкрд░ рд░реЛрдХ рд░рд╣рд╛ рд╣реИред
</code></pre></div></div>

<p>рд╣рд╛рдБ, рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╢реБрд░реБрдЖрдд рдХреАред рдпрд╣ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ <code class="language-plaintext highlighter-rouge">Spark</code> рдХреЗ рд╕рдорд╛рди рд╣реИред</p>

<h2 id="рдХрд╛рдЗрд▓рд┐рди">рдХрд╛рдЗрд▓рд┐рди</h2>

<p>рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдПред</p>

<blockquote>
  <p>Apache KylinтДв рдПрдХ рдУрдкрди рд╕реЛрд░реНрд╕, рд╡рд┐рддрд░рд┐рдд рд╡рд┐рд╢реНрд▓реЗрд╖рдгрд╛рддреНрдордХ рдбреЗрдЯрд╛ рд╡реЗрдпрд░рд╣рд╛рдЙрд╕ рд╣реИ рдЬреЛ рдмрд┐рдЧ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ; рдпрд╣ рдмрд┐рдЧ рдбреЗрдЯрд╛ рдпреБрдЧ рдореЗрдВ OLAP (рдСрдирд▓рд╛рдЗрди рд╡рд┐рд╢реНрд▓реЗрд╖рдгрд╛рддреНрдордХ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг) рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ред Hadoop рдФрд░ Spark рдкрд░ рдорд▓реНрдЯреА-рдбрд╛рдпрдореЗрдВрд╢рдирд▓ рдХреНрдпреВрдм рдФрд░ рдкреНрд░реАрдХреИрд▓рдХреБрд▓реЗрд╢рди рддрдХрдиреАрдХ рдХреЛ рдирд╡реАрдиреАрдХреГрдд рдХрд░рдХреЗ, Kylin рд▓рдЧрд╛рддрд╛рд░ рдмрдврд╝рддреЗ рдбреЗрдЯрд╛ рд╡реЙрд▓реНрдпреВрдо рдХреЗ рдмрд╛рд╡рдЬреВрдж рд▓рдЧрднрдЧ рд╕реНрдерд┐рд░ рдХреНрд╡реЗрд░реА рдЧрддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИред рдХреНрд╡реЗрд░реА рд╡рд┐рд▓рдВрдмрддрд╛ рдХреЛ рдорд┐рдирдЯреЛрдВ рд╕реЗ рд╕рдм-рд╕реЗрдХрдВрдб рддрдХ рдХрдо рдХрд░рдХреЗ, Kylin рдСрдирд▓рд╛рдЗрди рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ рдХреЛ рдмрд┐рдЧ рдбреЗрдЯрд╛ рдореЗрдВ рд╡рд╛рдкрд╕ рд▓рд╛рддрд╛ рд╣реИред</p>
</blockquote>

<blockquote>
  <p>Apache KylinтДв рдЖрдкрдХреЛ 3 рдЪрд░рдгреЛрдВ рдореЗрдВ рд╕рдм-рд╕реЗрдХрдВрдб рд▓реЗрдЯреЗрдВрд╕реА рдкрд░ рдЕрд░рдмреЛрдВ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдХреНрд╡реЗрд░реА рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рджреЗрддрд╛ рд╣реИред</p>

  <ol>
    <li>Hadoop рдкрд░ рдПрдХ Star/Snowflake Schema рдХреА рдкрд╣рдЪрд╛рди рдХрд░реЗрдВред</li>
    <li>рдкрд╣рдЪрд╛рдиреЗ рдЧрдП рдЯреЗрдмрд▓реНрд╕ рд╕реЗ Cube рдмрдирд╛рдПрдВред</li>
    <li>ANSI-SQL рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреНрд╡реЗрд░реА рдХрд░реЗрдВ рдФрд░ ODBC, JDBC рдпрд╛ RESTful API рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдм-рд╕реЗрдХрдВрдб рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред</li>
  </ol>
</blockquote>

<p><img src="assets/images/distributed/kylin_diagram.png" alt="kylin_diagram" /></p>

<p>рдпрд╣ рдореВрд▓ рд░реВрдк рд╕реЗ рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рдХреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреА рдПрдХ рдкрд░рдд рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк рдмрд╣реБрдд рддреЗрдЬрд╝реА рд╕реЗ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдПрдХ рдкреБрд▓ рдХреА рддрд░рд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред</p>

<p>рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдпрд╣ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдХреЗрд╡рд▓ <code class="language-plaintext highlighter-rouge">Linux</code> рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдмрд╛рдж рдореЗрдВ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рд╕рдВрднрд╛рд▓реВрдВрдЧрд╛ред</p>

<h2 id="mongodb">MongoDB</h2>

<p>рдпрд╣ рднреА рдПрдХ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рд╣реИред рдЗрд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдХреЗ рджреЗрдЦреЗрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew tap mongodb/brew
<span class="o">==&gt;</span> mongodb/brew рдХреЛ рдЯреИрдк рдХрд░ рд░рд╣рд╛ рд╣реИ
<span class="s1">'/usr/local/Homebrew/Library/Taps/mongodb/homebrew-brew'</span> рдореЗрдВ рдХреНрд▓реЛрди рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ...
remote: рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреА рдЧрдгрдирд╛ рдХрд░ рд░рд╣рд╛ рд╣реИ: 63, рд╣реЛ рдЧрдпрд╛ред
remote: рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреА рдЧрд┐рдирддреА: 100% <span class="o">(</span>63/63<span class="o">)</span>, рд╣реЛ рдЧрдпрд╛ред
remote: рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рд╕рдВрдкреАрдбрд╝рд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИ: 100% <span class="o">(</span>62/62<span class="o">)</span>, рд╣реЛ рдЧрдпрд╛ред
remote: рдХреБрд▓ 566 <span class="o">(</span>рдбреЗрд▓реНрдЯрд╛ 21<span class="o">)</span>, рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП 6 <span class="o">(</span>рдбреЗрд▓реНрдЯрд╛ 1<span class="o">)</span>, рдкреИрдХ-рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП 503
рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд░рд╣рд╛ рд╣реИ: 100% <span class="o">(</span>566/566<span class="o">)</span>, 121.78 KiB | 335.00 KiB/s, рд╣реЛ рдЧрдпрд╛ред
рдбреЗрд▓реНрдЯрд╛ рдХреЛ рд╣рд▓ рдХрд░ рд░рд╣рд╛ рд╣реИ: 100% <span class="o">(</span>259/259<span class="o">)</span>, рд╣реЛ рдЧрдпрд╛ред
11 рдлреЙрд░реНрдореВрд▓реЗ <span class="o">(</span>39 рдлрд╛рдЗрд▓реЗрдВ, 196.2KB<span class="o">)</span> рдЯреИрдк рдХрд┐рдП рдЧрдПред
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew <span class="nb">install </span>mongodb-community@4.4
<span class="o">==&gt;</span> mongodb/brew рд╕реЗ mongodb-community рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд░рд╣рд╛ рд╣реИ
<span class="o">==&gt;</span> https://fastdl.mongodb.org/tools/db/mongodb-database-tools-macos-x86_64-100.3.0.zip рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд░рд╣рд╛ рд╣реИ
<span class="c">######################################################################## 100.0%</span>
<span class="o">==&gt;</span> https://fastdl.mongodb.org/osx/mongodb-macos-x86_64-4.4.3.tgz рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд░рд╣рд╛ рд╣реИ
<span class="c">######################################################################## 100.0%</span>
<span class="o">==&gt;</span> mongodb/brew/mongodb-community рдХреЗ рд▓рд┐рдП рдбрд┐рдкреЗрдВрдбреЗрдВрд╕реАрдЬ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд░рд╣рд╛ рд╣реИ: mongodb-database-tools
<span class="o">==&gt;</span> mongodb/brew/mongodb-community рдбрд┐рдкреЗрдВрдбреЗрдВрд╕реА: mongodb-database-tools рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд░рд╣рд╛ рд╣реИ
рддреНрд░реБрдЯрд┐: <span class="sb">`</span>brew <span class="nb">link</span><span class="sb">`</span> рдЪрд░рдг рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреВрд░рд╛ рдирд╣реАрдВ рд╣реБрдЖ
рдлреЙрд░реНрдореВрд▓рд╛ рдмрди рдЧрдпрд╛, рд▓реЗрдХрд┐рди /usr/local рдореЗрдВ рд╕рд┐рдорд▓рд┐рдВрдХ рдирд╣реАрдВ рд╣реБрдЖ
bin/bsondump рдХреЛ рд╕рд┐рдорд▓рд┐рдВрдХ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрд╛
рдЯрд╛рд░реНрдЧреЗрдЯ /usr/local/bin/bsondump
mongodb рдХрд╛ рдПрдХ рд╕рд┐рдорд▓рд┐рдВрдХ рд╣реИред рдЖрдк рдЗрд╕реЗ рдЕрдирд▓рд┐рдВрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
  brew <span class="nb">unlink </span>mongodb
</code></pre></div></div>

<p>рд▓рд┐рдВрдХ рдХреЛ рдлреЛрд░реНрд╕ рдХрд░рдиреЗ рдФрд░ рд╕рднреА рд╕рдВрдШрд░реНрд╖ рдХрд░рдиреЗ рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
  brew link тАУoverwrite mongodb-database-tools</p>

<p>рд╕рднреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдЯрд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛:
  brew link тАУoverwrite тАУdry-run mongodb-database-tools</p>

<p>рд╕рдВрднрд╛рд╡рд┐рдд рдЯрдХрд░рд╛рд╡ рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣реИрдВ:
/usr/local/bin/bsondump -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/bsondump
/usr/local/bin/mongodump -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongodump
/usr/local/bin/mongoexport -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongoexport
/usr/local/bin/mongofiles -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongofiles
/usr/local/bin/mongoimport -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongoimport
/usr/local/bin/mongorestore -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongorestore
/usr/local/bin/mongostat -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongostat
/usr/local/bin/mongotop -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongotop
==&gt; рд╕рд╛рд░рд╛рдВрд╢
ЁЯН║  /usr/local/Cellar/mongodb-database-tools/100.3.0: 13 рдлрд╝рд╛рдЗрд▓реЗрдВ, 154MB, 11 рд╕реЗрдХрдВрдб рдореЗрдВ рдмрдирд╛рдИ рдЧрдИрдВ
==&gt; mongodb/brew/mongodb-community рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИ
рддреНрд░реБрдЯрд┐: <code class="language-plaintext highlighter-rouge">brew link</code> рдЪрд░рдг рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреВрд░рд╛ рдирд╣реАрдВ рд╣реБрдЖ
рдлрд╝реЙрд░реНрдореВрд▓рд╛ рдмрди рдЧрдпрд╛, рд▓реЗрдХрд┐рди /usr/local рдореЗрдВ рд╕рд┐рдорд▓рд┐рдВрдХ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ
bin/mongo рдХреЛ рд╕рд┐рдорд▓рд┐рдВрдХ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрд╛
рд▓рдХреНрд╖реНрдп /usr/local/bin/mongo
mongodb рдХрд╛ рдПрдХ рд╕рд┐рдорд▓рд┐рдВрдХ рд╣реИред рдЖрдк рдЗрд╕реЗ рдЕрдирд▓рд┐рдВрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
  brew unlink mongodb</p>

<p>рд▓рд┐рдВрдХ рдХреЛ рдлреЛрд░реНрд╕ рдХрд░рдиреЗ рдФрд░ рд╕рднреА рд╕рдВрдШрд░реНрд╖ рдХрд░рдиреЗ рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
  brew link тАУoverwrite mongodb-community</p>

<p>рд╕рднреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛ рд╣рдЯрд╛ рджреА рдЬрд╛рдПрдВрдЧреА:
  brew link тАУoverwrite тАУdry-run mongodb-community</p>

<p>рд╕рдВрднрд╛рд╡рд┐рдд рд╕рдВрдШрд░реНрд╖ рдХрд░рдиреЗ рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣реИрдВ:
/usr/local/bin/mongo -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongo
/usr/local/bin/mongod -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongod
/usr/local/bin/mongos -&gt; /usr/local/Cellar/mongodb/3.0.7/bin/mongos
==&gt; рд╕рд╛рд╡рдзрд╛рдирд┐рдпрд╛рдБ
launchd рдХреЛ mongodb/brew/mongodb-community рдХреЛ рдЕрднреА рд╢реБрд░реВ рдХрд░рдиреЗ рдФрд░ рд▓реЙрдЧрд┐рди рдкрд░ рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
  brew services start mongodb/brew/mongodb-community
рдпрд╛, рдпрджрд┐ рдЖрдкрдХреЛ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рд╕реЗрд╡рд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛/рдЗрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИ рддреЛ рдЖрдк рд╕рд┐рд░реНрдл рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:
  mongod тАУconfig /usr/local/etc/mongod.conf
==&gt; рд╕рд╛рд░рд╛рдВрд╢
ЁЯН║  /usr/local/Cellar/mongodb-community/4.4.3: 11 рдлрд╝рд╛рдЗрд▓реЗрдВ, 156.8MB, 10 рд╕реЗрдХрдВрдб рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛
==&gt; рд╕рд╛рд╡рдзрд╛рдирд┐рдпрд╛рдБ
==&gt; mongodb-community
launchd рдХреЛ mongodb/brew/mongodb-community рдХреЛ рдЕрднреА рд╢реБрд░реВ рдХрд░рдиреЗ рдФрд░ рд▓реЙрдЧрд┐рди рдкрд░ рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
  brew services start mongodb/brew/mongodb-community
рдпрд╛, рдпрджрд┐ рдЖрдкрдХреЛ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рд╕реЗрд╡рд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛/рдЗрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИ рддреЛ рдЖрдк рд╕рд┐рд░реНрдл рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:
  mongod тАУconfig /usr/local/etc/mongod.conf</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
рдкрд╣рд▓реЗ рдореИрдВрдиреЗ рдПрдХ рдкреБрд░рд╛рдирд╛ рд╡рд░реНрдЬрди рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдпрд╛ рдерд╛ред рд▓рд┐рдВрдХ рдХреЛ рд╣рдЯрд╛ рджреЗрдВред

```shell
$ brew unlink mongodb
/usr/local/Cellar/mongodb/3.0.7 рдХреЛ рдЕрдирд▓рд┐рдВрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ... 11 рд╕рд┐рдорд▓рд┐рдВрдХ рд╣рдЯрд╛рдП рдЧрдП
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mongod <span class="nt">--version</span>
db version v4.4.3
Build Info: <span class="o">{</span>
    <span class="s2">"version"</span>: <span class="s2">"4.4.3"</span>,
    <span class="s2">"gitVersion"</span>: <span class="s2">"913d6b62acfbb344dde1b116f4161360acd8fd13"</span>,
    <span class="s2">"modules"</span>: <span class="o">[]</span>,
    <span class="s2">"allocator"</span>: <span class="s2">"system"</span>,
    <span class="s2">"environment"</span>: <span class="o">{</span>
        <span class="s2">"distarch"</span>: <span class="s2">"x86_64"</span>,
        <span class="s2">"target_arch"</span>: <span class="s2">"x86_64"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>рдлрд┐рд░ <code class="language-plaintext highlighter-rouge">mongod</code> рдЪрд▓рд╛рдХрд░ mongo рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рд░реНрд╡рд░ рд╢реБрд░реВ рдХрд░реЗрдВред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдкрд╣рд▓реА рдмрд╛рд░ рд╢реБрд░реВ рдХрд░рддреЗ рд╕рдордп рдпрд╣ рдХрд╣рд╛ рдЧрдпрд╛ рдХрд┐ <code class="language-plaintext highlighter-rouge">/data/db</code> рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИред рд╣рдо рдПрдХ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдмрдирд╛рддреЗ рд╣реИрдВ, <code class="language-plaintext highlighter-rouge">~/mongodb</code>, рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛рдмреЗрд╕ рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рдПрдЧрд╛ред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mongod <span class="nt">--dbpath</span> ~/mongodb
</code></pre></div></div>

<p>(рдпрд╣ рдХреЛрдб рдмреНрд▓реЙрдХ рд╣реИ, рдЗрд╕реЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред)</p>

<p>рдЖрдЙрдЯрдкреБрдЯ рд╣реЛрдЧрд╛:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"t"</span><span class="p">:{</span><span class="nl">"$date"</span><span class="p">:</span><span class="s2">"2021-03-11T18:17:32.838+08:00"</span><span class="p">},</span><span class="nl">"s"</span><span class="p">:</span><span class="s2">"I"</span><span class="p">,</span><span class="w">  </span><span class="nl">"c"</span><span class="p">:</span><span class="s2">"CONTROL"</span><span class="p">,</span><span class="w">  </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">23285</span><span class="p">,</span><span class="w">   </span><span class="nl">"ctx"</span><span class="p">:</span><span class="s2">"main"</span><span class="p">,</span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ TLS 1.0 рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, TLS 1.0 рдХреЛ рдЬрдмрд░рди рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП --sslDisabledProtocols 'none' рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ"</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"t"</span><span class="p">:{</span><span class="nl">"$date"</span><span class="p">:</span><span class="s2">"2021-03-11T18:17:32.842+08:00"</span><span class="p">},</span><span class="nl">"s"</span><span class="p">:</span><span class="s2">"W"</span><span class="p">,</span><span class="w">  </span><span class="nl">"c"</span><span class="p">:</span><span class="s2">"ASIO"</span><span class="p">,</span><span class="w">     </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">22601</span><span class="p">,</span><span class="w">   </span><span class="nl">"ctx"</span><span class="p">:</span><span class="s2">"main"</span><span class="p">,</span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"NetworkInterface рд╢реБрд░реВ рд╣реЛрдиреЗ рдХреЗ рджреМрд░рд╛рди рдХреЛрдИ TransportLayer рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛"</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"t"</span><span class="p">:{</span><span class="nl">"$date"</span><span class="p">:</span><span class="s2">"2021-03-11T18:17:32.842+08:00"</span><span class="p">},</span><span class="nl">"s"</span><span class="p">:</span><span class="s2">"I"</span><span class="p">,</span><span class="w">  </span><span class="nl">"c"</span><span class="p">:</span><span class="s2">"NETWORK"</span><span class="p">,</span><span class="w">  </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">4648602</span><span class="p">,</span><span class="w"> </span><span class="nl">"ctx"</span><span class="p">:</span><span class="s2">"main"</span><span class="p">,</span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"рдЕрдкреНрд░рддреНрдпрдХреНрд╖ TCP FastOpen рдЙрдкрдпреЛрдЧ рдореЗрдВ рд╣реИред"</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"t"</span><span class="p">:{</span><span class="nl">"$date"</span><span class="p">:</span><span class="s2">"2021-03-11T18:17:32.842+08:00"</span><span class="p">},</span><span class="nl">"s"</span><span class="p">:</span><span class="s2">"I"</span><span class="p">,</span><span class="w">  </span><span class="nl">"c"</span><span class="p">:</span><span class="s2">"STORAGE"</span><span class="p">,</span><span class="w">  </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">4615611</span><span class="p">,</span><span class="w"> </span><span class="nl">"ctx"</span><span class="p">:</span><span class="s2">"initandlisten"</span><span class="p">,</span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"MongoDB рд╢реБрд░реВ рд╣реЛ рд░рд╣рд╛ рд╣реИ"</span><span class="p">,</span><span class="nl">"attr"</span><span class="p">:{</span><span class="nl">"pid"</span><span class="p">:</span><span class="mi">46256</span><span class="p">,</span><span class="nl">"port"</span><span class="p">:</span><span class="mi">27017</span><span class="p">,</span><span class="nl">"dbPath"</span><span class="p">:</span><span class="s2">"/Users/lzw/mongodb"</span><span class="p">,</span><span class="nl">"architecture"</span><span class="p">:</span><span class="s2">"64-bit"</span><span class="p">,</span><span class="nl">"host"</span><span class="p">:</span><span class="s2">"lzwjava"</span><span class="p">}}</span><span class="w">
</span><span class="p">{</span><span class="nl">"t"</span><span class="p">:{</span><span class="nl">"$date"</span><span class="p">:</span><span class="s2">"2021-03-11T18:17:32.842+08:00"</span><span class="p">},</span><span class="nl">"s"</span><span class="p">:</span><span class="s2">"I"</span><span class="p">,</span><span class="w">  </span><span class="nl">"c"</span><span class="p">:</span><span class="s2">"CONTROL"</span><span class="p">,</span><span class="w">  </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">23403</span><span class="p">,</span><span class="w">   </span><span class="nl">"ctx"</span><span class="p">:</span><span class="s2">"initandlisten"</span><span class="p">,</span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"рдмрд┐рд▓реНрдб рдЬрд╛рдирдХрд╛рд░реА"</span><span class="p">,</span><span class="nl">"attr"</span><span class="p">:{</span><span class="nl">"buildInfo"</span><span class="p">:{</span><span class="nl">"version"</span><span class="p">:</span><span class="s2">"4.4.3"</span><span class="p">,</span><span class="nl">"gitVersion"</span><span class="p">:</span><span class="s2">"913d6b62acfbb344dde1b116f4161360acd8fd13"</span><span class="p">,</span><span class="nl">"modules"</span><span class="p">:[],</span><span class="nl">"allocator"</span><span class="p">:</span><span class="s2">"system"</span><span class="p">,</span><span class="nl">"environment"</span><span class="p">:{</span><span class="nl">"distarch"</span><span class="p">:</span><span class="s2">"x86_64"</span><span class="p">,</span><span class="nl">"target_arch"</span><span class="p">:</span><span class="s2">"x86_64"</span><span class="p">}}}}</span><span class="w">
</span><span class="p">{</span><span class="nl">"t"</span><span class="p">:{</span><span class="nl">"$date"</span><span class="p">:</span><span class="s2">"2021-03-11T18:17:32.843+08:00"</span><span class="p">},</span><span class="nl">"s"</span><span class="p">:</span><span class="s2">"I"</span><span class="p">,</span><span class="w">  </span><span class="nl">"c"</span><span class="p">:</span><span class="s2">"CONTROL"</span><span class="p">,</span><span class="w">  </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">51765</span><span class="p">,</span><span class="w">   </span><span class="nl">"ctx"</span><span class="p">:</span><span class="s2">"initandlisten"</span><span class="p">,</span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо"</span><span class="p">,</span><span class="nl">"attr"</span><span class="p">:{</span><span class="nl">"os"</span><span class="p">:{</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Mac OS X"</span><span class="p">,</span><span class="nl">"version"</span><span class="p">:</span><span class="s2">"20.3.0"</span><span class="p">}}}</span><span class="w">
</span><span class="err">...</span><span class="w">
</span></code></pre></div></div>

<p>рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╕рднреА <code class="language-plaintext highlighter-rouge">JSON</code> рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╣реИрдВред MongoDB рдореЗрдВ рд╕рднреА рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓реЗрдВ <code class="language-plaintext highlighter-rouge">JSON</code> рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╕рд╣реЗрдЬреА рдЬрд╛рддреА рд╣реИрдВред рдЗрд╕рдХреЗ рдмрд╛рдж, рдПрдХ рдФрд░ рдЯрд░реНрдорд┐рдирд▓ рдЯреИрдм рдЦреЛрд▓реЗрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mongo
MongoDB shell version v4.4.3
connecting to: mongodb://127.0.0.1:27017/?compressors<span class="o">=</span>disabled&amp;gssapiServiceName<span class="o">=</span>mongodb
Implicit session: session <span class="o">{</span> <span class="s2">"id"</span> : UUID<span class="o">(</span><span class="s2">"4f55c561-70d3-4289-938d-4b90a284891f"</span><span class="o">)</span> <span class="o">}</span>
MongoDB server version: 4.4.3
<span class="nt">---</span>
рд╕рд░реНрд╡рд░ рдиреЗ рдмреВрдЯ рд╣реЛрддреЗ рд╕рдордп рдпреЗ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдЪреЗрддрд╛рд╡рдирд┐рдпрд╛рдБ рдЙрддреНрдкрдиреНрди рдХреАрдВ:
        2021-03-11T18:17:33.743+08:00: рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИред рдбреЗрдЯрд╛ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рддрдХ рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреА рдкрд╣реБрдВрдЪ рдЕрд╕реАрдорд┐рдд рд╣реИ
        2021-03-11T18:17:33.743+08:00: рдпрд╣ рд╕рд░реНрд╡рд░ рд▓реЛрдХрд▓рд╣реЛрд╕реНрдЯ рд╕реЗ рдмрдВрдзрд╛ рд╣реБрдЖ рд╣реИред рджреВрд░рд╕реНрде рд╕рд┐рд╕реНрдЯрдо рдЗрд╕ рд╕рд░реНрд╡рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗред рд╕рд░реНрд╡рд░ рдХреЛ <span class="nt">--bind_ip</span> &lt;address&gt; рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдпрд╣ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХреЗрдВ рдХрд┐ рдпрд╣ рдХрд┐рди IP рдкрддреЛрдВ рд╕реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдВ рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╛ <span class="nt">--bind_ip_all</span> рдХреЗ рд╕рд╛рде рд╕рднреА рдЗрдВрдЯрд░рдлреЗрд╕ рд╕реЗ рдмрдВрдзреЗред рдпрджрд┐ рдпрд╣ рд╡реНрдпрд╡рд╣рд╛рд░ рд╡рд╛рдВрдЫрд┐рдд рд╣реИ, рддреЛ рд╕рд░реНрд╡рд░ рдХреЛ <span class="nt">--bind_ip</span> 127.0.0.1 рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЗрд╕ рдЪреЗрддрд╛рд╡рдиреА рдХреЛ рдЕрдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ
        2021-03-11T18:17:33.743+08:00: рд╕реЙрдлреНрдЯ rlimits рдмрд╣реБрдд рдХрдо рд╣реИрдВ
        2021-03-11T18:17:33.743+08:00:         currentValue: 4864
        2021-03-11T18:17:33.743+08:00:         recommendedMinimum: 64000
<span class="nt">---</span>
<span class="nt">---</span>
        MongoDB рдХреЗ рдореБрдлреНрдд рдХреНрд▓рд╛рдЙрдб-рдЖрдзрд╛рд░рд┐рдд рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рд╕реЗрд╡рд╛ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ, рдЬреЛ рдЖрдкрдХреЗ рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореЗрдЯреНрд░рд┐рдХреНрд╕ <span class="o">(</span>рдбрд┐рд╕реНрдХ рдЙрдкрдпреЛрдЧ, CPU, рдСрдкрд░реЗрд╢рди рд╕рд╛рдВрдЦреНрдпрд┐рдХреА, рдЖрджрд┐<span class="o">)</span> рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдЧрд╛ рдФрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧрд╛ред

рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдПрдХ MongoDB рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛, рдЬрд┐рд╕рдХрд╛ рдПрдХ рдпреВрдирд┐рдХ URL рдЖрдкрдХреЗ рдФрд░ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд╕реБрд▓рдн рд╣реЛрдЧрд╛, рдЬрд┐рдирдХреЗ рд╕рд╛рде рдЖрдк URL рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВред MongoDB рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрддреНрдкрд╛рдж рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рдФрд░ рдЖрдкрдХреЛ MongoDB рдЙрддреНрдкрд╛рджреЛрдВ рдФрд░ рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддрд╛ рд╣реИред

рдореБрдлреНрдд рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБ: <span class="sb">`</span>db.enableFreeMonitoring<span class="o">()</span><span class="sb">`</span>
рдЗрд╕ рдЕрдиреБрд╕реНрдорд╛рд░рдХ рдХреЛ рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдЕрдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБ: <span class="sb">`</span>db.disableFreeMonitoring<span class="o">()</span><span class="sb">`</span>
</code></pre></div></div>

<p>рдЗрд╕рдХреЗ рдмрд╛рдж, рдЖрдк рдбреЗрдЯрд╛ рдЗрдиреНрд╕рд░реНрдЯ рдХрд░рдиреЗ рдФрд░ рдбреЗрдЯрд╛ рдХреНрд╡реЗрд░реА рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> db.inventory.insertOne<span class="o">(</span>
...    <span class="o">{</span> item: <span class="s2">"canvas"</span>, qty: 100, tags: <span class="o">[</span><span class="s2">"cotton"</span><span class="o">]</span>, size: <span class="o">{</span> h: 28, w: 35.5, uom: <span class="s2">"cm"</span> <span class="o">}</span> <span class="o">}</span>
... <span class="o">)</span>
<span class="o">{</span>
	<span class="s2">"acknowledged"</span> : <span class="nb">true</span>,
	<span class="s2">"insertedId"</span> : ObjectId<span class="o">(</span><span class="s2">"6049ef91b653541cf355facb"</span><span class="o">)</span>
<span class="o">}</span>
<span class="o">&gt;</span>
<span class="o">&gt;</span> db.inventory.find<span class="o">()</span>
<span class="o">{</span> <span class="s2">"_id"</span> : ObjectId<span class="o">(</span><span class="s2">"6049ef91b653541cf355facb"</span><span class="o">)</span>, <span class="s2">"item"</span> : <span class="s2">"canvas"</span>, <span class="s2">"qty"</span> : 100, <span class="s2">"tags"</span> : <span class="o">[</span> <span class="s2">"cotton"</span> <span class="o">]</span>, <span class="s2">"size"</span> : <span class="o">{</span> <span class="s2">"h"</span> : 28, <span class="s2">"w"</span> : 35.5, <span class="s2">"uom"</span> : <span class="s2">"cm"</span> <span class="o">}</span> <span class="o">}</span>
</code></pre></div></div>

<h2 id="рдЕрдВрдд-рдореЗрдВ">рдЕрдВрдд рдореЗрдВ</h2>

<p>рдпрд╣рд╛рдБ рддрдХред рдмрд╛рдж рдореЗрдВ рд╣рдо рдЕрдиреНрдп рдЯреВрд▓реНрд╕ рдкрд░ рд╣рд╛рде рдЖрдЬрд╝рдорд╛рдПрдВрдЧреЗред рд╣рдо рдпреЗ рд╕рдм рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЗрд╕рдХрд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИред рд╢рд╛рдпрдж рдкрд╣рд▓реЗ рдПрдХ рд╕рдВрд░рдЪрдирд╛ рдмрдирд╛рдирд╛ рд╣реИред рд╣рд░ рдХрд╛рдо рдХреА рд╢реБрд░реБрдЖрдд рдореБрд╢реНрдХрд┐рд▓ рд╣реЛрддреА рд╣реИ, рдФрд░ рд╣рдордиреЗ рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╣реА рдЗрди рд╕рднреА рдХреЛ рдПрдХ рдмрд╛рд░ рдореЗрдВ рдХрд░ рд▓рд┐рдпрд╛ред рдЗрд╕рд╕реЗ рд╣рдореЗрдВ рдЖрддреНрдорд╡рд┐рд╢реНрд╡рд╛рд╕ рдорд┐рд▓рд╛ рд╣реИ, рдФрд░ рдЕрдм рдЖрдЧреЗ, рд╣рдо рдЗрди рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдХреЛ рдФрд░ рдЕрдзрд┐рдХ рдПрдХреНрд╕рдкреНрд▓реЛрд░ рдХрд░реЗрдВрдЧреЗред</p>

<h2 id="рдЕрднреНрдпрд╛рд╕">рдЕрднреНрдпрд╛рд╕</h2>

<ul>
  <li>рдЫрд╛рддреНрд░ рдКрдкрд░ рджрд┐рдП рдЧрдП рддрд░реАрдХреЗ рд╕реЗ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдПрдХреНрд╕рдкреНрд▓реЛрд░ рдХрд░реЗрдВред</li>
</ul>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-hi" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
