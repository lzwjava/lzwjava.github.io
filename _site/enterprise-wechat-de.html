<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Unternehmenswechat-Integration</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Unternehmenswechat-Integration | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Unternehmenswechat-Integration" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="de" />
<meta name="description" content="Während meiner Zeit bei ShowMeBug habe ich am Projekt zur Integration von Enterprise WeChat mitgewirkt. Dies umfasste die Integration von ShowMeBug mit Enterprise WeChat, wodurch ein nahtloser Zugriff auf technische Interview-Tools innerhalb des Enterprise WeChat-Ökosystems ermöglicht wurde. Ich nutzte Technologien wie Ruby, Ruby on Rails, PostgreSQL und das WeChat SDK, um sowohl für Interviewer als auch für Kandidaten ein reibungsloses Benutzererlebnis zu schaffen." />
<meta property="og:description" content="Während meiner Zeit bei ShowMeBug habe ich am Projekt zur Integration von Enterprise WeChat mitgewirkt. Dies umfasste die Integration von ShowMeBug mit Enterprise WeChat, wodurch ein nahtloser Zugriff auf technische Interview-Tools innerhalb des Enterprise WeChat-Ökosystems ermöglicht wurde. Ich nutzte Technologien wie Ruby, Ruby on Rails, PostgreSQL und das WeChat SDK, um sowohl für Interviewer als auch für Kandidaten ein reibungsloses Benutzererlebnis zu schaffen." />
<link rel="canonical" href="https://lzwjava.github.io/enterprise-wechat-de" />
<meta property="og:url" content="https://lzwjava.github.io/enterprise-wechat-de" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-08-05T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Unternehmenswechat-Integration" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2021-08-05T00:00:00+08:00","datePublished":"2021-08-05T00:00:00+08:00","description":"Während meiner Zeit bei ShowMeBug habe ich am Projekt zur Integration von Enterprise WeChat mitgewirkt. Dies umfasste die Integration von ShowMeBug mit Enterprise WeChat, wodurch ein nahtloser Zugriff auf technische Interview-Tools innerhalb des Enterprise WeChat-Ökosystems ermöglicht wurde. Ich nutzte Technologien wie Ruby, Ruby on Rails, PostgreSQL und das WeChat SDK, um sowohl für Interviewer als auch für Kandidaten ein reibungsloses Benutzererlebnis zu schaffen.","headline":"Unternehmenswechat-Integration","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/enterprise-wechat-de"},"url":"https://lzwjava.github.io/enterprise-wechat-de"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=2306ed78be41810c3b5d0cb43e4d2725abd6a67d">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=2306ed78be41810c3b5d0cb43e4d2725abd6a67d" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Unternehmenswechat-Integration | Original, von KI übersetzt
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/de/2021-08-05-enterprise-wechat-de.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsde2021-08-05-enterprise-wechat-de.md</span> -->
      

      <!-- <span>2021-08-05-enterprise-wechat-de.md</span> -->

      
        

        
          
          <a href="#" class="button">2021.08</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/enterprise-wechat-en" >English</option>
        <option value="/enterprise-wechat-zh" >中文</option>
        <option value="/enterprise-wechat-ja" >日本語</option>
        <option value="/enterprise-wechat-es" >Español</option>
        <option value="/enterprise-wechat-hi" >हिंदी</option>
        <option value="/enterprise-wechat-fr" >Français</option>
        <option value="/enterprise-wechat-de" selected>Deutsch</option>
        <option value="/enterprise-wechat-ar" >العربية</option>
        <option value="/enterprise-wechat-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p>Während meiner Zeit bei ShowMeBug habe ich am Projekt zur Integration von Enterprise WeChat mitgewirkt. Dies umfasste die Integration von ShowMeBug mit Enterprise WeChat, wodurch ein nahtloser Zugriff auf technische Interview-Tools innerhalb des Enterprise WeChat-Ökosystems ermöglicht wurde. Ich nutzte Technologien wie Ruby, Ruby on Rails, PostgreSQL und das WeChat SDK, um sowohl für Interviewer als auch für Kandidaten ein reibungsloses Benutzererlebnis zu schaffen.</p>

<p>Dieser Blogbeitrag wurde mit Unterstützung von KI im Februar 2025 erstellt.</p>

<hr />

<h3 id="wichtige-punkte">Wichtige Punkte</h3>
<ul>
  <li>Es scheint wahrscheinlich, dass die Integration von ShowMeBug mit Enterprise WeChat die Einrichtung eines Kontos, das Erhalten von API-Anmeldeinformationen und die Verwendung von Ruby on Rails für API-Aufrufe umfasst, basierend auf den genannten Technologien.</li>
  <li>Die Forschung legt nahe, die Enterprise WeChat API für Aufgaben wie das Senden von Nachrichten zu verwenden, wobei die Authentifizierung über Zugriffstoken erfolgt.</li>
  <li>Die Beweise deuten darauf hin, dass HTTParty in Ruby für API-Anfragen verwendet wird, mit potenzieller Nutzung von Gems wie “wechat” von Eric-Guo für eine einfachere Integration.</li>
</ul>

<h3 id="was-ist-die-integration-von-enterprise-wechat-und-showmebug">Was ist die Integration von Enterprise WeChat und ShowMeBug?</h3>
<p>Enterprise WeChat, auch bekannt als WeChat Work, ist eine Kommunikations- und Kollaborationsplattform für Unternehmen, die APIs für die Integration mit Anwendungen bietet. ShowMeBug scheint, basierend auf dem Kontext, eine Webanwendung zu sein, die mit Ruby on Rails entwickelt wurde, wahrscheinlich für technische Interviews, und die Integration zielt darauf ab, einen nahtlosen Zugriff innerhalb des Enterprise WeChat-Ökosystems zu ermöglichen.</p>

<h3 id="einrichtung-und-verwendung-der-api">Einrichtung und Verwendung der API</h3>
<p>Für die Integration benötigen Sie:</p>
<ul>
  <li>Registrieren Sie sich für ein Enterprise WeChat-Konto und verifizieren Sie Ihre Organisation, erstellen Sie dann eine Anwendung, um eine App-ID und ein App-Geheimnis zu erhalten.</li>
  <li>Verwenden Sie diese Anmeldeinformationen, um einen Zugriffstoken zu erhalten, der für API-Aufrufe erforderlich ist, indem Sie ihn von <a href="https://qyapi.weixin.qq.com/cgi-bin/gettoken">diesem Endpunkt</a> anfordern.</li>
  <li>Führen Sie API-Aufrufe durch, wie das Senden von Nachrichten, mit dem Zugriffstoken und Endpunkten wie <a href="https://qyapi.weixin.qq.com/cgi-bin/message.send">message.send</a>.</li>
</ul>

<h3 id="beispiel-in-ruby-on-rails">Beispiel in Ruby on Rails</h3>
<p>So könnten Sie es implementieren:</p>
<ul>
  <li>Installieren Sie das HTTParty-Gem für HTTP-Anfragen.</li>
  <li>Erstellen Sie eine Klasse zur Verwaltung von Zugriffstoken, indem Sie diese zwischenspeichern, um häufige Anfragen zu vermeiden.</li>
  <li>Verwenden Sie eine Methode zum Senden von Nachrichten und stellen Sie sicher, dass Platzhalter wie “YOUR_AGENT_ID” durch tatsächliche Werte aus Ihrer Enterprise WeChat-Konsole ersetzt werden.</li>
</ul>

<p>Dieser Ansatz gewährleistet eine nahtlose Integration und verbessert die Kommunikation innerhalb Ihrer Organisation.</p>

<hr />

<h3 id="umfragehinweis-detaillierte-integration-von-showmebug-mit-enterprise-wechat-über-apis">Umfragehinweis: Detaillierte Integration von ShowMeBug mit Enterprise WeChat über APIs</h3>

<h4 id="einführung">Einführung</h4>
<p>Dieser Hinweis untersucht die Integration von ShowMeBug, einer hypothetischen Ruby on Rails Webanwendung für technische Interviews, mit Enterprise WeChat (WeChat Work), einer Kommunikations- und Kollaborationsplattform, die für Unternehmen entwickelt wurde. Die Integration, wie angegeben, umfasst die Verwendung von Ruby, Ruby on Rails, PostgreSQL und dem WeChat SDK, um einen nahtlosen Zugriff auf die Tools von ShowMeBug innerhalb des Enterprise WeChat-Ökosystems zu ermöglichen. Dieser Hinweis bietet eine umfassende Anleitung, die die Einrichtung, die API-Nutzung und bewährte Verfahren abdeckt, basierend auf verfügbaren Dokumentationen und Ressourcen.</p>

<h4 id="hintergrund-zu-enterprise-wechat">Hintergrund zu Enterprise WeChat</h4>
<p>Enterprise WeChat, von Tencent veröffentlicht, ist auf die interne Geschäftskommunikation zugeschnitten und bietet Funktionen wie Nachrichten, Dateifreigabe und Aufgabenverwaltung. Es bietet APIs für Entwickler, um externe Anwendungen zu integrieren, wodurch Funktionen wie benutzerdefinierte Bots und Benachrichtigungen ermöglicht werden. Die Plattform ist besonders nützlich zur Verbesserung von Organisationsabläufen, mit über 1 Milliarde monatlich aktiven Nutzern, was sie zu einem bedeutenden Werkzeug für die Geschäftsintegration macht.</p>

<h4 id="verständnis-von-showmebug-und-integrationsbedarf">Verständnis von ShowMeBug und Integrationsbedarf</h4>
<p>ShowMeBug scheint, basierend auf dem Kontext, eine Plattform für die Durchführung technischer Interviews zu sein, und die Integration mit Enterprise WeChat zielt darauf ab, deren Tools innerhalb der Plattform für einen nahtlosen Zugriff durch Interviewer und Kandidaten zu integrieren. Die Verwendung von Ruby on Rails deutet auf eine webbasierte Anwendung hin, mit PostgreSQL zur Datenspeicherung, möglicherweise für Benutzerinformationen, Interviewprotokolle oder Nachrichtenverlauf. Die Erwähnung des WeChat SDK deutet darauf hin, dass bestehende Bibliotheken für API-Interaktionen genutzt werden, was wir weiter untersuchen werden.</p>

<h4 id="einrichtung-eines-enterprise-wechat-kontos">Einrichtung eines Enterprise WeChat-Kontos</h4>
<p>Um die Integration zu beginnen, müssen Sie ein Enterprise WeChat-Konto einrichten:</p>
<ul>
  <li><strong>Registrierung und Verifizierung:</strong> Besuchen Sie die offizielle Website, registrieren Sie sich und verifizieren Sie die Identität Ihrer Organisation, ein Prozess, der möglicherweise das Einreichen von Geschäftsunterlagen umfasst.</li>
  <li><strong>Anwendungserstellung:</strong> Innerhalb des Kontos erstellen Sie eine Anwendung, um eine App-ID und ein App-Geheimnis zu erhalten, die für die API-Authentifizierung entscheidend sind. Diese Anmeldeinformationen finden Sie im Entwicklerportal von Enterprise WeChat.</li>
</ul>

<p>Diese Einrichtung stellt sicher, dass Sie die erforderlichen Berechtigungen und Anmeldeinformationen haben, um mit der API zu interagieren, ein grundlegender Schritt für die Integration.</p>

<h4 id="erhalten-von-api-anmeldeinformationen">Erhalten von API-Anmeldeinformationen</h4>
<p>Nach der Einrichtung erhalten Sie die App-ID und das App-Geheimnis aus der Enterprise WeChat-Entwicklerkonsole. Diese werden verwendet, um API-Anfragen zu authentifizieren, insbesondere um einen Zugriffstoken zu erhalten, der für die meisten API-Vorgänge erforderlich ist. Die Anmeldeinformationen sollten sicher gespeichert werden, indem Sie Umgebungsvariablen in Ihrer Ruby on Rails-Anwendung verwenden, um das Härtecodieren zu vermeiden und die Sicherheit zu erhöhen.</p>

<h4 id="verwendung-der-api-in-ruby-on-rails">Verwendung der API in Ruby on Rails</h4>
<p>Um mit der Enterprise WeChat API in einer Ruby on Rails-Anwendung zu interagieren, führen Sie HTTP-Anfragen an die API-Endpunkte aus. Das HTTParty-Gem wird für die Einfachheit bei der Handhabung von HTTP-Anfragen empfohlen. Die Integration umfasst mehrere wichtige Schritte:</p>

<h5 id="schritt-1-erhalten-eines-zugriffstokens">Schritt 1: Erhalten eines Zugriffstokens</h5>
<p>Der Zugriffstoken ist für API-Aufrufe erforderlich und wird durch eine GET-Anfrage an den Token-Endpunkt erhalten:</p>
<ul>
  <li><strong>Endpunkt:</strong> <code class="language-plaintext highlighter-rouge">https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=APPID&amp;corpsecret=APPSECRET</code></li>
  <li><strong>Antwort:</strong> Enthält den Zugriffstoken und seine Ablaufzeit (in der Regel 2 Stunden), die periodisch erneuert werden muss.</li>
</ul>

<p>Um dies in Ruby zu verwalten, können Sie eine Klasse erstellen, um das Token abzurufen und zwischenzuspeichern:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">WeChatAPI</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">app_id</span><span class="p">,</span> <span class="n">app_secret</span><span class="p">)</span>
    <span class="vi">@app_id</span> <span class="o">=</span> <span class="n">app_id</span>
    <span class="vi">@app_secret</span> <span class="o">=</span> <span class="n">app_secret</span>
    <span class="vi">@access_token</span> <span class="o">=</span> <span class="kp">nil</span>
    <span class="vi">@token_expiry</span> <span class="o">=</span> <span class="kp">nil</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">access_token</span>
    <span class="k">if</span> <span class="vi">@access_token</span> <span class="o">&amp;&amp;</span> <span class="no">Time</span><span class="p">.</span><span class="nf">current</span> <span class="o">&lt;</span> <span class="vi">@token_expiry</span>
      <span class="vi">@access_token</span>
    <span class="k">else</span>
      <span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=</span><span class="si">#{</span><span class="vi">@app_id</span><span class="si">}</span><span class="s2">&amp;corpsecret=</span><span class="si">#{</span><span class="vi">@app_secret</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">response</span><span class="p">[</span><span class="s1">'errcode'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="vi">@access_token</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">'access_token'</span><span class="p">]</span>
        <span class="vi">@token_expiry</span> <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">current</span> <span class="o">+</span> <span class="n">response</span><span class="p">[</span><span class="s1">'expires_in'</span><span class="p">].</span><span class="nf">seconds</span>
        <span class="vi">@access_token</span>
      <span class="k">else</span>
        <span class="k">raise</span> <span class="s2">"Fehler beim Abrufen des Zugriffstokens: </span><span class="si">#{</span><span class="n">response</span><span class="p">[</span><span class="s1">'errmsg'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Diese Implementierung speichert das Token zwischen, um häufige Anfragen zu vermeiden und die Leistung zu verbessern.</p>

<h5 id="schritt-2-durchführen-von-api-aufrufen">Schritt 2: Durchführen von API-Aufrufen</h5>
<p>Mit dem Zugriffstoken können Sie API-Aufrufe durchführen, wie das Senden einer Textnachricht. Der Endpunkt zum Senden von Nachrichten lautet:</p>
<ul>
  <li><strong>Endpunkt:</strong> <code class="language-plaintext highlighter-rouge">https://qyapi.weixin.qq.com/cgi-bin/message.send?access_token=ACCESSTOKEN</code></li>
  <li><strong>Payload-Beispiel:</strong>
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"touser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USERID"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msgtype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"agentid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGENTID"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello, world!"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<p>In Ruby können Sie eine Methode zum Senden von Nachrichten implementieren:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">send_message</span><span class="p">(</span><span class="n">to_user</span><span class="p">,</span> <span class="n">message_content</span><span class="p">)</span>
  <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://qyapi.weixin.qq.com/cgi-bin/message.send?access_token=</span><span class="si">#{</span><span class="n">access_token</span><span class="si">}</span><span class="s2">"</span>
  <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"touser"</span> <span class="o">=&gt;</span> <span class="n">to_user</span><span class="p">,</span>
    <span class="s2">"msgtype"</span> <span class="o">=&gt;</span> <span class="s2">"text"</span><span class="p">,</span>
    <span class="s2">"agentid"</span> <span class="o">=&gt;</span> <span class="s2">"YOUR_AGENT_ID"</span><span class="p">,</span>  <span class="c1"># Ersetzen Sie durch Ihre Agent-ID</span>
    <span class="s2">"text"</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"content"</span> <span class="o">=&gt;</span> <span class="n">message_content</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="ss">body: </span><span class="n">payload</span><span class="p">.</span><span class="nf">to_json</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">response</span><span class="p">[</span><span class="s1">'errcode'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="kp">true</span>
  <span class="k">else</span>
    <span class="kp">false</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Hier muss “YOUR_AGENT_ID” durch die tatsächliche Agent-ID aus Ihrer Enterprise WeChat-Konsole ersetzt werden, die die Anwendung identifiziert, die die Anfrage stellt.</p>

<h4 id="verwaltung-der-authentifizierung-und-tokenverwaltung">Verwaltung der Authentifizierung und Tokenverwaltung</h4>
<p>Die Gültigkeit des Zugriffstokens (in der Regel 2 Stunden) erfordert eine Verwaltung, um einen kontinuierlichen API-Zugriff sicherzustellen. Implementieren Sie einen Zeitplaner oder einen Hintergrundjob, wie Sidekiq oder Delayed Job in Rails, um das Token vor Ablauf zu erneuern. Dies stellt sicher, dass Ihre Anwendung ohne Unterbrechungen funktioniert, ein kritischer Aspekt für Produktionsumgebungen.</p>

<h4 id="best-practices-für-die-integration">Best Practices für die Integration</h4>
<p>Um eine robuste Integration sicherzustellen, beachten Sie Folgendes:</p>
<ul>
  <li><strong>Fehlerbehandlung:</strong> Überprüfen Sie immer die Fehlercodes der API-Antwort (z. B. <code class="language-plaintext highlighter-rouge">errcode</code> in der Antwort) und behandeln Sie diese entsprechend, indem Sie Fehler protokollieren.</li>
  <li><strong>Sicherheit:</strong> Speichern Sie App-ID und App-Geheimnis in Umgebungsvariablen, nicht im Quellcode, um eine Offenlegung zu verhindern. Verwenden Sie das <code class="language-plaintext highlighter-rouge">dotenv</code>-Gem von Rails zu diesem Zweck.</li>
  <li><strong>Leistung:</strong> Speichern Sie Zugriffstoken zwischen, um API-Anfragen an den Token-Endpunkt zu reduzieren, da häufige Anfragen zu einer Ratebegrenzung führen können.</li>
  <li><strong>Dokumentation:</strong> Beziehen Sie sich auf die offizielle Enterprise WeChat API-Dokumentation für Updates, beachten Sie jedoch, dass sie hauptsächlich auf Chinesisch ist und möglicherweise für englische Benutzer übersetzt werden muss.</li>
</ul>

<h4 id="rolle-von-postgresql-und-wechat-sdk">Rolle von PostgreSQL und WeChat SDK</h4>
<p>Die Erwähnung von PostgreSQL deutet darauf hin, dass es zur Speicherung von Daten in Bezug auf die Integration verwendet wird, wie Benutzerzuordnungen zwischen ShowMeBug und Enterprise WeChat, Nachrichtenprotokolle oder Interviewdaten. Diese Datenbankintegration stellt Beständigkeit und Skalierbarkeit sicher, was für die Verarbeitung großer Datenmengen entscheidend ist.</p>

<p>Das WeChat SDK bezieht sich wahrscheinlich auf Drittanbieter-Bibliotheken wie das “wechat”-Gem von Eric-Guo, das API-Interaktionen vereinfacht. Dieses Gem, das auf GitHub verfügbar ist (<a href="https://github.com/Eric-Guo/wechat">API, Befehl und Nachrichtenverarbeitung für WeChat in Rails</a>), unterstützt sowohl öffentliche als auch Unternehmenskonten und bietet Funktionen wie Nachrichtenverarbeitung und OAuth. Die Verwendung eines solchen Gems kann die Entwicklungszeit verkürzen, bietet jedoch möglicherweise weniger Anpassungsmöglichkeiten als die direkte API-Nutzung.</p>

<h4 id="alternative-vorgehensweise-verwendung-von-ruby-gems">Alternative Vorgehensweise: Verwendung von Ruby-Gems</h4>
<p>Für Entwickler, die eine einfachere Integration suchen, können Sie Ruby-Gems wie “wechat” von Eric-Guo verwenden. Installieren Sie es über:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem <span class="nb">install </span>wechat
</code></pre></div></div>
<p>Dann folgen Sie der Dokumentation des Gems für die Einrichtung, die viel der API-Komplexität abdeckt, einschließlich Tokenverwaltung und Nachrichtenversand. Dieser Ansatz ist besonders nützlich für die schnelle Entwicklung, kann jedoch die Anpassungsmöglichkeiten im Vergleich zur direkten API-Nutzung einschränken.</p>

<h4 id="schlussfolgerung">Schlussfolgerung</h4>
<p>Die Integration von ShowMeBug mit Enterprise WeChat umfasst die Einrichtung eines Kontos, das Erhalten von Anmeldeinformationen und die Verwendung von Ruby on Rails, um mit der API zu interagieren, wobei HTTParty für Anfragen und die Verwaltung von Zugriffstoken für die Authentifizierung verwendet wird. Best Practices stellen Sicherheit, Leistung und Zuverlässigkeit sicher, wobei PostgreSQL die Datenspeicherung unterstützt und die potenzielle Verwendung von Gems wie “wechat” den Prozess vereinfacht. Diese Integration verbessert die Kommunikation und Zusammenarbeit und bietet den Benutzern von ShowMeBug innerhalb des Enterprise WeChat-Ökosystems ein nahtloses Erlebnis.</p>

<h4 id="tabelle-zusammenfassung-der-integrationsschritte">Tabelle: Zusammenfassung der Integrationsschritte</h4>

<table>
  <thead>
    <tr>
      <th>Schritt</th>
      <th>Beschreibung</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Konto einrichten</td>
      <td>Registrieren, verifizieren und eine Anwendung für App-ID und Geheimnis erstellen.</td>
    </tr>
    <tr>
      <td>Anmeldeinformationen erhalten</td>
      <td>App-ID und App-Geheimnis aus der Entwicklerkonsole erhalten.</td>
    </tr>
    <tr>
      <td>Zugriffstoken erhalten</td>
      <td>Token anfordern unter <code class="language-plaintext highlighter-rouge">https://qyapi.weixin.qq.com/cgi-bin/gettoken</code>.</td>
    </tr>
    <tr>
      <td>API-Aufrufe durchführen</td>
      <td>Token für Vorgänge wie das Senden von Nachrichten über <code class="language-plaintext highlighter-rouge">https://qyapi.weixin.qq.com/cgi-bin/message.send</code> verwenden.</td>
    </tr>
    <tr>
      <td>Token verwalten</td>
      <td>Token zwischenspeichern und vor Ablauf erneuern, um kontinuierlichen Zugriff sicherzustellen.</td>
    </tr>
    <tr>
      <td>Best Practices</td>
      <td>Fehler behandeln, Anmeldeinformationen sichern, Leistung optimieren und auf Dokumentationen verweisen.</td>
    </tr>
  </tbody>
</table>

<p>Diese Tabelle fasst die wichtigsten Aktionen zusammen und stellt sicher, dass ein strukturierter Ansatz zur Integration verfolgt wird.</p>

<h4 id="wichtige-zitate">Wichtige Zitate</h4>
<ul>
  <li><a href="https://github.com/Eric-Guo/wechat">API, Befehl und Nachrichtenverarbeitung für WeChat in Rails</a></li>
</ul>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-de" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
