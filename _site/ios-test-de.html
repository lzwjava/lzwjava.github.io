<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>通过自动化测试和工具提升iOS开发</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>通过自动化测试和工具提升iOS开发 | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="通过自动化测试和工具提升iOS开发" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="de" />
<meta name="description" content="Dieser Blogbeitrag wurde mit Unterstützung von ChatGPT-4o verfasst." />
<meta property="og:description" content="Dieser Blogbeitrag wurde mit Unterstützung von ChatGPT-4o verfasst." />
<link rel="canonical" href="https://lzwjava.github.io/ios-test-de" />
<meta property="og:url" content="https://lzwjava.github.io/ios-test-de" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-04-23T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="通过自动化测试和工具提升iOS开发" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2016-04-23T00:00:00+08:00","datePublished":"2016-04-23T00:00:00+08:00","description":"Dieser Blogbeitrag wurde mit Unterstützung von ChatGPT-4o verfasst.","headline":"通过自动化测试和工具提升iOS开发","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/ios-test-de"},"url":"https://lzwjava.github.io/ios-test-de"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=79c38a330a3df5b1180ac6ea8da4e97c097ad5dc">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=79c38a330a3df5b1180ac6ea8da4e97c097ad5dc" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       通过自动化测试和工具提升iOS开发 | Original, von KI übersetzt
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/de/2016-04-23-ios-test-de.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsde2016-04-23-ios-test-de.md</span> -->
      

      <!-- <span>2016-04-23-ios-test-de.md</span> -->

      
        

        
          
          <a href="#" class="button">2016.04</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/ios-test-en" >English</option>
        <option value="/ios-test-zh" >中文</option>
        <option value="/ios-test-ja" >日本語</option>
        <option value="/ios-test-es" >Español</option>
        <option value="/ios-test-hi" >हिंदी</option>
        <option value="/ios-test-fr" >Français</option>
        <option value="/ios-test-de" selected>Deutsch</option>
        <option value="/ios-test-ar" >العربية</option>
        <option value="/ios-test-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p><em>Dieser Blogbeitrag wurde mit Unterstützung von ChatGPT-4o verfasst.</em></p>

<hr />

<h3 id="die-bedeutung-von-unit-tests">Die Bedeutung von Unit-Tests</h3>

<p>Bei LeanCloud haben wir frühzeitig in unseren Projekten Unit-Tests implementiert, was sich als äußerst wertvoll erwiesen hat. Jeder Pull-Request (PR) löst auf Jenkins Unit-Tests aus, und unser Ziel für die Testabdeckung liegt bei etwa 80%. Es gibt zwei Hauptszenarien, in denen wir Tests schreiben: zum einen, um neue Schnittstellen zu validieren, und zum anderen, um Fehler zu reproduzieren und zu beheben. Je mehr Tests wir ansammeln, desto robuster wird unsere Codebasis. Automatisierte Tests ermöglichen es uns, Code mit Zuversicht zu veröffentlichen und umzustrukturieren, ohne manuelle Überprüfungen durchführen zu müssen.</p>

<h3 id="testprozesse-und-praktische-anwendungen">Testprozesse und praktische Anwendungen</h3>
<p>Hier sind einige praktische Beispiele, wie Unit-Tests uns helfen können:</p>

<p><strong>Testprozess 1:</strong> Ein Benutzer hat gemeldet, dass beim Speichern eines Objekts mit einem Beschreibungsschlüssel ein Fehler auftritt. Ich habe einen Test geschrieben, um dieses Problem zu reproduzieren, das Problem gefunden und behoben, und diesen Test für zukünftige Überprüfungen beibehalten.</p>

<p><strong>Testprozess 2:</strong> Bei der Entwicklung einer neuen Schnittstelle habe ich nach der Implementierung des Codes entsprechende Tests geschrieben, um sicherzustellen, dass der Code ordnungsgemäß funktioniert.</p>

<p><strong>Testprozess 3:</strong> Nachdem ich den Code in <code class="language-plaintext highlighter-rouge">AVObject.m</code> geändert hatte, führte ich den Test <code class="language-plaintext highlighter-rouge">AVObjectTest.m</code> aus, um zu überprüfen, ob die Änderungen zu irgendwelchen Testfehlern führten.</p>

<p><strong>Testprozess 4:</strong> Das Einreichen eines PR löst automatische Tests auf Jenkins aus.</p>

<h3 id="vorteile-des-schreibens-von-unit-tests">Vorteile des Schreibens von Unit-Tests</h3>
<ul>
  <li><strong>Reduzierung manueller Überprüfungen:</strong> Unit-Tests sparen Zeit, indem sie manuelle Überprüfungen überflüssig machen.</li>
  <li><strong>Fehlererkennung:</strong> Probleme, die durch Codeänderungen verursacht werden, werden frühzeitig erkannt, was verhindert, dass Fehler andere Teile des Projekts beeinflussen.</li>
  <li><strong>Kollaborative Projekte:</strong> In Projekten mit mehreren Entwicklern stellen Unit-Tests Konsistenz und Zuverlässigkeit sicher, selbst wenn das Projekt an andere weitergegeben wird.</li>
  <li><strong>Hochwertige Open-Source-Projekte:</strong> Beliebte Open-Source-Projekte verfügen oft über umfangreiche Unit-Tests, was zu ihrer Zuverlässigkeit und Beliebtheit beiträgt.</li>
</ul>

<h3 id="wie-man-effektive-unit-tests-schreibt">Wie man effektive Unit-Tests schreibt</h3>
<ul>
  <li><strong>Modularer Code:</strong> Trennen Sie die Datenebene und die UI-Ebene, um das Testen zu erleichtern.</li>
  <li><strong>Maximale Abdeckung:</strong> Erzielen Sie mit minimalem Testcode die größtmögliche Abdeckung.</li>
  <li><strong>Asynchrone Verarbeitung:</strong> Stellen Sie sicher, dass die Tests asynchrone Operationen handhaben können.</li>
  <li><strong>Framework-Auswahl:</strong> Wählen Sie ein Testframework, das den Anforderungen entspricht.</li>
  <li><strong>Abdeckungsberichte:</strong> Verwenden Sie Abdeckungsberichte, um zu verstehen, welche Teile des Codes getestet wurden.</li>
</ul>

<h3 id="bewertung-von-testframeworks">Bewertung von Testframeworks</h3>
<p>Wir haben mehrere Frameworks evaluiert:</p>
<ul>
  <li><strong>Expecta:</strong> <code class="language-plaintext highlighter-rouge">expect(error).not.beNil()</code></li>
  <li><strong>Specta:</strong> <code class="language-plaintext highlighter-rouge">describe("") it("")</code></li>
  <li><strong>Kiwi:</strong> <code class="language-plaintext highlighter-rouge">describe("") it("")</code></li>
  <li>TDD- und BDD-Frameworks haben einige Einschränkungen, wie z.B. schlechte Integration mit Xcode, keine Test-Schaltfläche und die Tatsache, dass nicht alle Unit-Tests in der Seitenleiste aufgelistet sind.</li>
</ul>

<h3 id="umgang-mit-asynchronen-tests">Umgang mit asynchronen Tests</h3>
<p>Asynchrone Tests sind entscheidend für Operationen, die nicht sofort abgeschlossen sind. Stellen Sie sicher, dass Ihr Framework asynchrone Tests effektiv unterstützt. Verwenden Sie beispielsweise in XCTest <code class="language-plaintext highlighter-rouge">expectations</code>, um auf den Abschluss asynchroner Operationen zu warten, bevor Sie Assertions durchführen.</p>

<h3 id="abdeckungsberichte">Abdeckungsberichte</h3>
<p>Xcode 7 hat eine integrierte Funktion für Abdeckungsberichte eingeführt. Die Schritte zur Aktivierung sind wie folgt:</p>
<ol>
  <li>Aktivieren Sie <code class="language-plaintext highlighter-rouge">Gather Coverage Data</code> in den Scheme-Einstellungen.</li>
  <li>Führen Sie Tests für das App-Target durch, nicht für das Test-Target.</li>
</ol>

<p>Diese Funktion ermöglicht es Entwicklern, genau zu sehen, welche Codezeilen getestet wurden, und hilft dabei, nicht getestete Codeabschnitte zu identifizieren. Weitere Details finden Sie im <a href="https://www.bignerdranch.com/blog/weve-got-you-covered/">Blog von Big Nerd Ranch</a>.</p>

<h3 id="automatisierte-remote-tests-mit-jenkins">Automatisierte Remote-Tests mit Jenkins</h3>
<p>Die Einrichtung von Jenkins für automatisierte Tests umfasst mehrere Schritte:</p>
<ol>
  <li><strong>Jenkins installieren:</strong> Richten Sie Jenkins auf Ihrem lokalen Rechner oder einem Server im Rechenzentrum ein.</li>
  <li><strong>GitHub-Integration:</strong> Verwenden Sie das GitHub PR Build-Plugin, um Tests bei der Einreichung von Pull Requests auszulösen.
    <ul>
      <li>Konfigurieren Sie Webhooks, um Ereignisse an Jenkins zu senden.</li>
      <li>Stellen Sie sicher, dass Jenkins Zugriff auf den neuesten Code des Pull Requests hat.</li>
    </ul>
  </li>
  <li><strong>Testskripte:</strong> Richten Sie Testskripte in Jenkins ein, um den Testprozess zu automatisieren.
    <ul>
      <li>Stellen Sie sicher, dass Jenkins GitHub über die Testergebnisse benachrichtigen kann.</li>
      <li>Konfigurieren Sie Slack- oder E-Mail-Benachrichtigungen bei Testfehlern.</li>
    </ul>
  </li>
</ol>

<p>Die Verwendung von Jenkins für Remote-Automatisierungstests bietet alle Vorteile der automatisierten Tests, die über lokale Tests hinausgehen, indem die Tests in einer sauberen und kontrollierten Umgebung ausgeführt werden.</p>

<h3 id="remote-packaging-and-deployment">Remote Packaging and Deployment</h3>
<p>Obwohl nicht alle Projekte Remote-Packaging benötigen, kann es den Bereitstellungsprozess von SDKs und anderen wiederverwendbaren Komponenten vereinfachen. Die Schritte umfassen:</p>
<ul>
  <li>Konfiguration von Jenkins, um den Code zu lesen.</li>
  <li>Lesen der Release-Version.</li>
  <li>Entsperren des Keychains in der Befehlszeile, um auf Signaturzertifikate zuzugreifen.</li>
</ul>

<h3 id="zusätzliche-tools-und-tipps">Zusätzliche Tools und Tipps</h3>
<ul>
  <li><strong>Reveal:</strong> Analysieren der Benutzeroberfläche (UI) beliebiger Apps auf einem gejailbreakten iPhone.</li>
  <li><strong>Flex:</strong> Analysieren von Netzwerkanfragen, UI, lokalen Dateien, NSUserDefaults und Protokollen auf einem gejailbreakten iPhone.</li>
  <li><strong>Pod-Verwaltung:</strong> Lokale Pod-Nutzung, erweiterte Podfile-Konfiguration und Veröffentlichung von Pods.</li>
  <li><strong>Framework-Erstellung:</strong> Unterschiede zwischen dynamischen und statischen Bibliotheken sowie das Erstellen von Frameworks, die sowohl für Simulatoren als auch für echte Geräte geeignet sind.</li>
  <li><strong>Xcode-Tipps:</strong> Nützliche Tastenkombinationen wie Shift + Command + J, um eine Datei im Navigator anzuzeigen, oder Shift + Command + O, um schnell eine Datei zu öffnen.</li>
</ul>

<h3 id="fazit">Fazit</h3>
<p>Automatisierte Tests und geeignete Tools haben den Entwicklungsprozess erheblich verbessert. Durch die frühzeitige Einführung von Unit-Tests, die Nutzung von asynchroner Verarbeitung und die Verwendung von Abdeckungsberichten können wir zuverlässigere und besser wartbare Anwendungen erstellen. CI/CD-Tools wie Jenkins in Kombination mit Xcode-Entwicklungswerkzeugen und einer robusten Teststrategie stellen sicher, dass qualitativ hochwertige Software ausgeliefert wird.</p>

<h3 id="danksagung">Danksagung</h3>
<p>Ein besonderer Dank geht an das LeanCloud-Team und alle, die zu unserem Testprozess beigetragen haben.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-de" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
