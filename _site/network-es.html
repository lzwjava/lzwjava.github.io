<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>IP en la Nube, Interfaz de Red y Optimización de WiFi</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>IP en la Nube, Interfaz de Red y Optimización de WiFi | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="IP en la Nube, Interfaz de Red y Optimización de WiFi" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="es" />
<meta name="description" content="Tabla de Contenidos" />
<meta property="og:description" content="Tabla de Contenidos" />
<link rel="canonical" href="https://lzwjava.github.io/network-es" />
<meta property="og:url" content="https://lzwjava.github.io/network-es" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-02-08T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="IP en la Nube, Interfaz de Red y Optimización de WiFi" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2025-02-08T00:00:00+08:00","datePublished":"2025-02-08T00:00:00+08:00","description":"Tabla de Contenidos","headline":"IP en la Nube, Interfaz de Red y Optimización de WiFi","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/network-es"},"url":"https://lzwjava.github.io/network-es"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=7eb1577918d8c474772cab035a24bbb4a075bc1d">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=7eb1577918d8c474772cab035a24bbb4a075bc1d" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       IP en la Nube, Interfaz de Red y Optimización de WiFi | Original, traducido por IA
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/es/2025-02-08-network-es.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postses2025-02-08-network-es.md</span> -->
      

      <!-- <span>2025-02-08-network-es.md</span> -->

      
        

        
          
          <a href="#" class="button">2025.02</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/network-en" >English</option>
        <option value="/network-zh" >中文</option>
        <option value="/network-ja" >日本語</option>
        <option value="/network-es" selected>Español</option>
        <option value="/network-hi" >हिंदी</option>
        <option value="/network-fr" >Français</option>
        <option value="/network-de" >Deutsch</option>
        <option value="/network-ar" >العربية</option>
        <option value="/network-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h3 id="tabla-de-contenidos">Tabla de Contenidos</h3>

<ol>
  <li><a href="#ips-flotantes-en-hetzner-cloud">IPs Flotantes en Hetzner Cloud</a>
    <ul>
      <li>Comandos de Configuración de IP</li>
      <li>Configuración de Netplan</li>
      <li>Archivos de Configuración de Red</li>
    </ul>
  </li>
  <li><a href="#gestión-de-interfaces-de-red">Gestión de Interfaces de Red</a>
    <ul>
      <li>Eliminación de Interfaces TUN</li>
      <li>Monitoreo del Estado de Interfaces</li>
      <li>Solución de Problemas de Red</li>
    </ul>
  </li>
  <li><a href="#escáner-de-ips-en-lan">Escáner de IPs en LAN</a>
    <ul>
      <li>Script de Escaneo de Red en Python</li>
      <li>Descubrimiento de Hosts Multihilo</li>
      <li>Capacidades de Escaneo de Puertos</li>
      <li>Identificación de Dispositivos en Redes Locales</li>
    </ul>
  </li>
  <li><a href="#omitir-ips-locales">Omitir IPs Locales</a>
    <ul>
      <li>Configuración de Proxy para Redes Locales</li>
      <li>Cálculos de Máscara de Subred</li>
      <li>Planificación de Rangos de Red</li>
    </ul>
  </li>
  <li><a href="#conexión-ssh-usando-dirección-ipv6">Conexión SSH usando Dirección IPv6</a>
    <ul>
      <li>Configuración SSH para IPv6</li>
      <li>Gestión del Archivo de Configuración SSH</li>
      <li>Configuración de Comandos Proxy para Diferentes Tipos de Direcciones</li>
      <li>Optimización de Rendimiento</li>
    </ul>
  </li>
  <li><a href="#mejorar-la-velocidad-del-wifi">Mejorar la Velocidad del Wifi</a>
    <ul>
      <li>Rendimiento del Módem Antiguo vs. Nuevo</li>
      <li>Configuraciones de Red</li>
      <li>Modos Puente: Cableado vs. Inalámbrico</li>
      <li>Solución de Cuellos de Botella en la Red</li>
    </ul>
  </li>
  <li><a href="#reinicio-de-openwrt">Reinicio de OpenWrt</a>
    <ul>
      <li>Métodos de Reinicio mediante Interfaz Web</li>
      <li>Procedimientos de Reinicio mediante Línea de Comandos</li>
      <li>Restauración de Valores de Fábrica</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="ips-flotantes-en-hetzner-cloud">IPs Flotantes en Hetzner Cloud</h2>

<h3 id="ip">IP</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>ip addr add 78.47.144.0 dev eth0
</code></pre></div></div>

<h3 id="netplan">Netplan</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">touch</span> /etc/netplan/60-floating-ip.yaml
nano /etc/netplan/60-floating-ip.yaml
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">network</span><span class="pi">:</span>
   <span class="na">version</span><span class="pi">:</span> <span class="m">2</span>
   <span class="na">renderer</span><span class="pi">:</span> <span class="s">networkd</span>
   <span class="na">ethernets</span><span class="pi">:</span>
     <span class="na">eth0</span><span class="pi">:</span>
       <span class="na">addresses</span><span class="pi">:</span>
       <span class="pi">-</span> <span class="s">78.47.144.0/32</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>netplan apply
</code></pre></div></div>

<hr />

<h2 id="gestión-de-interfaces-de-red">Gestión de Interfaces de Red</h2>

<p>Elimina la interfaz <code class="language-plaintext highlighter-rouge">tun</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ipconfig

outline-tun0: <span class="nv">flags</span><span class="o">=</span>4305&lt;UP,POINTOPOINT,RUNNING,NOARP,MULTICAST&gt;  mtu 1500
        inet 10.0.85.1  netmask 255.255.255.255  destination 10.0.85.1
        unspec 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  txqueuelen 500  <span class="o">(</span>UNSPEC<span class="o">)</span>
        RX packets 208  bytes 8712 <span class="o">(</span>8.7 KB<span class="o">)</span>
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 385  bytes 23322 <span class="o">(</span>23.3 KB<span class="o">)</span>
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

<span class="nv">$ </span><span class="nb">sudo </span>ip <span class="nb">link </span>delete outline-tun0
</code></pre></div></div>

<hr />

<h2 id="escáner-de-ips-en-lan">Escáner de IPs en LAN</h2>

<p>Este script en Python escanea una red local en busca de direcciones IP activas. Utiliza el comando <code class="language-plaintext highlighter-rouge">ping</code> para verificar si un host es accesible y emplea multihilo para acelerar el proceso de escaneo. Un semáforo limita el número de hilos concurrentes para evitar sobrecargar el sistema. El script toma una dirección de red (por ejemplo, “192.168.1.0/24”) como entrada y muestra si cada dirección IP en la red está activa o inactiva.</p>

<p>Este script ayuda a identificar dispositivos en la red, como un enrutador TP-LINK mesh operando en modo puente cableado, mediante el escaneo de direcciones IP activas.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">ipaddress</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">argparse</span>

<span class="n">MAX_THREADS</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># Número máximo de hilos a utilizar
</span>
<span class="k">def</span> <span class="nf">is_host_up</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="s">"""
    Verifica si un host está activo usando ping o telnet.
    Si se especifica un puerto, usa telnet para verificar si el puerto está abierto.
    De lo contrario, usa ping.
    Devuelve True si el host está activo, False en caso contrario.
    """</span>
    <span class="k">if</span> <span class="n">port</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sock</span> <span class="o">=</span> <span class="n">socket</span><span class="p">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="p">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="p">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
            <span class="n">sock</span><span class="p">.</span><span class="n">settimeout</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">sock</span><span class="p">.</span><span class="n">connect_ex</span><span class="p">((</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">except</span> <span class="n">socket</span><span class="p">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">sock</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># -c 1: Envía solo 1 paquete
</span>            <span class="c1"># -W 1: Espera 1 segundo por una respuesta
</span>            <span class="n">subprocess</span><span class="p">.</span><span class="n">check_output</span><span class="p">([</span><span class="s">"ping"</span><span class="p">,</span> <span class="s">"-c"</span><span class="p">,</span> <span class="s">"1"</span><span class="p">,</span> <span class="s">"-W"</span><span class="p">,</span> <span class="s">"1"</span><span class="p">,</span> <span class="n">host</span><span class="p">],</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">except</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">CalledProcessError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">except</span> <span class="n">subprocess</span><span class="p">.</span><span class="n">TimeoutExpired</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>

<span class="k">def</span> <span class="nf">scan_ip</span><span class="p">(</span><span class="n">ip_str</span><span class="p">,</span> <span class="n">up_ips</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="s">"""
    Escanea una única dirección IP y muestra su estado.
    """</span>
    <span class="k">if</span> <span class="n">is_host_up</span><span class="p">(</span><span class="n">ip_str</span><span class="p">,</span> <span class="n">port</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">ip_str</span><span class="si">}</span><span class="s"> está activo"</span><span class="p">)</span>
        <span class="n">up_ips</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">ip_str</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">ip_str</span><span class="si">}</span><span class="s"> está inactivo"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">scan_network</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="s">"""
    Escanea una red en busca de hosts activos usando hilos, limitando el número de hilos concurrentes.
    """</span>
    <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Escaneando red: </span><span class="si">{</span><span class="n">network</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
    <span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">semaphore</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Semaphore</span><span class="p">(</span><span class="n">MAX_THREADS</span><span class="p">)</span>  <span class="c1"># Limita el número de hilos concurrentes
</span>    <span class="n">up_ips</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">scan_ip_with_semaphore</span><span class="p">(</span><span class="n">ip_str</span><span class="p">):</span>
        <span class="n">semaphore</span><span class="p">.</span><span class="n">acquire</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scan_ip</span><span class="p">(</span><span class="n">ip_str</span><span class="p">,</span> <span class="n">up_ips</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">semaphore</span><span class="p">.</span><span class="n">release</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">ip</span> <span class="ow">in</span> <span class="n">ipaddress</span><span class="p">.</span><span class="n">IPv4Network</span><span class="p">(</span><span class="n">network</span><span class="p">):</span>
        <span class="n">ip_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ip</span><span class="p">)</span>
        <span class="n">thread</span> <span class="o">=</span> <span class="n">threading</span><span class="p">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">scan_ip_with_semaphore</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">ip_str</span><span class="p">,))</span>
        <span class="n">threads</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">thread</span><span class="p">)</span>
        <span class="n">thread</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
        <span class="n">thread</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">up_ips</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s">"Escanea una red en busca de hosts activos."</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">"network"</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s">'?'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">"192.168.1.0/24"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">"La red a escanear (ejemplo: 192.168.1.0/24)"</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">"-p"</span><span class="p">,</span> <span class="s">"--port"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">"El puerto a verificar (opcional)"</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="n">network_to_scan</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">network</span>
    <span class="n">port_to_scan</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">port</span>

    <span class="n">up_ips</span> <span class="o">=</span> <span class="n">scan_network</span><span class="p">(</span><span class="n">network_to_scan</span><span class="p">,</span> <span class="n">port_to_scan</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">IPs activas:"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ip</span> <span class="ow">in</span> <span class="n">up_ips</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">ip</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="omitir-ips-locales">Omitir IPs Locales</h2>

<p>El script identifica direcciones IP activas. Para garantizar una comunicación de red adecuada, verifica que la configuración del proxy esté configurada para omitir estas IPs locales.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,127.0.0.1,localhost,<span class="k">*</span>.local,timestamp.apple.com,sequoia.apple.com,seed-sequoia.siri.apple.com, 192.168.1.0/16
</code></pre></div></div>

<hr />

<h2 id="máscaras-de-subred">Máscaras de Subred</h2>

<p>Mi segunda máquina suele estar en 192.168.1.16.</p>

<p>Por lo tanto, funciona usando el siguiente comando.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python scripts/ip_scan.py 192.168.1.0/27 <span class="nt">-p</span> 22
</code></pre></div></div>

<p>Porque 32 - 27 = 5, 2^5 = 32, por lo que intentará desde <code class="language-plaintext highlighter-rouge">192.168.1.0</code> hasta <code class="language-plaintext highlighter-rouge">192.168.1.31</code>.</p>

<p>Pero no funciona al usar <code class="language-plaintext highlighter-rouge">192.168.1.0/28</code>, porque 2^4 = 16, por lo que intentará desde <code class="language-plaintext highlighter-rouge">192.168.1.0</code> hasta <code class="language-plaintext highlighter-rouge">192.168.1.15</code>, lo que no cubre <code class="language-plaintext highlighter-rouge">192.168.1.16</code>.</p>

<hr />

<h2 id="conexión-ssh-usando-dirección-ipv6">Conexión SSH usando Dirección IPv6</h2>

<p>Estoy intentando conectarme a una máquina en Hetzner Cloud usando IPv6. <code class="language-plaintext highlighter-rouge">ssh 2a01:4f8:c17:2000::/64</code> no funciona, pero <code class="language-plaintext highlighter-rouge">ssh root@2a01:4f8:c17:2000::1</code> sí.</p>

<p>La dirección IPv6 fue copiada desde la consola de Hetzner Cloud.</p>

<p>El archivo <code class="language-plaintext highlighter-rouge">~/.ssh/config</code> se puede configurar para aplicar diferentes reglas de proxy a direcciones IPv4 e IPv6. Esta configuración permite especificar un comando proxy para direcciones IPv4 mientras se manejan las direcciones IPv6 de manera diferente.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Host 192.168.1.<span class="k">*</span>
    UseKeychain <span class="nb">yes
    </span>AddKeysToAgent <span class="nb">yes
    </span>IdentityFile ~/.ssh/id_rsa
Host <span class="k">*</span>.<span class="k">*</span>.<span class="k">*</span>.<span class="k">*</span>
    UseKeychain <span class="nb">yes
    </span>AddKeysToAgent <span class="nb">yes
    </span>IdentityFile ~/.ssh/id_rsa
    ProxyCommand corkscrew localhost 7890 %h %p
Host <span class="k">*</span>
    UseKeychain <span class="nb">yes
    </span>AddKeysToAgent <span class="nb">yes
    </span>IdentityFile ~/.ssh/id_rsa
</code></pre></div></div>

<p>Al ejecutar <code class="language-plaintext highlighter-rouge">ssh root@192.168.1.3</code>, la siguiente salida muestra cómo el cliente SSH aplica las opciones de configuración del archivo <code class="language-plaintext highlighter-rouge">~/.ssh/config</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>debug1: Leyendo datos de configuración /Users/lzwjava/.ssh/config
debug1: /Users/lzwjava/.ssh/config línea 1: Aplicando opciones para 192.168.1.<span class="k">*</span>
debug1: /Users/lzwjava/.ssh/config línea 5: Aplicando opciones para <span class="k">*</span>.<span class="k">*</span>.<span class="k">*</span>.<span class="k">*</span>
debug2: add_identity_file: ignorando clave duplicada ~/.ssh/id_rsa
debug1: /Users/lzwjava/.ssh/config línea 10: Aplicando opciones para <span class="k">*</span>
debug2: add_identity_file: ignorando clave duplicada ~/.ssh/id_rsa
debug1: Leyendo datos de configuración /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config línea 21: include /etc/ssh/ssh_config.d/<span class="k">*</span> no coincidió con ningún archivo
debug1: /etc/ssh/ssh_config línea 54: Aplicando opciones para <span class="k">*</span>
debug2: resolve_canonicalize: el nombre de host 192.168.1.3 es una dirección
debug3: expandido UserKnownHostsFile <span class="s1">'~/.ssh/known_hosts'</span> -&gt; <span class="s1">'/Users/lzwjava/.ssh/known_hosts'</span>
debug3: expandido UserKnownHostsFile <span class="s1">'~/.ssh/known_hosts2'</span> -&gt; <span class="s1">'/Users/lzwjava/.ssh/known_hosts2'</span>
debug1: El proveedor de autenticación <span class="nv">$SSH_SK_PROVIDER</span> no se resolvió<span class="p">;</span> deshabilitando
debug3: channel_clear_timeouts: limpiando
debug1: Ejecutando comando proxy: <span class="nb">exec </span>corkscrew localhost 7890 192.168.1.3 22
</code></pre></div></div>

<p>La velocidad de la conexión SSH era notablemente lenta, por lo que volví a la siguiente configuración más simple:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Host 192.168.1.<span class="k">*</span>
    UseKeychain <span class="nb">yes
    </span>AddKeysToAgent <span class="nb">yes
    </span>IdentityFile ~/.ssh/id_rsa
Host <span class="k">*</span>
    UseKeychain <span class="nb">yes
    </span>AddKeysToAgent <span class="nb">yes
    </span>IdentityFile ~/.ssh/id_rsa
    ProxyCommand corkscrew localhost 7890 %h %p
</code></pre></div></div>

<p>El problema surge al usar direcciones IPv6 con la directiva <code class="language-plaintext highlighter-rouge">ProxyCommand corkscrew localhost 7890 %h %p</code>, ya que este comando proxy puede no manejar correctamente las direcciones IPv6.</p>

<p>La configuración anterior sigue sin funcionar. Sin embargo, la siguiente sí funciona:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Host 192.168.1.<span class="k">*</span>
    UseKeychain <span class="nb">yes
    </span>AddKeysToAgent <span class="nb">yes
    </span>IdentityFile ~/.ssh/id_rsa
Host <span class="o">!</span>192.<span class="k">*</span>.<span class="k">*</span>.<span class="k">*</span>
    UseKeychain <span class="nb">yes
    </span>AddKeysToAgent <span class="nb">yes
    </span>IdentityFile ~/.ssh/id_rsa
    ProxyCommand corkscrew localhost 7890 %h %p
Host <span class="k">*</span>
    UseKeychain <span class="nb">yes
    </span>AddKeysToAgent <span class="nb">yes
    </span>IdentityFile ~/.ssh/id_rsa
</code></pre></div></div>

<hr />

<h2 id="mejorar-la-velocidad-del-wifi">Mejorar la Velocidad del Wifi</h2>

<h3 id="problemas-con-el-módem-antiguo">Problemas con el Módem Antiguo</h3>

<p>En la casa de mis padres, el módem es bastante antiguo, probablemente de unos 10 años. La configuración inicial de la red era:</p>

<p>módem -&gt; 3m inalámbrico -&gt; TP-Link AX3000 (modo puente inalámbrico) -&gt; 2m, una pared, inalámbrico -&gt; Portátil</p>

<p>Esto resultó en una baja velocidad de descarga, con un resultado en Speedtest de solo 10 Mbps.</p>

<p>Una configuración mejorada implicó el uso de una conexión por cable:</p>

<p>módem -&gt; 2m cable -&gt; TP-Link AX3000 (modo puente cableado) -&gt; 4m inalámbrico, una pared -&gt; Portátil</p>

<p>Esto mejoró la velocidad de descarga hasta 90 Mbps.</p>

<h3 id="rendimiento-del-nuevo-módem">Rendimiento del Nuevo Módem</h3>

<p>En mi propia casa, el módem es nuevo y el enrutador TP-Link funciona bien en modo puente inalámbrico. La configuración de la red es:</p>

<p>módem -&gt; 4m inalámbrico -&gt; TP-Link AX3000 (modo puente inalámbrico) -&gt; 2m inalámbrico -&gt; Portátil</p>

<p>La calidad de la red es buena.</p>

<h3 id="consejos-para-solución-de-problemas">Consejos para Solución de Problemas</h3>

<p>No hay una única solución para mejorar la velocidad del Wi-Fi. Un buen enfoque es usar un cable para probar cada parte de la red e identificar cuellos de botella. Compara las velocidades al usar una conexión por cable versus Wi-Fi. También, intenta conectar dispositivos directamente con un cable para ver si mejora el rendimiento.</p>

<hr />

<h2 id="reinicio-de-openwrt">Reinicio de OpenWrt</h2>

<h3 id="reinicio-mediante-la-interfaz-web">Reinicio mediante la Interfaz Web</h3>

<p>Se recomienda conectarse al enrutador mediante un cable Ethernet. Después de un reinicio, el SSID del Wi-Fi volverá a sus configuraciones predeterminadas, lo que puede no ser lo que esperas.</p>

<h3 id="reinicio-mediante-línea-de-comandos-ssh">Reinicio mediante Línea de Comandos (SSH)</h3>

<p>Puedes restablecer OpenWrt a sus configuraciones predeterminadas usando la interfaz de línea de comandos (SSH). Así es cómo:</p>

<ol>
  <li>Conéctate a tu enrutador OpenWrt mediante SSH.</li>
  <li>
    <p>Ejecuta el siguiente comando:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> root@OpenWrt:~# firstboot
 Esto borrará todas las configuraciones y eliminará cualquier paquete instalado. ¿Estás seguro? <span class="o">[</span>N/y]
 y
 /dev/ubi0_1 está montado como /overlay, solo se borrarán los archivos
 root@OpenWrt:~# reboot
</code></pre></div>    </div>
  </li>
  <li>El enrutador se reiniciará con los valores predeterminados.</li>
</ol>

<p><strong>Explicación de los comandos:</strong></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">firstboot</code>: Este comando inicia el proceso de reinicio, borrando todas las configuraciones y paquetes instalados.</li>
  <li><code class="language-plaintext highlighter-rouge">reboot</code>: Este comando reinicia el enrutador, aplicando el reinicio.</li>
</ul>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-es" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
