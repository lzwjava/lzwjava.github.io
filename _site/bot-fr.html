<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Construisez un Bot de Récit Alimenté par l'IA</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Construisez un Bot de Récit Alimenté par l’IA | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Construisez un Bot de Récit Alimenté par l’IA" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="fr" />
<meta name="description" content="Cet article de blog a été rédigé avec l’assistance de ChatGPT-4." />
<meta property="og:description" content="Cet article de blog a été rédigé avec l’assistance de ChatGPT-4." />
<link rel="canonical" href="https://lzwjava.github.io/bot-fr" />
<meta property="og:url" content="https://lzwjava.github.io/bot-fr" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-07-07T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Construisez un Bot de Récit Alimenté par l’IA" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2024-07-07T00:00:00+08:00","datePublished":"2024-07-07T00:00:00+08:00","description":"Cet article de blog a été rédigé avec l’assistance de ChatGPT-4.","headline":"Construisez un Bot de Récit Alimenté par l’IA","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/bot-fr"},"url":"https://lzwjava.github.io/bot-fr"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=0500cfecb335b2a1ef78ef53c43a51b0352a7daa">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=0500cfecb335b2a1ef78ef53c43a51b0352a7daa" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Construisez un Bot de Récit Alimenté par l'IA | Original, traduit par l'IA
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/fr/2024-07-07-bot-fr.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsfr2024-07-07-bot-fr.md</span> -->
      

      <!-- <span>2024-07-07-bot-fr.md</span> -->

      
        

        
          
          <a href="#" class="button">2024.07</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/bot-en" >English</option>
        <option value="/bot-zh" >中文</option>
        <option value="/bot-ja" >日本語</option>
        <option value="/bot-es" >Español</option>
        <option value="/bot-hi" >हिंदी</option>
        <option value="/bot-fr" selected>Français</option>
        <option value="/bot-de" >Deutsch</option>
        <option value="/bot-ar" >العربية</option>
        <option value="/bot-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p><em>Cet article de blog a été rédigé avec l’assistance de ChatGPT-4.</em></p>

<hr />

<h3 id="table-des-matières">Table des matières</h3>

<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#project-architecture">Architecture du projet</a>
    <ul>
      <li><a href="#backend">Backend</a>
        <ul>
          <li><a href="#flask-application-setup">Configuration de l’application Flask</a></li>
          <li><a href="#logging-and-monitoring">Journalisation et surveillance</a></li>
          <li><a href="#request-handling">Gestion des requêtes</a></li>
        </ul>
      </li>
      <li><a href="#frontend">Frontend</a>
        <ul>
          <li><a href="#react-components">Composants React</a></li>
          <li><a href="#api-integration">Intégration de l’API</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#deployment">Déploiement</a>
    <ul>
      <li><a href="#deployment-script">Script de déploiement</a></li>
      <li><a href="#elasticsearch-configuration">Configuration d’ElasticSearch</a></li>
      <li><a href="#kibana-configuration">Configuration de Kibana</a></li>
      <li><a href="#logstash-configuration">Configuration de Logstash</a></li>
    </ul>
  </li>
  <li><a href="#nginx-configuration-and-lets-encrypt-ssl-certificate">Configuration de Nginx et certificat SSL Let’s Encrypt</a>
    <ul>
      <li><a href="#define-a-map-to-handle-the-allowed-origins">Définir une carte pour gérer les origines autorisées</a></li>
      <li><a href="#redirect-http-to-https">Rediriger HTTP vers HTTPS</a></li>
      <li><a href="#main-site-configuration-for-examplecom">Configuration du site principal pour <code class="language-plaintext highlighter-rouge">example.com</code></a></li>
      <li><a href="#api-configuration-for-apiexamplecom">Configuration de l’API pour <code class="language-plaintext highlighter-rouge">api.example.com</code></a></li>
    </ul>
  </li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

<hr />

<h3 id="introduction">Introduction</h3>

<p>Cet article de blog fournit un guide complet sur l’architecture et la mise en œuvre d’une application de bot de narration alimentée par l’IA. Le projet consiste à générer des histoires personnalisées à l’aide d’une interface web. Nous utilisons Python, Flask et React pour le développement, et nous déployons sur AWS. De plus, nous utilisons Prometheus pour la surveillance, ainsi qu’ElasticSearch, Kibana et Logstash pour la gestion des logs. La gestion DNS est assurée par GoDaddy et Cloudflare, avec Nginx servant de passerelle pour la gestion des certificats SSL et des en-têtes de requêtes.</p>

<h3 id="architecture-du-projet">Architecture du Projet</h3>

<h4 id="backend">Backend</h4>

<p>Le backend du projet est construit avec Flask, un framework d’application web WSGI léger en Python. Le backend gère les requêtes API, administre la base de données, enregistre les activités de l’application et s’intègre à Prometheus pour la surveillance.</p>

<p>Voici une répartition des composants backend :</p>

<ol>
  <li>Configuration de l’application Flask :
    <ul>
      <li>L’application Flask est initialisée et configurée pour utiliser diverses extensions telles que Flask-CORS pour gérer le partage des ressources entre origines multiples (Cross-Origin Resource Sharing) et Flask-Migrate pour gérer les migrations de la base de données.</li>
      <li>Les routes de l’application sont initialisées, et CORS est activé pour autoriser les requêtes cross-origin.</li>
      <li>La base de données est initialisée avec des configurations par défaut, et un logger personnalisé est configuré pour formater les entrées de logs pour Logstash.</li>
    </ul>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
 <span class="kn">from</span> <span class="nn">flask_cors</span> <span class="kn">import</span> <span class="n">CORS</span>
 <span class="kn">from</span> <span class="nn">.routes</span> <span class="kn">import</span> <span class="n">initialize_routes</span>
 <span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">db</span><span class="p">,</span> <span class="n">insert_default_config</span>
 <span class="kn">from</span> <span class="nn">flask_migrate</span> <span class="kn">import</span> <span class="n">Migrate</span>
 <span class="kn">import</span> <span class="nn">logging</span>
 <span class="kn">from</span> <span class="nn">logging.handlers</span> <span class="kn">import</span> <span class="n">RotatingFileHandler</span>
 <span class="kn">from</span> <span class="nn">prometheus_client</span> <span class="kn">import</span> <span class="n">Counter</span><span class="p">,</span> <span class="n">generate_latest</span><span class="p">,</span> <span class="n">Gauge</span>
</code></pre></div>    </div>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">from_object</span><span class="p">(</span><span class="s">'api.config.BaseConfig'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">db</span><span class="p">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">initialize_routes</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">CORS</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">migrate</span> <span class="o">=</span> <span class="n">Migrate</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">db</span><span class="p">)</span>
</code></pre></div></div>

<ol>
  <li>Journalisation et Surveillance :
    <ul>
      <li>L’application utilise <code class="language-plaintext highlighter-rouge">RotatingFileHandler</code> pour gérer les fichiers de logs et formate les logs à l’aide d’un formateur personnalisé.</li>
      <li>Les métriques Prometheus sont intégrées à l’application pour suivre le nombre de requêtes et la latence.</li>
    </ul>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">REQUEST_COUNT</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="s">'flask_app_request_count'</span><span class="p">,</span> <span class="s">'Nombre total de requêtes de l</span><span class="se">\'</span><span class="s">application Flask'</span><span class="p">,</span> <span class="p">[</span><span class="s">'method'</span><span class="p">,</span> <span class="s">'endpoint'</span><span class="p">,</span> <span class="s">'http_status'</span><span class="p">])</span>
<span class="n">REQUEST_LATENCY</span> <span class="o">=</span> <span class="n">Gauge</span><span class="p">(</span><span class="s">'flask_app_request_latency_seconds'</span><span class="p">,</span> <span class="s">'Latence des requêtes'</span><span class="p">,</span> <span class="p">[</span><span class="s">'method'</span><span class="p">,</span> <span class="s">'endpoint'</span><span class="p">])</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">setup_loggers</span><span class="p">():</span>
        <span class="n">logstash_handler</span> <span class="o">=</span> <span class="n">RotatingFileHandler</span><span class="p">(</span><span class="s">'app.log'</span><span class="p">,</span> <span class="n">maxBytes</span><span class="o">=</span><span class="mi">100000000</span><span class="p">,</span> <span class="n">backupCount</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">logstash_handler</span><span class="p">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="p">.</span><span class="n">DEBUG</span><span class="p">)</span>
        <span class="n">logstash_formatter</span> <span class="o">=</span> <span class="n">CustomLogstashFormatter</span><span class="p">()</span>
        <span class="n">logstash_handler</span><span class="p">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">logstash_formatter</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">root_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">root_logger</span><span class="p">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="p">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">root_logger</span><span class="p">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">logstash_handler</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="n">app</span><span class="p">.</span><span class="n">logger</span><span class="p">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">logstash_handler</span><span class="p">)</span>
        <span class="n">werkzeug_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">'werkzeug'</span><span class="p">)</span>
        <span class="n">werkzeug_logger</span><span class="p">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="p">.</span><span class="n">DEBUG</span><span class="p">)</span>
        <span class="n">werkzeug_logger</span><span class="p">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">logstash_handler</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>setup_loggers()
```
</code></pre></div></div>

<ol>
  <li>Gestion des requêtes :
    <ul>
      <li>L’application capture des métriques avant et après chaque requête, générant un ID de trace pour suivre le flux des requêtes.</li>
    </ul>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">def</span> <span class="nf">generate_trace_id</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
     <span class="n">characters</span> <span class="o">=</span> <span class="n">string</span><span class="p">.</span><span class="n">ascii_letters</span> <span class="o">+</span> <span class="n">string</span><span class="p">.</span><span class="n">digits</span>
     <span class="k">return</span> <span class="s">''</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="n">characters</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">length</span><span class="p">))</span>
</code></pre></div>    </div>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">before_request</span>
<span class="k">def</span> <span class="nf">before_request</span><span class="p">():</span>
    <span class="n">request</span><span class="p">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">trace_id</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'X-Trace-Id'</span><span class="p">,</span> <span class="n">generate_trace_id</span><span class="p">())</span>
    <span class="n">g</span><span class="p">.</span><span class="n">trace_id</span> <span class="o">=</span> <span class="n">trace_id</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">after_request</span>
    <span class="k">def</span> <span class="nf">after_request</span><span class="p">(</span><span class="n">response</span><span class="p">):</span>
        <span class="n">response</span><span class="p">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'X-Trace-Id'</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span><span class="p">.</span><span class="n">trace_id</span>
        <span class="n">request_latency</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'start_time'</span><span class="p">,</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">())</span>
        <span class="n">REQUEST_COUNT</span><span class="p">.</span><span class="n">labels</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">path</span><span class="p">,</span> <span class="n">http_status</span><span class="o">=</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">).</span><span class="n">inc</span><span class="p">()</span>
        <span class="n">REQUEST_LATENCY</span><span class="p">.</span><span class="n">labels</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">path</span><span class="p">).</span><span class="nb">set</span><span class="p">(</span><span class="n">request_latency</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>
</code></pre></div></div>

<h4 id="frontend">Frontend</h4>

<p>Le frontend du projet est construit en utilisant React, une bibliothèque JavaScript pour la création d’interfaces utilisateur. Il interagit avec l’API backend pour gérer les invites d’histoires et fournit une interface utilisateur interactive pour générer et gérer des histoires personnalisées.</p>

<ol>
  <li>Composants React :
    <ul>
      <li>Le composant principal gère la saisie de l’utilisateur pour les invites d’histoire et interagit avec l’API backend pour gérer ces histoires.</li>
    </ul>
  </li>
</ol>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ToastContainer</span><span class="p">,</span> <span class="nx">toast</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-toastify</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">react-toastify/dist/ReactToastify.css</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">apiFetch</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./api</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./App.css</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">prompts</span><span class="p">,</span> <span class="nx">setPrompts</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">newPrompt</span><span class="p">,</span> <span class="nx">setNewPrompt</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isLoading</span><span class="p">,</span> <span class="nx">setIsLoading</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">fetchPrompts</span><span class="p">();</span>
<span class="p">},</span> <span class="p">[]);</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  const fetchPrompts = async () =&gt; {
    setIsLoading(true);
    try {
      const response = await apiFetch('prompts');
      if (response.ok) {
        const data = await response.json();
        setPrompts(data);
      } else {
        toast.error('Échec de la récupération des invites');
      }
    } catch (error) {
      toast.error('Une erreur s\'est produite lors de la récupération des invites');
    } finally {
      setIsLoading(false);
    }
  };

  const addPrompt = async () =&gt; {
    if (!newPrompt) {
      toast.warn('Le contenu du prompt ne peut pas être vide');
      return;
    }
    setIsLoading(true);
    try {
      const response = await apiFetch('prompts', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ content: newPrompt }),
      });
      if (response.ok) {
        fetchPrompts();
        setNewPrompt('');
        toast.success('Prompt ajouté avec succès');
      } else {
        toast.error('Échec de l\'ajout du prompt');
      }
    } catch (error) {
      toast.error('Une erreur s\'est produite lors de l\'ajout du prompt');
    } finally {
      setIsLoading(false);
    }
  };
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="kd">const</span> <span class="nx">deletePrompt</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">promptId</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="k">try</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">apiFetch</span><span class="p">(</span><span class="s2">`prompts/</span><span class="p">${</span><span class="nx">promptId</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">DELETE</span><span class="dl">'</span><span class="p">,</span>
          <span class="p">});</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fetchPrompts</span><span class="p">();</span>
            <span class="nx">toast</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="dl">'</span><span class="s1">Prompt supprimé avec succès</span><span class="dl">'</span><span class="p">);</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Échec de la suppression du prompt</span><span class="dl">'</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">toast</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Une erreur s</span><span class="se">\'</span><span class="s1">est produite lors de la suppression du prompt</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
          <span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">};</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  return (
    &lt;div className="app"&gt;
      &lt;h1&gt;Bot de Récit Alimenté par l'IA&lt;/h1&gt;
      &lt;div&gt;
        &lt;input
          type="text"
          value={newPrompt}
          onChange={(e) =&gt; setNewPrompt(e.target.value)}
          placeholder="Nouveau Prompt"
        /&gt;
        &lt;button onClick={addPrompt} disabled={isLoading}&gt;Ajouter un Prompt&lt;/button&gt;
      &lt;/div&gt;
      {isLoading ? (
        &lt;p&gt;Chargement...&lt;/p&gt;
      ) : (
        &lt;ul&gt;
          {prompts.map((prompt) =&gt; (
            &lt;li key={prompt.id}&gt;
              {prompt.content}
              &lt;button onClick={() =&gt; deletePrompt(prompt.id)}&gt;Supprimer&lt;/button&gt;
            &lt;/li&gt;
          ))}
        &lt;/ul&gt;
      )}
      &lt;ToastContainer /&gt;
    &lt;/div&gt;
  );
}
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
    <span class="s2">```

2. Intégration de l'API :
    - Le frontend interagit avec l'API backend en utilisant des requêtes fetch pour gérer les invites d'histoires.

```</span><span class="nx">javascript</span>
    <span class="k">export</span> <span class="kd">const</span> <span class="nx">apiFetch</span> <span class="o">=</span> <span class="p">(</span><span class="nx">endpoint</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`https://api.yourdomain.com/</span><span class="p">${</span><span class="nx">endpoint</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="s2">```

### Déploiement

Le projet est déployé sur AWS, avec la gestion DNS assurée par GoDaddy et Cloudflare. Nginx est utilisé comme passerelle pour la gestion des certificats SSL et des en-têtes de requêtes. Nous utilisons Prometheus pour la surveillance, ainsi qu'ElasticSearch, Kibana et Logstash pour la gestion des logs.

1. Script de déploiement :
    - Nous utilisons Fabric pour automatiser les tâches de déploiement telles que la préparation des répertoires locaux et distants, la synchronisation des fichiers et la configuration des permissions.

    ```</span><span class="nx">python</span>
    <span class="k">from</span> <span class="nx">fabric</span> <span class="k">import</span> <span class="nx">task</span>
    <span class="k">from</span> <span class="nx">fabric</span> <span class="k">import</span> <span class="nx">Connection</span>
    <span class="s2">```

```</span><span class="nx">python</span>
    <span class="nx">server_dir</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">/home/project/server</span><span class="dl">'</span>
    <span class="nx">web_tmp_dir</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">/home/project/server/tmp</span><span class="dl">'</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">@</span><span class="n">task</span>
    <span class="k">def</span> <span class="nf">prepare_remote_dirs</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="sa">f</span><span class="s">'test -d </span><span class="si">{</span><span class="n">server_dir</span><span class="si">}</span><span class="s">'</span><span class="p">,</span> <span class="n">warn</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="n">ok</span><span class="p">:</span>
            <span class="n">c</span><span class="p">.</span><span class="n">sudo</span><span class="p">(</span><span class="sa">f</span><span class="s">'mkdir -p </span><span class="si">{</span><span class="n">server_dir</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
            <span class="n">c</span><span class="p">.</span><span class="n">sudo</span><span class="p">(</span><span class="sa">f</span><span class="s">'chmod -R 755 </span><span class="si">{</span><span class="n">server_dir</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
            <span class="n">c</span><span class="p">.</span><span class="n">sudo</span><span class="p">(</span><span class="sa">f</span><span class="s">'chmod -R 777 </span><span class="si">{</span><span class="n">web_tmp_dir</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
            <span class="n">c</span><span class="p">.</span><span class="n">sudo</span><span class="p">(</span><span class="sa">f</span><span class="s">'chown -R ec2-user:ec2-user </span><span class="si">{</span><span class="n">server_dir</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">@</span><span class="n">task</span>
    <span class="k">def</span> <span class="nf">deploy</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">install</span><span class="o">=</span><span class="s">'false'</span><span class="p">):</span>
        <span class="n">prepare_remote_dirs</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">pem_file</span> <span class="o">=</span> <span class="s">'./aws-keypair.pem'</span>
        <span class="n">rsync_command</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s">'rsync -avz --exclude="api/db.sqlite3" '</span>
                         <span class="sa">f</span><span class="s">'-e "ssh -i </span><span class="si">{</span><span class="n">pem_file</span><span class="si">}</span><span class="s">" --rsync-path="sudo rsync" '</span>
                         <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">tmp_dir</span><span class="si">}</span><span class="s">/ </span><span class="si">{</span><span class="n">c</span><span class="p">.</span><span class="n">user</span><span class="si">}</span><span class="s">@</span><span class="si">{</span><span class="n">c</span><span class="p">.</span><span class="n">host</span><span class="si">}</span><span class="s">:</span><span class="si">{</span><span class="n">server_dir</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
        <span class="n">c</span><span class="p">.</span><span class="n">local</span><span class="p">(</span><span class="n">rsync_command</span><span class="p">)</span>
        <span class="n">c</span><span class="p">.</span><span class="n">sudo</span><span class="p">(</span><span class="sa">f</span><span class="s">'chown -R ec2-user:ec2-user </span><span class="si">{</span><span class="n">server_dir</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
</code></pre></div></div>

<ol>
  <li>Configuration d’ElasticSearch :
    <ul>
      <li>La configuration d’ElasticSearch inclut les paramètres pour le cluster, le nœud et les paramètres réseau.</li>
    </ul>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="na">cluster.name</span><span class="pi">:</span> <span class="s">my-application</span>
    <span class="na">node.name</span><span class="pi">:</span> <span class="s">node-1</span>
    <span class="na">path.data</span><span class="pi">:</span> <span class="s">/var/lib/elasticsearch</span>
    <span class="na">path.logs</span><span class="pi">:</span> <span class="s">/var/log/elasticsearch</span>
    <span class="na">network.host</span><span class="pi">:</span> <span class="s">0.0.0.0</span>
    <span class="na">http.port</span><span class="pi">:</span> <span class="m">9200</span>
    <span class="na">discovery.seed_hosts</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">127.0.0.1"</span><span class="pi">]</span>
    <span class="na">cluster.initial_master_nodes</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">node-1"</span><span class="pi">]</span>
</code></pre></div></div>

<ol>
  <li>Configuration de Kibana :
    <ul>
      <li>La configuration de Kibana inclut les paramètres pour le serveur et les hôtes ElasticSearch.</li>
    </ul>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">server.port</span><span class="pi">:</span> <span class="m">5601</span>
<span class="na">server.host</span><span class="pi">:</span> <span class="s2">"</span><span class="s">0.0.0.0"</span>
<span class="na">elasticsearch.hosts</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">http://localhost:9200"</span><span class="pi">]</span>
</code></pre></div></div>

<ol>
  <li>Configuration de Logstash :
    <ul>
      <li>Logstash est configuré pour lire les fichiers de journaux, les analyser, et envoyer les journaux analysés à ElasticSearch.</li>
    </ul>

    <p>```plaintext
 input {
   file {
     path =&gt; “/home/project/server/app.log”
     start_position =&gt; “beginning”
     sincedb_path =&gt; “/dev/null”
   }
 }</p>

    <p>filter {
   json {
     source =&gt; “message”
   }
 }</p>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="s">output {</span>
      <span class="s">elasticsearch {</span>
        <span class="s">hosts =&gt; ["http://localhost:9200"]</span>
        <span class="s">index =&gt; "flask-logs-%{+YYYY.MM.dd}"</span>
      <span class="s">}</span>
    <span class="s">}</span>
    <span class="s">```</span>

<span class="c1">### Configuration de Nginx et Certificat SSL Let's Encrypt</span>

<span class="s">Pour garantir une communication sécurisée, nous utilisons Nginx comme proxy inverse et Let's Encrypt pour les certificats SSL. Voici la configuration Nginx pour gérer la redirection de HTTP vers HTTPS et configurer les certificats SSL.</span>

<span class="na">1. Définissez une carte pour gérer les origines autorisées </span><span class="pi">:</span>

<span class="err">```</span><span class="s">nginx</span>
    <span class="s">map $http_origin $cors_origin {</span>
        <span class="s">default "https://example.com";</span>
        <span class="s">"http://localhost:3000" "http://localhost:3000";</span>
        <span class="s">"https://example.com" "https://example.com";</span>
        <span class="s">"https://www.example.com" "https://www.example.com";</span>
    <span class="s">}</span>
</code></pre></div></div>

<ol>
  <li>
    <p>Rediriger HTTP vers HTTPS :</p>

    <div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">server</span> <span class="p">{</span>
     <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
     <span class="kn">server_name</span> <span class="s">example.com</span> <span class="s">api.example.com</span><span class="p">;</span>
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> return 301 https://$host$request_uri;  }  ```
</code></pre></div>    </div>
  </li>
  <li>
    <p>Configuration principale du site pour <code class="language-plaintext highlighter-rouge">example.com</code> :</p>

    <div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">server</span> <span class="p">{</span>
     <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
     <span class="kn">server_name</span> <span class="s">example.com</span><span class="p">;</span>
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;
 ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;
</code></pre></div>    </div>
  </li>
</ol>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">ssl_protocols</span> <span class="s">TLSv1.2</span> <span class="s">TLSv1.3</span><span class="p">;</span>
        <span class="k">ssl_prefer_server_ciphers</span> <span class="no">on</span><span class="p">;</span>
        <span class="k">ssl_ciphers</span> <span class="s">"EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH"</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    root /home/project/web;
    index index.html index.htm index.php default.html default.htm default.php;

    location / {
        try_files $uri $uri/ =404;
    }
</code></pre></div></div>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">location</span> <span class="p">~</span> <span class="sr">.*\.(gif|jpg|jpeg|png|bmp|swf)$</span> <span class="p">{</span>
            <span class="kn">expires</span> <span class="s">30d</span><span class="p">;</span>
        <span class="p">}</span>
</code></pre></div></div>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">location</span> <span class="p">~</span> <span class="sr">.*\.(js|css)?$</span> <span class="p">{</span>
            <span class="kn">expires</span> <span class="s">12h</span><span class="p">;</span>
        <span class="p">}</span>
</code></pre></div></div>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">error_page</span> <span class="mi">404</span> <span class="n">/index.html</span><span class="p">;</span>
    <span class="err">}</span>
    <span class="k">```</span>

<span class="mi">4</span><span class="s">.</span> <span class="s">Configuration</span> <span class="s">de</span> <span class="s">l'API</span> <span class="s">pour</span> <span class="s">`api.example.com`</span> <span class="p">:</span>

    <span class="s">```nginx</span>
    <span class="s">server</span> <span class="p">{</span>
        <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
        <span class="kn">server_name</span> <span class="s">api.example.com</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ssl_certificate /etc/letsencrypt/live/example.com-0001/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/example.com-0001/privkey.pem;
</code></pre></div></div>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">ssl_protocols</span> <span class="s">TLSv1.2</span> <span class="s">TLSv1.3</span><span class="p">;</span>
        <span class="k">ssl_prefer_server_ciphers</span> <span class="no">on</span><span class="p">;</span>
        <span class="k">ssl_ciphers</span> <span class="s">"EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH"</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    location / {
        # Effacer tous les en-têtes Access-Control préexistants
        more_clear_headers 'Access-Control-Allow-Origin';
</code></pre></div></div>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="c1"># Gérer les requêtes préliminaires CORS (preflight)</span>
            <span class="k">if</span> <span class="s">(</span><span class="nv">$request_method</span> <span class="p">=</span> <span class="s">'OPTIONS')</span> <span class="p">{</span>
                <span class="kn">add_header</span> <span class="s">'Access-Control-Allow-Origin'</span> <span class="nv">$cors_origin</span><span class="p">;</span>
                <span class="kn">add_header</span> <span class="s">'Access-Control-Allow-Methods'</span> <span class="s">'GET,</span> <span class="s">POST,</span> <span class="s">OPTIONS,</span> <span class="s">PUT,</span> <span class="s">DELETE'</span><span class="p">;</span>
                <span class="kn">add_header</span> <span class="s">'Access-Control-Allow-Headers'</span> <span class="s">'Origin,</span> <span class="s">Content-Type,</span> <span class="s">Accept,</span> <span class="s">Authorization,</span> <span class="s">X-Client-Info,</span> <span class="s">X-Trace-Id,</span> <span class="s">X-Requested-With,</span> <span class="s">X-HTTP-Method-Override,</span> <span class="s">DNT,</span> <span class="s">Keep-Alive,</span> <span class="s">User-Agent,</span> <span class="s">If-Modified-Since,</span> <span class="s">Cache-Control,</span> <span class="s">Content-Range,</span> <span class="s">Range'</span><span class="p">;</span>
                <span class="kn">add_header</span> <span class="s">'Access-Control-Max-Age'</span> <span class="mi">3600</span><span class="p">;</span>
                <span class="kn">return</span> <span class="mi">204</span><span class="p">;</span>
            <span class="p">}</span>
</code></pre></div></div>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">add_header</span> <span class="s">'Access-Control-Allow-Origin'</span> <span class="nv">$cors_origin</span> <span class="s">always</span><span class="p">;</span>
<span class="k">add_header</span> <span class="s">'Access-Control-Allow-Methods'</span> <span class="s">'GET,</span> <span class="s">POST,</span> <span class="s">OPTIONS,</span> <span class="s">PUT,</span> <span class="s">DELETE'</span> <span class="s">always</span><span class="p">;</span>
<span class="k">add_header</span> <span class="s">'Access-Control-Allow-Headers'</span> <span class="s">'Origin,</span> <span class="s">Content-Type,</span> <span class="s">Accept,</span> <span class="s">Authorization,</span> <span class="s">X-Client-Info,</span> <span class="s">X-Trace-Id,</span> <span class="s">X-Requested-With,</span> <span class="s">X-HTTP-Method-Override,</span> <span class="s">DNT,</span> <span class="s">Keep-Alive,</span> <span class="s">User-Agent,</span> <span class="s">If-Modified-Since,</span> <span class="s">Cache-Control,</span> <span class="s">Content-Range,</span> <span class="s">Range'</span> <span class="s">always</span><span class="p">;</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">nginx
            proxy_pass http://127.0.0.1:5000/;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_connect_timeout 600s;
            proxy_send_timeout 600s;
            proxy_read_timeout 600s;
            send_timeout 600s;
        }
    }
   </code></p>

<h3 id="conclusion">Conclusion</h3>

<p>Ce projet met en avant une architecture robuste pour une application de bot narratif alimentée par l’IA, utilisant des pratiques et des outils modernes de développement web. Le backend est construit avec Flask, garantissant une gestion efficace des requêtes et une intégration avec divers services pour la journalisation et la surveillance. Le frontend, développé avec React, offre une interface utilisateur interactive pour la gestion des invites de récits. En exploitant AWS pour le déploiement, Nginx pour une communication sécurisée, et la stack ELK pour la gestion des logs, nous assurons une évolutivité, une fiabilité et une maintenabilité optimales. Cette configuration complète démontre la puissance de la combinaison de technologies de pointe pour offrir une expérience utilisateur fluide.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-fr" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
