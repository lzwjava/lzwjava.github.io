<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Guide Complet du Framework Spring</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Guide Complet du Framework Spring | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Guide Complet du Framework Spring" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="fr" />
<meta name="description" content="Cet article de blog a été rédigé avec l’assistance de ChatGPT-4o." />
<meta property="og:description" content="Cet article de blog a été rédigé avec l’assistance de ChatGPT-4o." />
<link rel="canonical" href="https://lzwjava.github.io/spring-fr" />
<meta property="og:url" content="https://lzwjava.github.io/spring-fr" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-02-07T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Guide Complet du Framework Spring" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2023-02-07T00:00:00+08:00","datePublished":"2023-02-07T00:00:00+08:00","description":"Cet article de blog a été rédigé avec l’assistance de ChatGPT-4o.","headline":"Guide Complet du Framework Spring","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/spring-fr"},"url":"https://lzwjava.github.io/spring-fr"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=6769c50628a20ba563d22f6ac5518c2ba1774bcc">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=6769c50628a20ba563d22f6ac5518c2ba1774bcc" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Guide Complet du Framework Spring | Original, traduit par l'IA
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/fr/2023-02-07-spring-fr.md">PDF</a> -->

    <!-- Audio Button -->



    <!--  -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsfr2023-02-07-spring-fr.md</span> -->
      

      <!-- <span>2023-02-07-spring-fr.md</span> -->

      
        

        
          
          <a href="#" class="button">2023.02</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/spring-en" >English</option>
        <option value="/spring-zh" >中文</option>
        <option value="/spring-ja" >日本語</option>
        <option value="/spring-es" >Español</option>
        <option value="/spring-hi" >हिंदी</option>
        <option value="/spring-fr" selected>Français</option>
        <option value="/spring-de" >Deutsch</option>
        <option value="/spring-ar" >العربية</option>
        <option value="/spring-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <p><em>Cet article de blog a été rédigé avec l’assistance de ChatGPT-4o.</em></p>

<hr />

<h3 id="table-des-matières">Table des matières</h3>
<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#spring-boot-framework">Framework Spring Boot</a>
    <ul>
      <li><a href="#getting-started-with-spring-boot">Démarrer avec Spring Boot</a></li>
      <li><a href="#dependency-injection">Injection de dépendances</a></li>
      <li><a href="#events-in-spring">Événements dans Spring</a></li>
    </ul>
  </li>
  <li><a href="#data-management-with-spring">Gestion des données avec Spring</a>
    <ul>
      <li><a href="#spring-data-jdbc">Spring Data JDBC</a></li>
      <li><a href="#spring-data-jpa">Spring Data JPA</a></li>
      <li><a href="#spring-data-redis">Spring Data Redis</a></li>
      <li><a href="#transactions-and-dao-support">Transactions et support DAO</a></li>
      <li><a href="#jdbc-and-orm">JDBC et ORM</a></li>
    </ul>
  </li>
  <li><a href="#building-restful-services">Création de services RESTful</a>
    <ul>
      <li><a href="#spring-rest-clients">Clients REST Spring</a></li>
      <li><a href="#feignclient">FeignClient</a></li>
    </ul>
  </li>
  <li><a href="#email-tasks-and-scheduling">E-mail, tâches et planification</a>
    <ul>
      <li><a href="#email-support">Support des e-mails</a></li>
      <li><a href="#task-execution-and-scheduling">Exécution et planification des tâches</a></li>
    </ul>
  </li>
  <li><a href="#testing-in-spring">Tests dans Spring</a>
    <ul>
      <li><a href="#testing-with-mockito">Tests avec Mockito</a></li>
      <li><a href="#testing-with-mockmvc">Tests avec MockMvc</a></li>
    </ul>
  </li>
  <li><a href="#monitoring-and-management">Surveillance et gestion</a>
    <ul>
      <li><a href="#spring-boot-actuator">Spring Boot Actuator</a></li>
    </ul>
  </li>
  <li><a href="#advanced-topics">Sujets avancés</a>
    <ul>
      <li><a href="#spring-advice-api">API Spring Advice</a></li>
    </ul>
  </li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

<hr />

<h3 id="introduction">Introduction</h3>

<p>Spring est l’un des frameworks les plus populaires pour la création d’applications de niveau entreprise en Java. Il offre une infrastructure complète pour le développement d’applications Java. Dans ce blog, nous aborderons divers aspects de l’écosystème Spring, notamment Spring Boot, la gestion des données, la création de services RESTful, la planification, les tests, ainsi que des fonctionnalités avancées comme l’API Spring Advice.</p>

<hr />

<h3 id="framework-spring-boot">Framework Spring Boot</h3>

<h4 id="premiers-pas-avec-spring-boot">Premiers pas avec Spring Boot</h4>

<p>Spring Boot facilite la création d’applications Spring autonomes et de qualité production. Il adopte une vision orientée de la plateforme Spring et des bibliothèques tierces, vous permettant de démarrer avec un minimum de configuration.</p>

<ul>
  <li><strong>Configuration Initiale</strong> : Commencez par créer un nouveau projet Spring Boot en utilisant Spring Initializr. Vous pouvez choisir les dépendances dont vous avez besoin, telles que Spring Web, Spring Data JPA et Spring Boot Actuator.</li>
  <li><strong>Annotations</strong> : Familiarisez-vous avec les annotations clés comme <code class="language-plaintext highlighter-rouge">@SpringBootApplication</code>, qui est une combinaison de <code class="language-plaintext highlighter-rouge">@Configuration</code>, <code class="language-plaintext highlighter-rouge">@EnableAutoConfiguration</code> et <code class="language-plaintext highlighter-rouge">@ComponentScan</code>.</li>
  <li><strong>Serveur Intégré</strong> : Spring Boot utilise des serveurs intégrés comme Tomcat, Jetty ou Undertow pour exécuter votre application, ce qui signifie que vous n’avez pas besoin de déployer des fichiers WAR sur un serveur externe.</li>
</ul>

<h4 id="injection-de-dépendances">Injection de Dépendances</h4>

<p>L’injection de dépendances (Dependency Injection, DI) est un principe fondamental de Spring. Elle permet la création de composants faiblement couplés, rendant votre code plus modulaire et plus facile à tester.</p>

<ul>
  <li>
    <p>@Autowired : Cette annotation est utilisée pour injecter automatiquement des dépendances. Elle peut être appliquée aux constructeurs, aux champs et aux méthodes. La fonctionnalité d’injection de dépendances de Spring résoudra et injectera automatiquement les beans collaboratifs dans votre bean.</p>

    <p>Exemple d’injection de champ :</p>
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserService</span> <span class="o">{</span>
      
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">;</span>
      
    <span class="c1">// méthodes métier</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p>Exemple d’injection par constructeur :</p>
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserService</span> <span class="o">{</span>
      
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="nd">@Autowired</span>
      <span class="kd">public</span> <span class="nf">UserService</span><span class="o">(</span><span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">userRepository</span> <span class="o">=</span> <span class="n">userRepository</span><span class="o">;</span>
      <span class="o">}</span>
      
      <span class="c1">// méthodes métier</span>
  <span class="o">}</span>
</code></pre></div></div>

<p>Exemple d’injection de méthode :</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nd">@Component</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserService</span> <span class="o">{</span>
      
      <span class="kd">private</span> <span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">;</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="nd">@Autowired</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUserRepository</span><span class="o">(</span><span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">userRepository</span> <span class="o">=</span> <span class="n">userRepository</span><span class="o">;</span>
      <span class="o">}</span>
      
      <span class="c1">// méthodes métier</span>
  <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>@Component, @Service, @Repository : Ce sont des spécialisations de l’annotation <code class="language-plaintext highlighter-rouge">@Component</code>, utilisées pour indiquer qu’une classe est un bean Spring. Elles servent également d’indices sur le rôle que joue la classe annotée.</p>

    <ul>
      <li>
        <p>@Component : Il s’agit d’un stéréotype générique pour tout composant géré par Spring. Il peut être utilisé pour marquer n’importe quelle classe comme un bean Spring.</p>

        <p>Exemple :</p>
        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmailValidator</span> <span class="o">{</span>
        
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isValid</span><span class="o">(</span><span class="nc">String</span> <span class="n">email</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// logique de validation</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>@Service : Cette annotation est une spécialisation de <code class="language-plaintext highlighter-rouge">@Component</code> et est utilisée pour marquer une classe comme un service. Elle est généralement utilisée dans la couche de service, où vous implémentez la logique métier.</p>

        <p>Exemple :</p>
        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserService</span> <span class="o">{</span>
        
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">;</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kd">public</span> <span class="nc">User</span> <span class="nf">findUserById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">userRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="n">id</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>@Repository : Cette annotation est également une spécialisation de <code class="language-plaintext highlighter-rouge">@Component</code>. Elle est utilisée pour indiquer que la classe fournit le mécanisme de stockage, de récupération, de recherche, de mise à jour et de suppression d’objets. Elle traduit également les exceptions de persistance dans la hiérarchie des DataAccessException de Spring.</p>

    <p>Exemple :</p>
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserRepository</span> <span class="kd">extends</span> <span class="nc">JpaRepository</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="c1">// méthodes de requête personnalisées</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>Ces annotations rendent votre configuration Spring plus lisible et concise, et elles aident le framework Spring à gérer et à relier les dépendances entre les différents beans.</p>

<h4 id="événements-dans-spring">Événements dans Spring</h4>

<p>Le mécanisme d’événements de Spring vous permet de créer et d’écouter des événements d’application.</p>

<ul>
  <li>Événements personnalisés : Créez des événements personnalisés en étendant <code class="language-plaintext highlighter-rouge">ApplicationEvent</code>. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyCustomEvent</span> <span class="kd">extends</span> <span class="nc">ApplicationEvent</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">message</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nf">MyCustomEvent</span><span class="o">(</span><span class="nc">Object</span> <span class="n">source</span><span class="o">,</span> <span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="n">source</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getMessage</span><span class="o">()</span> <span class="o">{</span>
          <span class="k">return</span> <span class="n">message</span><span class="o">;</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Écouteurs d’événements : Utilisez <code class="language-plaintext highlighter-rouge">@EventListener</code> ou implémentez <code class="language-plaintext highlighter-rouge">ApplicationListener</code> pour gérer les événements. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyEventListener</span> <span class="o">{</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="nd">@EventListener</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handleMyCustomEvent</span><span class="o">(</span><span class="nc">MyCustomEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Événement personnalisé Spring reçu - "</span> <span class="o">+</span> <span class="n">event</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Publication d’événements : Publiez des événements en utilisant <code class="language-plaintext highlighter-rouge">ApplicationEventPublisher</code>. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyEventPublisher</span> <span class="o">{</span>
      
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">ApplicationEventPublisher</span> <span class="n">applicationEventPublisher</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">publishCustomEvent</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Publication d'un événement personnalisé. "</span><span class="o">);</span>
          <span class="nc">MyCustomEvent</span> <span class="n">customEvent</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyCustomEvent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">message</span><span class="o">);</span>
          <span class="n">applicationEventPublisher</span><span class="o">.</span><span class="na">publishEvent</span><span class="o">(</span><span class="n">customEvent</span><span class="o">);</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<hr />

<h3 id="gestion-des-données-avec-spring">Gestion des données avec Spring</h3>

<h4 id="spring-data-jdbc">Spring Data JDBC</h4>

<p>Spring Data JDBC offre un accès JDBC simple et efficace.</p>

<ul>
  <li>Repositories : Définissez des repositories pour effectuer des opérations CRUD. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserRepository</span> <span class="kd">extends</span> <span class="nc">CrudRepository</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>Requêtes : Utilisez des annotations comme <code class="language-plaintext highlighter-rouge">@Query</code> pour définir des requêtes personnalisées. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Query</span><span class="o">(</span><span class="s">"SELECT * FROM users WHERE username = :username"</span><span class="o">)</span>
<span class="nc">User</span> <span class="nf">findByUsername</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="spring-data-jpa">Spring Data JPA</h4>

<p>Spring Data JPA facilite la mise en œuvre de référentiels basés sur JPA.</p>

<ul>
  <li><strong>Mapping des Entités</strong> : Définissez les entités en utilisant <code class="language-plaintext highlighter-rouge">@Entity</code> et mappez-les aux tables de la base de données. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">username</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">password</span><span class="o">;</span>
    <span class="c1">// getters et setters</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>Repositories : Créez des interfaces de repository en étendant <code class="language-plaintext highlighter-rouge">JpaRepository</code>. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserRepository</span> <span class="kd">extends</span> <span class="nc">JpaRepository</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>Méthodes de requête : Utilisez des méthodes de requête pour effectuer des opérations sur la base de données. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;</span> <span class="nf">findByUsername</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="spring-data-redis">Spring Data Redis</h4>

<p>Spring Data Redis fournit l’infrastructure pour l’accès aux données basé sur Redis.</p>

<ul>
  <li>RedisTemplate : Utilisez <code class="language-plaintext highlighter-rouge">RedisTemplate</code> pour interagir avec Redis. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="nc">RedisTemplate</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">redisTemplate</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">find</span><span class="o">(</span><span class="nc">String</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Repositories : Créez des repositories Redis en utilisant <code class="language-plaintext highlighter-rouge">@Repository</code>. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">RedisRepository</span> <span class="kd">extends</span> <span class="nc">CrudRepository</span><span class="o">&lt;</span><span class="nc">RedisEntity</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="transactions-et-support-dao">Transactions et Support DAO</h4>

<p>Spring simplifie la gestion des transactions et le support des DAO (Data Access Object).</p>

<ul>
  <li>Gestion des transactions : Utilisez <code class="language-plaintext highlighter-rouge">@Transactional</code> pour gérer les transactions. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Transactional</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">saveUser</span><span class="o">(</span><span class="nc">User</span> <span class="n">user</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">userRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>Modèle DAO : Implémentez le modèle DAO pour séparer la logique de persistance. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserDao</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">JdbcTemplate</span> <span class="n">jdbcTemplate</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="kd">public</span> <span class="nc">User</span> <span class="nf">findById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">return</span> <span class="n">jdbcTemplate</span><span class="o">.</span><span class="na">queryForObject</span><span class="o">(</span><span class="s">"SELECT * FROM users WHERE id = ?"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">[]{</span><span class="n">id</span><span class="o">},</span> <span class="k">new</span> <span class="nc">UserRowMapper</span><span class="o">());</span>     
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<h4 id="jdbc-et-orm">JDBC et ORM</h4>

<p>Spring offre un support complet pour JDBC et ORM (Object-Relational Mapping).</p>

<ul>
  <li>JdbcTemplate : Simplifiez les opérations JDBC avec <code class="language-plaintext highlighter-rouge">JdbcTemplate</code>. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="nc">JdbcTemplate</span> <span class="n">jdbcTemplate</span><span class="o">;</span>
</code></pre></div>    </div>

    <p>public List<User> findAll() {
    return jdbcTemplate.query("SELECT * FROM users", new UserRowMapper());
}
```</User></p>
  </li>
  <li>Hibernate : Intégrez Hibernate avec Spring pour la prise en charge de l’ORM. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">username</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">password</span><span class="o">;</span>
    <span class="c1">// getters et setters</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h3 id="création-de-services-restful">Création de services RESTful</h3>

<h4 id="clients-rest-avec-spring">Clients REST avec Spring</h4>

<p>Spring facilite la création de clients RESTful.</p>

<ul>
  <li>RestTemplate : Utilisez <code class="language-plaintext highlighter-rouge">RestTemplate</code> pour effectuer des requêtes HTTP. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="nc">RestTemplate</span> <span class="n">restTemplate</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getUserInfo</span><span class="o">(</span><span class="nc">String</span> <span class="n">userId</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">restTemplate</span><span class="o">.</span><span class="na">getForObject</span><span class="o">(</span><span class="s">"https://api.example.com/users/"</span> <span class="o">+</span> <span class="n">userId</span><span class="o">,</span> <span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>WebClient : Utilisez le <code class="language-plaintext highlighter-rouge">WebClient</code> réactif pour des requêtes non bloquantes. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="nc">WebClient</span><span class="o">.</span><span class="na">Builder</span> <span class="n">webClientBuilder</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="nc">Mono</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getUserInfo</span><span class="o">(</span><span class="nc">String</span> <span class="n">userId</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">webClientBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">()</span>
              <span class="o">.</span><span class="na">get</span><span class="o">()</span>
              <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="s">"https://api.example.com/users/"</span> <span class="o">+</span> <span class="n">userId</span><span class="o">)</span>
              <span class="o">.</span><span class="na">retrieve</span><span class="o">()</span>
              <span class="o">.</span><span class="na">bodyToMono</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div></div>

<h4 id="feignclient">FeignClient</h4>

<p>Feign est un client de service web déclaratif.</p>

<ul>
  <li>Configuration : Ajoutez Feign à votre projet et créez des interfaces annotées avec <code class="language-plaintext highlighter-rouge">@FeignClient</code>. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@FeignClient</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"user-service"</span><span class="o">,</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.example.com"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserServiceClient</span> <span class="o">{</span>
    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/users/{id}"</span><span class="o">)</span>
    <span class="nc">String</span> <span class="nf">getUserInfo</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">userId</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>Configuration : Personnalisez les clients Feign avec des intercepteurs et des décodeurs d’erreurs. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="nc">RequestInterceptor</span> <span class="nf">requestInterceptor</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">requestTemplate</span> <span class="o">-&gt;</span> <span class="n">requestTemplate</span><span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer token"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h3 id="e-mail-tâches-et-planification">E-mail, Tâches et Planification</h3>

<h4 id="assistance-par-e-mail">Assistance par e-mail</h4>

<p>Spring offre une prise en charge pour l’envoi d’e-mails.</p>

<ul>
  <li>JavaMailSender : Utilisez <code class="language-plaintext highlighter-rouge">JavaMailSender</code> pour envoyer des e-mails. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="nc">JavaMailSender</span> <span class="n">mailSender</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sendEmail</span><span class="o">(</span><span class="nc">String</span> <span class="n">to</span><span class="o">,</span> <span class="nc">String</span> <span class="n">subject</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">SimpleMailMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleMailMessage</span><span class="o">();</span>
      <span class="n">message</span><span class="o">.</span><span class="na">setTo</span><span class="o">(</span><span class="n">to</span><span class="o">);</span>
      <span class="n">message</span><span class="o">.</span><span class="na">setSubject</span><span class="o">(</span><span class="n">subject</span><span class="o">);</span>
      <span class="n">message</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">body</span><span class="o">);</span>
      <span class="n">mailSender</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>MimeMessage : Créez des e-mails riches avec des pièces jointes et du contenu HTML. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="nc">JavaMailSender</span> <span class="n">mailSender</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sendRichEmail</span><span class="o">(</span><span class="nc">String</span> <span class="n">to</span><span class="o">,</span> <span class="nc">String</span> <span class="n">subject</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="nc">File</span> <span class="n">attachment</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">MessagingException</span> <span class="o">{</span>
      <span class="nc">MimeMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">mailSender</span><span class="o">.</span><span class="na">createMimeMessage</span><span class="o">();</span>
      <span class="nc">MimeMessageHelper</span> <span class="n">helper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MimeMessageHelper</span><span class="o">(</span><span class="n">message</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
      <span class="n">helper</span><span class="o">.</span><span class="na">setTo</span><span class="o">(</span><span class="n">to</span><span class="o">);</span>
      <span class="n">helper</span><span class="o">.</span><span class="na">setSubject</span><span class="o">(</span><span class="n">subject</span><span class="o">);</span>
      <span class="n">helper</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">body</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
      <span class="n">helper</span><span class="o">.</span><span class="na">addAttachment</span><span class="o">(</span><span class="n">attachment</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span> <span class="n">attachment</span><span class="o">);</span>
      <span class="n">mailSender</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
  <span class="o">}</span>
</code></pre></div></div>

<h4 id="exécution-et-planification-des-tâches">Exécution et Planification des Tâches</h4>

<p>La prise en charge de l’exécution et de la planification des tâches de Spring facilite l’exécution des tâches.</p>

<ul>
  <li>@Scheduled : Planifiez des tâches avec <code class="language-plaintext highlighter-rouge">@Scheduled</code>. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Scheduled</span><span class="o">(</span><span class="n">fixedRate</span> <span class="o">=</span> <span class="mi">5000</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">performTask</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Tâche planifiée exécutée toutes les 5 secondes"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>Tâches asynchrones : Exécutez des tâches de manière asynchrone avec <code class="language-plaintext highlighter-rouge">@Async</code>. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Async</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">performAsyncTask</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Tâche asynchrone en cours d'exécution en arrière-plan"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h3 id="tests-dans-spring">Tests dans Spring</h3>

<h4 id="tests-avec-mockito">Tests avec Mockito</h4>

<p>Mockito est une bibliothèque de simulation puissante pour les tests.</p>

<ul>
  <li>Simulation des Dépendances : Utilisez <code class="language-plaintext highlighter-rouge">@Mock</code> et <code class="language-plaintext highlighter-rouge">@InjectMocks</code> pour créer des objets simulés. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RunWith</span><span class="o">(</span><span class="nc">MockitoJUnitRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserServiceTest</span> <span class="o">{</span>
    <span class="nd">@Mock</span>
    <span class="kd">private</span> <span class="nc">UserRepository</span> <span class="n">userRepository</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@InjectMocks</span>
<span class="kd">private</span> <span class="nc">UserService</span> <span class="n">userService</span><span class="o">;</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testFindUserById</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">();</span>
    <span class="n">user</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>
    <span class="nc">Mockito</span><span class="o">.</span><span class="na">when</span><span class="o">(</span><span class="n">userRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="mi">1L</span><span class="o">)).</span><span class="na">thenReturn</span><span class="o">(</span><span class="nc">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">user</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>          <span class="nc">User</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userService</span><span class="o">.</span><span class="na">findUserById</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>
          <span class="n">assertNotNull</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
          <span class="n">assertEquals</span><span class="o">(</span><span class="mi">1L</span><span class="o">,</span> <span class="n">result</span><span class="o">.</span><span class="na">getId</span><span class="o">().</span><span class="na">longValue</span><span class="o">());</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Vérification du comportement : Vérifiez les interactions avec les objets simulés. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Mockito</span><span class="o">.</span><span class="na">verify</span><span class="o">(</span><span class="n">userRepository</span><span class="o">,</span> <span class="n">times</span><span class="o">(</span><span class="mi">1</span><span class="o">)).</span><span class="na">findById</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="tester-avec-mockmvc">Tester avec MockMvc</h4>

<p>MockMvc permet de tester les contrôleurs Spring MVC.</p>

<ul>
  <li>Configuration : Configurez MockMvc dans vos classes de test. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RunWith</span><span class="o">(</span><span class="nc">SpringRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@WebMvcTest</span><span class="o">(</span><span class="nc">UserController</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserControllerTest</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">MockMvc</span> <span class="n">mockMvc</span><span class="o">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetUser</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="n">mockMvc</span><span class="o">.</span><span class="na">perform</span><span class="o">(</span><span class="n">get</span><span class="o">(</span><span class="s">"/users/1"</span><span class="o">))</span>
        <span class="o">.</span><span class="na">andExpect</span><span class="o">(</span><span class="n">status</span><span class="o">().</span><span class="na">isOk</span><span class="o">())</span>
        <span class="o">.</span><span class="na">andExpect</span><span class="o">(</span><span class="n">content</span><span class="o">().</span><span class="na">contentType</span><span class="o">(</span><span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON</span><span class="o">))</span>
        <span class="o">.</span><span class="na">andExpect</span><span class="o">(</span><span class="n">jsonPath</span><span class="o">(</span><span class="s">"$.id"</span><span class="o">).</span><span class="na">value</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><strong>Constructeurs de requêtes</strong> : Utilisez des constructeurs de requêtes pour simuler des requêtes HTTP. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mockMvc</span><span class="o">.</span><span class="na">perform</span><span class="o">(</span><span class="n">post</span><span class="o">(</span><span class="s">"/users"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">contentType</span><span class="o">(</span><span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON</span><span class="o">)</span>
    <span class="o">.</span><span class="na">content</span><span class="o">(</span><span class="s">"{\"username\":\"john\",\"password\":\"secret\"}"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">andExpect</span><span class="o">(</span><span class="n">status</span><span class="o">().</span><span class="na">isCreated</span><span class="o">());</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h3 id="surveillance-et-gestion">Surveillance et Gestion</h3>

<h4 id="spring-boot-actuator">Spring Boot Actuator</h4>

<p>Spring Boot Actuator fournit des fonctionnalités prêtes pour la production pour surveiller et gérer votre application.</p>

<ul>
  <li>Endpoints : Utilisez des endpoints comme <code class="language-plaintext highlighter-rouge">/actuator/health</code> et <code class="language-plaintext highlighter-rouge">/actuator/metrics</code> pour surveiller la santé et les métriques de l’application. Par exemple :
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:8080/actuator/health
</code></pre></div>    </div>
  </li>
  <li>Points de terminaison personnalisés : Créez des points de terminaison d’actuateur personnalisés. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/actuator"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomEndpoint</span> <span class="o">{</span>
    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/custom"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="nf">customEndpoint</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">response</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"status"</span><span class="o">,</span> <span class="s">"Point de terminaison d'actuateur personnalisé"</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h3 id="sujets-avancés">Sujets avancés</h3>

<h4 id="api-de-conseils-spring">API de conseils Spring</h4>

<p>L’API Advice de Spring offre des fonctionnalités avancées de programmation orientée aspect (AOP).</p>

<ul>
  <li>@Aspect : Définissez des aspects en utilisant <code class="language-plaintext highlighter-rouge">@Aspect</code>. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Aspect</span>
<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LoggingAspect</span> <span class="o">{</span>
    <span class="nd">@Before</span><span class="o">(</span><span class="s">"execution(* com.example.service.*.*(..))"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">logBefore</span><span class="o">(</span><span class="nc">JoinPoint</span> <span class="n">joinPoint</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Avant la méthode : "</span> <span class="o">+</span> <span class="n">joinPoint</span><span class="o">.</span><span class="na">getSignature</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="nd">@After</span><span class="o">(</span><span class="s">"execution(* com.example.service.*.*(..))"</span><span class="o">)</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">logAfter</span><span class="o">(</span><span class="nc">JoinPoint</span> <span class="n">joinPoint</span><span class="o">)</span> <span class="o">{</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Après la méthode : "</span> <span class="o">+</span> <span class="n">joinPoint</span><span class="o">.</span><span class="na">getSignature</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><strong>Points de jonction (Join Points)</strong> : Utilisez des points de jonction pour définir où les aspects doivent être appliqués. Par exemple :
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Pointcut</span><span class="o">(</span><span class="s">"execution(* com.example.service.*.*(..))"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">serviceMethods</span><span class="o">()</span> <span class="o">{}</span>
</code></pre></div>    </div>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nd">@Around</span><span class="o">(</span><span class="s">"serviceMethods()"</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">logAround</span><span class="o">(</span><span class="nc">ProceedingJoinPoint</span> <span class="n">joinPoint</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Throwable</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Avant la méthode : "</span> <span class="o">+</span> <span class="n">joinPoint</span><span class="o">.</span><span class="na">getSignature</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
      <span class="nc">Object</span> <span class="n">result</span> <span class="o">=</span> <span class="n">joinPoint</span><span class="o">.</span><span class="na">proceed</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Après la méthode : "</span> <span class="o">+</span> <span class="n">joinPoint</span><span class="o">.</span><span class="na">getSignature</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
      <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
  <span class="o">}</span>
</code></pre></div></div>

<hr />

<h3 id="conclusion">Conclusion</h3>

<p>Spring est un framework puissant et polyvalent qui peut simplifier le développement d’applications de niveau entreprise. En tirant parti des fonctionnalités de Spring Boot, Spring Data, Spring REST et d’autres projets Spring, les développeurs peuvent construire des applications robustes, évolutives et maintenables de manière efficace. Avec l’ajout d’outils comme Spring Boot Actuator et des frameworks de test, vous pouvez vous assurer que vos applications sont prêtes pour la production et bien testées.</p>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-fr" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
