<!DOCTYPE html>
<html lang=" en-US">

<head>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Zhiwei Li"
    href="https://lzwjava.github.io/feeds/feed.xml" />

  <title>Conda の問題</title>

  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' 
          data-cf-beacon='{"token": "70fc8c466cc1445098b3fc6f209c22c2"}'>
  </script>

  <!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-66656236-1');
  </script>
   -->
  <meta charset="UTF-8">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Conda の問題 | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Conda の問題" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="ja" />
<meta name="description" content="問題" />
<meta property="og:description" content="問題" />
<link rel="canonical" href="https://lzwjava.github.io/conda-ja" />
<meta property="og:url" content="https://lzwjava.github.io/conda-ja" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-02-01T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Conda の問題" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zhiwei Li"},"dateModified":"2025-02-01T00:00:00+08:00","datePublished":"2025-02-01T00:00:00+08:00","description":"問題","headline":"Conda の問題","mainEntityOfPage":{"@type":"WebPage","@id":"https://lzwjava.github.io/conda-ja"},"url":"https://lzwjava.github.io/conda-ja"}</script>
<!-- End Jekyll SEO tag -->


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Facebook Meta Tags -->
  <!-- <meta property="og:url" content="https://lzwjava.github.io"> -->
  <meta property="og:type" content="website">
  <!-- <meta property="og:title" content="Zhiwei Li's Blog">
  <meta property="og:description" content="A personal blog featuring programming insights and projects."> -->
  
  
  
  
  
  
  
  
  <meta property="og:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@lzwjava">
  <meta property="twitter:domain" content="lzwjava.github.io">
  <!-- <meta property="twitter:url" content="https://lzwjava.github.io"> -->
  <!-- <meta name="twitter:title" content="Zhiwei Li's Blog">
  <meta name="twitter:description" content="A personal blog featuring programming insights and projects."> -->
  <meta name="twitter:image" content="https://lzwjava.github.io/assets/images/og/og4.jpg">


  <link rel="stylesheet" href="/assets/css/style.css?v=0500cfecb335b2a1ef78ef53c43a51b0352a7daa">

  <!-- for mathjax support -->
  <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['\\(','\\)'], ['$', '$']],
            displayMath: [ ['$$','$$'], ['\\[','\\]']],
            processEscapes: false
          },
          "HTML-CSS": { linebreaks: { automatic: true } },
          "CommonHTML": {
            linebreaks: { automatic: true }
          },
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- <script src="/assets/js/donatePopup.js?v=0500cfecb335b2a1ef78ef53c43a51b0352a7daa" defer></script> -->
</head>

<body>
  <main id="content" class="main-content post-content" role="main">
  

  

  


  <div class="title-row post-title-row">
    <h2 class="title post-title">
       Conda の問題 | オリジナル、AI翻訳
    </h2>
  </div>

  <div class="button-container">
    <a href="/" class="button left-button">Home</a>

    <!-- PDF Button -->
     
    <!-- <a href="#" id="downloadPdfButton" class="button pdf-button" data-file-path="_posts/ja/2025-02-01-conda-ja.md">PDF</a> -->

    <!-- Audio Button -->



    <!-- 
    <a href="#" id="playAudioButton" class="button audio-button" data-file-path="_posts/ja/2025-02-01-conda-ja.md">Audio</a>
     -->

        <!-- Date Button -->
    
      
      <!-- <span>_postsja2025-02-01-conda-ja.md</span> -->
      

      <!-- <span>2025-02-01-conda-ja.md</span> -->

      
        

        
          
          <a href="#" class="button">2025.02</a>
        

      
    

    <button id="themeTogglePost" class="button icon-button" aria-label="Toggle Theme" style="float: right;margin-bottom: 5px;">
      <!-- theme-icons.html -->
<svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <circle cx="12" cy="12" r="5"></circle>
    <line x1="12" y1="1" x2="12" y2="3"></line>
    <line x1="12" y1="21" x2="12" y2="23"></line>
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
    <line x1="1" y1="12" x2="3" y2="12"></line>
    <line x1="21" y1="12" x2="23" y2="12"></line>
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
</svg>

<svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: none;">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"></path>
</svg>
    </button>    

    <!-- Language Select Section -->
    
    
    
    
    
    
    

    
    <select id="languageSelect" class="button right-button">
        
        <option value="/conda-en" >English</option>
        <option value="/conda-zh" >中文</option>
        <option value="/conda-ja" selected>日本語</option>
        <option value="/conda-es" >Español</option>
        <option value="/conda-hi" >हिंदी</option>
        <option value="/conda-fr" >Français</option>
        <option value="/conda-de" >Deutsch</option>
        <option value="/conda-ar" >العربية</option>
        <option value="/conda-hant" >繁體中文</option>
    </select>
  </div>

  <!-- Audio player for text-to-speech -->
  <div class="audio-container">
    <audio id="audioPlayer" controls loop style="display:none;">
      <source id="audioSource" src="" type="audio/mp3">
      Your browser does not support the audio element.
    </audio>
  </div>

  <hr>

  <h2 id="問題">問題</h2>

<p>このリンクをご覧ください: <a href="https://www.reddit.com/r/MachineLearning/comments/myl8yn/d_is_anaconda_worth_the_trouble/">https://www.reddit.com/r/MachineLearning/comments/myl8yn/d_is_anaconda_worth_the_trouble/</a>.</p>

<p>私はcondaで問題を経験し、他の人も同様の問題について議論していました。</p>

<p>時間が経つと、異なる環境設定に気づかなくなります。そのため、他を削除する必要がありました。今では主に <code class="language-plaintext highlighter-rouge">Python 3.10.9</code> を使用し、時々 <code class="language-plaintext highlighter-rouge">Python 3.11.11</code> を使用します。しかし、ほとんど <code class="language-plaintext highlighter-rouge">Python 3.11.11</code> すら使いません。私には多くの環境は必要ありません。現在研究や学習中のものを実行するために一つまたは二つの環境があれば十分です。</p>

<p>シンプルな解決策を好みます。もし二つのプロジェクトが相互に干渉する場合、私は一つを使用して他の実行を諦めます。</p>

<p>例えば、次のような問題に直面するのは本当に面倒です。<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda config <span class="nt">--set</span> proxy_servers.http <span class="nv">$HTTP_PROXY</span>
conda config <span class="nt">--set</span> proxy_servers.https <span class="nv">$HTTP_PROXY</span>
</code></pre></div></div>

<p>最初、condaにプロキシを設定することで速度が上がるように思えたが、最終的には削除しました。</p>

<h2 id="削除">削除</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm</span> <span class="nt">-rf</span> ~/anaconda3
<span class="nb">rm</span> <span class="nt">-rf</span> ~/.condarc
<span class="nb">rm</span> <span class="nt">-rf</span> ~/Library/Caches/pip
<span class="c"># ~/.zprofileを更新</span>
<span class="c"># ~/.bash_profileを更新</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">~/.bash_profile</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;
# !! このブロック内の内容は 'conda init' によって管理されます !!
__conda_setup="$('/Users/lzwjava/anaconda3/bin/conda' 'shell.bash' 'hook' 2&gt; /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "/Users/lzwjava/anaconda3/etc/profile.d/conda.sh" ]; then
        . "/Users/lzwjava/anaconda3/etc/profile.d/conda.sh"
    else
        export PATH="/Users/lzwjava/anaconda3/bin:$PATH"
    fi
fi
unset __conda_setup
# &lt;&lt;&lt; conda initialize &lt;&lt;&lt;
</code></pre></div></div>

<p>それでも表示されました。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% which conda
conda <span class="o">()</span> <span class="o">{</span>
	<span class="nb">local </span><span class="nv">cmd</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="p">-__missing__</span><span class="k">}</span><span class="s2">"</span>
	<span class="k">case</span> <span class="s2">"</span><span class="nv">$cmd</span><span class="s2">"</span> <span class="k">in</span>
		<span class="o">(</span>activate <span class="p">|</span> deactivate<span class="p">)</span> __conda_activate <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> <span class="p">;;</span>
		<span class="o">(</span><span class="nb">install</span> <span class="p">|</span> update <span class="p">|</span> upgrade <span class="p">|</span> remove <span class="p">|</span> uninstall<span class="p">)</span> __conda_exe <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> <span class="o">||</span> <span class="k">return
			</span>__conda_reactivate <span class="p">;;</span>
		<span class="o">(</span><span class="k">*</span><span class="p">)</span> __conda_exe <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> <span class="p">;;</span>
	<span class="k">esac</span>
<span class="o">}</span>
</code></pre></div></div>

<p>iTerm2を再起動した後、HomebrewのPythonインストールに切り替えることにしました。複数のPythonインストールがコンピュータにあるようでした。以下のように既に6つありました。</p>

<ul>
  <li>~/Library/Python/3.9</li>
  <li>~/Library/Python/3.11</li>
  <li>/opt/homebrew/lib/python3.11</li>
  <li>/opt/homebrew/lib/python3.12</li>
  <li>/opt/homebrew/lib/python3.13</li>
  <li>/opt/homebrew/lib/python3.9</li>
</ul>

<p>コマンドで削除します、<code class="language-plaintext highlighter-rouge">brew uninstall python@3.11</code>。</p>

<p>重要なログ。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>% brew uninstall python@3.13
Error: /opt/homebrew/Cellar/python@3.13/3.13.1 のアンインストールを拒否しました
because it is required by cairo, docutils, ffmpeg, ghostscript, glib, gradle, harfbuzz, imagemagick, libass, libheif, liblqr, maven, openjdk, openjdk@17, pango, poppler, tesseract, wireshark and yt-dlp, which are currently installed.
You can override this and force removal with:
  brew uninstall <span class="nt">--ignore-dependencies</span> python@3.13
</code></pre></div></div>

<p>Pipのログ:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 <span class="nb">install</span> <span class="nt">-r</span> requirements.txt <span class="nt">--break-system-packages</span>
pip3 <span class="nb">install</span> <span class="nt">--upgrade</span> pip <span class="nt">--break-system-packages</span>
</code></pre></div></div>

<h2 id="参照">参照</h2>

<p>```bash</p>
<ul>
  <li>defaults/osx-arm64::markdown==3.4.1=py310hca03da5_0</li>
  <li>defaults/osx-arm64::numpydoc==1.5.0=py310hca03da5_0</li>
  <li>
    <p>defaults/noarch::tldextract==3.2.0=pyhd3eb1b0_0
failed with initial frozen solve. Retrying with flexible solve.
Solving environment: failed with repodata from current_repodata.json, will retry with next repodata source.
Collecting package metadata (repodata.json): / WARNING conda.models.version:get_matcher(546): Using .* with relational operator is superfluous and deprecated and will be removed in a future version of conda. Your spec was 1.8.0.<em>, but conda is ignoring the .</em> and treating it as 1.8.0
WARNING conda.models.version:get_matcher(546): Using .* with relational operator is superfluous and deprecated and will be removed in a future version of conda. Your spec was 1.9.0.<em>, but conda is ignoring the .</em> and treating it as 1.9.0
done
Solving environment: /
The environment is inconsistent, please check the package plan carefully
The following packages are causing the inconsistency:</p>
  </li>
  <li>defaults/osx-arm64::tabulate==0.8.10=py310hca03da5_0</li>
  <li>defaults/osx-arm64::cymem==2.0.6=py310hc377ac9_0</li>
  <li>defaults/noarch::conda-pack==0.6.0=pyhd3eb1b0_0
  # …</li>
  <li>defaults/noarch::pandocfilters==1.5.0=pyhd3eb1b0_0</li>
  <li>defaults/osx-arm64::markdown==3.4.1=py310hca03da5_0</li>
  <li>defaults/osx-arm64::numpydoc==1.5.0=py310hca03da5_0</li>
  <li>defaults/noarch::tldextract==3.2.0=pyhd3eb1b0_0
-/ ^R
<br />
<br />
/
-
/
-
<br />
done</li>
</ul>

<p>==&gt; WARNING: A newer version of conda exists. &lt;==
  current version: 23.3.1
  latest version: 25.1.1</p>

<p>Please update conda by running</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ conda update -n base -c defaults conda
</code></pre></div></div>

<p>Or to minimize the number of packages updated during conda update use</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> conda install conda=25.1.1
</code></pre></div></div>

<h2 id="パッケージ計画">パッケージ計画</h2>

<p>environment location: /Users/lzwjava/anaconda3</p>

<p>added / updated specs:
    - ipykernel</p>

<p>以下のパッケージがダウンロードされます:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package                    |            build
---------------------------|-----------------
attrs-25.1.0               |     pyh71513ae_0          55 KB  conda-forge
bcrypt-3.2.0               |  py310h80987f9_2          37 KB
ca-certificates-2025.1.31  |       hf0a4a13_0         155 KB  conda-forge
certifi-2024.12.14         |     pyhd8ed1ab_0         158 KB  conda-forge
charset-normalizer-2.1.1   |     pyhd8ed1ab_0          36 KB  conda-forge
click-8.1.8                |     pyh707e725_0          83 KB  conda-forge
fsspec-2024.12.0           |     pyhd8ed1ab_0         135 KB  conda-forge
huggingface_hub-0.27.1     |     pyhd8ed1ab_0         272 KB  conda-forge
jinja2-3.1.5               |     pyhd8ed1ab_0         110 KB  conda-forge
jsonpatch-1.33             |     pyhd8ed1ab_1          17 KB  conda-forge
pandas-2.1.4               |  py310h46d7db6_0        11.8 MB
pyjwt-2.10.1               |     pyhd8ed1ab_0          25 KB  conda-forge
pyrsistent-0.20.0          |  py310h80987f9_1         100 KB
python-tzdata-2025.1       |     pyhd8ed1ab_0         140 KB  conda-forge
pytz-2025.1                |     pyhd8ed1ab_0         182 KB  conda-forge
pyyaml-6.0.2               |  py310h80987f9_0         176 KB
sniffio-1.3.1              |     pyhd8ed1ab_1          15 KB  conda-forge
tenacity-9.0.0             |     pyhd8ed1ab_1          24 KB  conda-forge
tokenizers-0.13.2          |  py310h3dd52b7_1         2.9 MB
tqdm-4.67.1                |     pyhd8ed1ab_1          87 KB  conda-forge
websocket-client-1.8.0     |     pyhd8ed1ab_1          46 KB  conda-forge
------------------------------------------------------------
                                       Total:        16.6 MB
</code></pre></div></div>

<p>以下の新しいパッケージがインストールされます:</p>

<p>attrs              conda-forge/noarch::attrs-25.1.0-pyh71513ae_0
  bcrypt             pkgs/main/osx-arm64::bcrypt-3.2.0-py310h80987f9_2
  certifi            conda-forge/noarch::certifi-2024.12.14-pyhd8ed1ab_0
  charset-normalizer conda-forge/noarch::charset-normalizer-2.1.1-pyhd8ed1ab_0
  click              conda-forge/noarch::click-8.1.8-pyh707e725_0
  fsspec             conda-forge/noarch::fsspec-2024.12.0-pyhd8ed1ab_0
  huggingface_hub    conda-forge/noarch::huggingface_hub-0.27.1-pyhd8ed1ab_0
  importlib-metadata pkgs/main/osx-arm64::importlib-metadata-4.11.3-py310hca03da5_0
  jinja2             conda-forge/noarch::jinja2-3.1.5-pyhd8ed1ab_0
  jsonpatch          conda-forge/noarch::jsonpatch-1.33-pyhd8ed1ab_1
  pandas             pkgs/main/osx-arm64::pandas-2.1.4-py310h46d7db6_0
  pyjwt              conda-forge/noarch::pyjwt-2.10.1-pyhd8ed1ab_0
  pyrsistent         pkgs/main/osx-arm64::pyrsistent-0.20.0-py310h80987f9_1
  python-tzdata      conda-forge/noarch::python-tzdata-2025.1-pyhd8ed1ab_0
  pytz               conda-forge/noarch::pytz-2025.1-pyhd8ed1ab_0
  pyyaml             pkgs/main/osx-arm64::pyyaml-6.0.2-py310h80987f9_0
  sniffio            conda-forge/noarch::sniffio-1.3.1-pyhd8ed1ab_1
  tenacity           conda-forge/noarch::tenacity-9.0.0-pyhd8ed1ab_1
  tokenizers         pkgs/main/osx-arm64::tokenizers-0.13.2-py310h3dd52b7_1
  tqdm               conda-forge/noarch::tqdm-4.67.1-pyhd8ed1ab_1
  typer              conda-forge/noarch::typer-0.7.0-pyhd8ed1ab_0
  typing_extensions  conda-forge/noarch::typing_extensions-4.7.1-pyha770c72_0
  urllib3            conda-forge/noarch::urllib3-1.26.15-pyhd8ed1ab_0
  websocket-client   conda-forge/noarch::websocket-client-1.8.0-pyhd8ed1ab_1</p>

<p>以下のパッケージが更新されます:</p>

<p>ca-certificates                      2023.7.22-hf0a4a13_0 –&gt; 2025.1.31-hf0a4a13_0
  openssl                                 1.1.1u-h53f4e23_0 –&gt; 1.1.1w-h53f4e23_0</p>

<p>Proceed ([y]/n)?</p>

<p>パッケージのダウンロードと展開</p>

<p>トランザクションの準備: 完了
トランザクションの検証: 失敗</p>

<p>RemoveError: ‘jsonpatch’ is a dependency of conda and cannot be removed from
conda’s operating environment.
RemoveError: ‘tqdm’ is a dependency of conda and cannot be removed from
conda’s operating environment.</p>
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>ログは以下に示します。 <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>


  <hr>

  <div class="button-container">
    <a href="/" class="button left-button">Back</a>


    

    
    
    <a href="/donate-ja" class="button right-button">Donate</a>
  </div>
</main>

<script src="/assets/js/dark-mode.js"></script>
<script src="/assets/js/audio.js" defer></script>
<script src="/assets/js/pdf.js" defer></script>
<script>
    document.getElementById('languageSelect').addEventListener('change', function() {
        var selectedValue = this.value;
        if (selectedValue) {
            window.location.href = selectedValue;
        }
    });
</script>

</body>

</html>
